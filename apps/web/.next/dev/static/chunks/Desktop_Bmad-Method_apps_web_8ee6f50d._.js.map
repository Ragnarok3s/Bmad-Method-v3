{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ntype CardProps = PropsWithChildren<{\r\n  title?: string;\r\n  description?: string;\r\n  accent?: 'success' | 'warning' | 'critical' | 'info';\r\n}>;\r\n\r\nconst accentStyles: Record<NonNullable<CardProps['accent']>, string> = {\r\n  success: 'var(--color-success)',\r\n  warning: 'var(--color-calm-gold)',\r\n  critical: 'var(--color-coral)',\r\n  info: 'var(--color-soft-aqua)'\r\n};\r\n\r\nexport function Card({ title, description, accent, children }: CardProps) {\r\n  return (\r\n    <article className=\"card\" data-accent={accent ?? 'none'}>\r\n      {(title || description) && (\r\n        <header>\r\n          {title && <h3>{title}</h3>}\r\n          {description && <p className=\"card-description\">{description}</p>}\r\n        </header>\r\n      )}\r\n      <div>{children}</div>\r\n      <style jsx>{`\r\n        .card {\r\n          position: relative;\r\n          background: var(--color-neutral-0);\r\n          border-radius: var(--radius-md);\r\n          padding: var(--space-5);\r\n          box-shadow: var(--shadow-card);\r\n          border: 1px solid var(--app-border-subtle);\r\n          display: grid;\r\n          gap: var(--space-5);\r\n        }\r\n        .card::before {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 0;\r\n          border-radius: calc(var(--radius-md) - 1px);\r\n          border: 1px solid transparent;\r\n          pointer-events: none;\r\n        }\r\n        .card[data-accent='success']::before {\r\n          border-top-color: ${accentStyles.success};\r\n        }\r\n        .card[data-accent='warning']::before {\r\n          border-top-color: ${accentStyles.warning};\r\n        }\r\n        .card[data-accent='critical']::before {\r\n          border-top-color: ${accentStyles.critical};\r\n        }\r\n        .card[data-accent='info']::before {\r\n          border-top-color: ${accentStyles.info};\r\n        }\r\n        header h3 {\r\n          margin: 0;\r\n          font-size: 1.125rem;\r\n          color: var(--color-neutral-3);\r\n          letter-spacing: -0.01em;\r\n        }\r\n        .card-description {\r\n          margin: var(--space-2) 0 0;\r\n          color: var(--color-neutral-2);\r\n          line-height: 1.5;\r\n        }\r\n        @media (max-width: 768px) {\r\n          .card {\r\n            padding: var(--space-4);\r\n          }\r\n        }\r\n      `}</style>\r\n    </article>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAUA,MAAM,eAAiE;IACrE,SAAS;IACT,SAAS;IACT,UAAU;IACV,MAAM;AACR;AAEO,SAAS,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAa;IACtE,qBACE,0NAAC;QAAyB,eAAa,UAAU;iDAA9B;;YAChB,CAAC,SAAS,WAAW,mBACpB,0NAAC;;;oBACE,uBAAS,0NAAC;;kCAAI;;;;;;oBACd,6BAAe,0NAAC;iEAAY;kCAAoB;;;;;;;;;;;;0BAGrD,0NAAC;;0BAAK;;;;;;;;4eAqBkB,aAAa,OAAO,2EAGpB,aAAa,OAAO,4EAGpB,aAAa,QAAQ,wEAGrB,aAAa,IAAI;;;;;;;;AAqB/C;KA5DgB","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/SectionHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface SectionHeaderProps extends PropsWithChildren {\r\n  subtitle?: string;\r\n  actions?: React.ReactNode;\r\n}\r\n\r\nexport function SectionHeader({ children, subtitle, actions }: SectionHeaderProps) {\r\n  return (\r\n    <header className=\"section-header\">\r\n      <div>\r\n        <h2>{children}</h2>\r\n        {subtitle && <p>{subtitle}</p>}\r\n      </div>\r\n      {actions && <div className=\"section-actions\">{actions}</div>}\r\n      <style jsx>{`\r\n        .section-header {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: var(--space-3);\r\n          align-items: flex-end;\r\n          justify-content: space-between;\r\n        }\r\n        h2 {\r\n          margin: 0;\r\n          color: var(--color-neutral-3);\r\n          font-size: 1.5rem;\r\n          letter-spacing: -0.01em;\r\n        }\r\n        p {\r\n          margin: var(--space-2) 0 0;\r\n          color: var(--color-neutral-2);\r\n          line-height: 1.5;\r\n        }\r\n      `}</style>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AASO,SAAS,cAAc,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAsB;IAC/E,qBACE,0NAAC;kDAAiB;;0BAChB,0NAAC;;;kCACC,0NAAC;;kCAAI;;;;;;oBACJ,0BAAY,0NAAC;;kCAAG;;;;;;;;;;;;YAElB,yBAAW,0NAAC;0DAAc;0BAAmB;;;;;;;;;;;;;;;;AAuBpD;KA9BgB","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/ResponsiveGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface ResponsiveGridProps extends PropsWithChildren {\r\n  columns?: number;\r\n}\r\n\r\nexport function ResponsiveGrid({ children, columns = 3 }: ResponsiveGridProps) {\r\n  return (\r\n    <div className=\"responsive-grid\">\r\n      {children}\r\n      <style jsx>{`\r\n        .responsive-grid {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          grid-template-columns: repeat(${columns}, minmax(0, 1fr));\r\n        }\r\n        @media (max-width: 1200px) {\r\n          .responsive-grid {\r\n            grid-template-columns: repeat(2, minmax(0, 1fr));\r\n          }\r\n        }\r\n        @media (max-width: 768px) {\r\n          .responsive-grid {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAQO,SAAS,eAAe,EAAE,QAAQ,EAAE,UAAU,CAAC,EAAuB;IAC3E,qBACE,0NAAC;;;;;oBAMqC;;;mBANvB;;YACZ;;;;oBAKmC;;2HAAA;;;;;;;;AAe1C;KAvBgB","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/ui/StatusBadge.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ntype Variant = 'success' | 'warning' | 'critical' | 'info' | 'neutral';\r\n\r\nconst variantStyles: Record<Variant, { background: string; color: string; icon: string; border: string }> = {\r\n  success: {\r\n    background: 'rgba(16, 185, 129, 0.14)',\r\n    color: '#047857',\r\n    icon: '●',\r\n    border: 'rgba(16, 185, 129, 0.28)'\r\n  },\r\n  warning: {\r\n    background: 'rgba(245, 158, 11, 0.16)',\r\n    color: '#92400e',\r\n    icon: '●',\r\n    border: 'rgba(245, 158, 11, 0.32)'\r\n  },\r\n  critical: {\r\n    background: 'rgba(239, 68, 68, 0.16)',\r\n    color: '#b91c1c',\r\n    icon: '●',\r\n    border: 'rgba(239, 68, 68, 0.32)'\r\n  },\r\n  info: {\r\n    background: 'rgba(37, 99, 235, 0.16)',\r\n    color: '#1d4ed8',\r\n    icon: '●',\r\n    border: 'rgba(37, 99, 235, 0.32)'\r\n  },\r\n  neutral: {\r\n    background: 'rgba(100, 116, 139, 0.14)',\r\n    color: '#475569',\r\n    icon: '●',\r\n    border: 'rgba(100, 116, 139, 0.24)'\r\n  }\r\n};\r\n\r\ninterface StatusBadgeProps extends PropsWithChildren {\r\n  variant?: Variant;\r\n  tooltip?: string;\r\n}\r\n\r\nexport function StatusBadge({ children, variant = 'neutral', tooltip }: StatusBadgeProps) {\r\n  const { background, color, icon, border } = variantStyles[variant];\r\n  return (\r\n    <span className=\"status-badge\" data-variant={variant} title={tooltip ?? undefined}>\r\n      <span aria-hidden=\"true\" className=\"status-badge__icon\">\r\n        {icon}\r\n      </span>\r\n      <span className=\"status-badge__text\">{children}</span>\r\n      <style jsx>{`\r\n        .status-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: flex-start;\r\n          gap: var(--space-2);\r\n          padding: 0 var(--space-3);\r\n          min-height: 28px;\r\n          border-radius: var(--radius-xs);\r\n          font-size: 0.8125rem;\r\n          font-weight: 600;\r\n          background: ${background};\r\n          color: ${color};\r\n          border: 1px solid ${border};\r\n        }\r\n        .status-badge__icon {\r\n          font-size: 0.625rem;\r\n          line-height: 1;\r\n        }\r\n        .status-badge__text {\r\n          line-height: 1.2;\r\n        }\r\n      `}</style>\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAMA,MAAM,gBAAsG;IAC1G,SAAS;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,QAAQ;IACV;IACA,SAAS;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,QAAQ;IACV;IACA,UAAU;QACR,YAAY;QACZ,OAAO;QACP,MAAM;QACN,QAAQ;IACV;IACA,MAAM;QACJ,YAAY;QACZ,OAAO;QACP,MAAM;QACN,QAAQ;IACV;IACA,SAAS;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,QAAQ;IACV;AACF;AAOO,SAAS,YAAY,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,OAAO,EAAoB;IACtF,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,aAAa,CAAC,QAAQ;IAClE,qBACE,0NAAC;QAA8B,gBAAc;QAAS,OAAO,WAAW;;;;;oBAgBpD;oBACL;oBACW;;;mBAlBV;;0BACd,0NAAC;gBAAK,eAAY;;;;;4BAeA;4BACL;4BACW;;;2BAjBW;0BAChC;;;;;;0BAEH,0NAAC;;;;;4BAYiB;4BACL;4BACW;;;2BAdR;0BAAsB;;;;;;;;;oBAYpB;oBACL;oBACW;;4MAFN,oCACL,0BACW;;;;;;;;AAY9B;KAjCgB","debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/app/governanca/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useMemo, useState } from 'react';\r\n\r\nimport { Card } from '@/components/ui/Card';\r\nimport { SectionHeader } from '@/components/layout/SectionHeader';\r\nimport { ResponsiveGrid } from '@/components/layout/ResponsiveGrid';\r\nimport { StatusBadge } from '@/components/ui/StatusBadge';\r\n\r\ntype PropertyRef = {\r\n  id: number;\r\n  name: string;\r\n};\r\n\r\ntype RolePolicy = {\r\n  id: number;\r\n  role: string;\r\n  name: string;\r\n  persona: string;\r\n  property: PropertyRef | null;\r\n  permissions: string[];\r\n  isDefault: boolean;\r\n  updatedAt: string;\r\n  owner: string;\r\n};\r\n\r\ntype AuditEntry = {\r\n  id: number;\r\n  action: string;\r\n  detail: string;\r\n  actor: string;\r\n  occurredAt: string;\r\n};\r\n\r\nconst rolePolicies: RolePolicy[] = [\r\n  {\r\n    id: 1,\r\n    role: 'admin',\r\n    name: 'Administrador Global',\r\n    persona: 'corporate',\r\n    property: null,\r\n    permissions: [\r\n      'governance.roles.read',\r\n      'governance.roles.manage',\r\n      'governance.permissions.manage',\r\n      'governance.audit.export'\r\n    ],\r\n    isDefault: true,\r\n    updatedAt: '2024-07-21T10:00:00Z',\r\n    owner: 'Laura (Segurança)'\r\n  },\r\n  {\r\n    id: 2,\r\n    role: 'property_manager',\r\n    name: 'Gestor Operacional Premium',\r\n    persona: 'operacional',\r\n    property: { id: 10, name: 'Residencial Atlântico' },\r\n    permissions: [\r\n      'governance.roles.read',\r\n      'governance.audit.export',\r\n      'reservations.manage',\r\n      'housekeeping.schedule'\r\n    ],\r\n    isDefault: false,\r\n    updatedAt: '2024-07-19T09:30:00Z',\r\n    owner: 'Bruno (Operações)'\r\n  },\r\n  {\r\n    id: 3,\r\n    role: 'housekeeping',\r\n    name: 'Housekeeping On-site',\r\n    persona: 'field',\r\n    property: { id: 4, name: 'Hotel Aurora' },\r\n    permissions: ['housekeeping.update_self', 'governance.roles.read'],\r\n    isDefault: false,\r\n    updatedAt: '2024-07-18T15:20:00Z',\r\n    owner: 'Camila (Facilities)'\r\n  },\r\n  {\r\n    id: 4,\r\n    role: 'ota',\r\n    name: 'Channel Manager OTA',\r\n    persona: 'partner',\r\n    property: null,\r\n    permissions: ['governance.roles.read', 'ota.sync.monitor'],\r\n    isDefault: true,\r\n    updatedAt: '2024-07-17T11:05:00Z',\r\n    owner: 'Equipe Integrations'\r\n  }\r\n];\r\n\r\nconst auditTrail: AuditEntry[] = [\r\n  {\r\n    id: 341,\r\n    action: 'role_policy_created',\r\n    detail: 'Gestor Operacional Premium vinculado à Residencial Atlântico',\r\n    actor: 'Laura (Segurança)',\r\n    occurredAt: '2024-07-19T09:30:45Z'\r\n  },\r\n  {\r\n    id: 342,\r\n    action: 'permission_created',\r\n    detail: 'Permissão reservations.manage adicionada ao catálogo',\r\n    actor: 'Laura (Segurança)',\r\n    occurredAt: '2024-07-19T09:31:02Z'\r\n  },\r\n  {\r\n    id: 355,\r\n    action: 'role_policy_deleted',\r\n    detail: 'Exceção temporária exception::jira-OPS-142 removida',\r\n    actor: 'CISO',\r\n    occurredAt: '2024-07-20T17:58:12Z'\r\n  }\r\n];\r\n\r\nfunction exportAuditCsv(entries: AuditEntry[]) {\r\n  const header = 'timestamp,action,detail,actor\\n';\r\n  const rows = entries\r\n    .map((entry) =>\r\n      [entry.occurredAt, entry.action, entry.detail.replace(/\"/g, \"''\"), entry.actor]\r\n        .map((value) => `\"${value}\"`)\r\n        .join(',')\r\n    )\r\n    .join('\\n');\r\n  const blob = new Blob([header + rows], { type: 'text/csv;charset=utf-8;' });\r\n  const url = URL.createObjectURL(blob);\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.download = 'governanca-audit.csv';\r\n  link.click();\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nfunction exportAuditPdf(entries: AuditEntry[]) {\r\n  const popup = window.open('', '_blank');\r\n  if (!popup) {\r\n    return;\r\n  }\r\n  const rows = entries\r\n    .map(\r\n      (entry) =>\r\n        `<tr><td>${entry.occurredAt}</td><td>${entry.action}</td><td>${entry.detail}</td><td>${entry.actor}</td></tr>`\r\n    )\r\n    .join('');\r\n  popup.document.write(`\r\n    <html>\r\n      <head>\r\n        <title>Trilha de auditoria</title>\r\n        <style>\r\n          body { font-family: Arial, sans-serif; padding: 16px; }\r\n          table { width: 100%; border-collapse: collapse; }\r\n          th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\r\n          th { background: #f4f6fb; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <h1>Trilha de auditoria - Governança</h1>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Quando</th>\r\n              <th>Ação</th>\r\n              <th>Detalhe</th>\r\n              <th>Responsável</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>${rows}</tbody>\r\n        </table>\r\n      </body>\r\n    </html>\r\n  `);\r\n  popup.document.close();\r\n  popup.focus();\r\n  popup.print();\r\n  popup.close();\r\n}\r\n\r\nexport default function GovernancaPage() {\r\n  const [selectedPersona, setSelectedPersona] = useState<string>('todas');\r\n  const [selectedProperty, setSelectedProperty] = useState<number | 'todas'>('todas');\r\n\r\n  const personaOptions = useMemo(() => {\r\n    const personas = new Set(rolePolicies.map((policy) => policy.persona));\r\n    return ['todas', ...Array.from(personas)];\r\n  }, []);\r\n\r\n  const propertyOptions = useMemo(() => {\r\n    const properties = new Map<number, string>();\r\n    rolePolicies.forEach((policy) => {\r\n      if (policy.property) {\r\n        properties.set(policy.property.id, policy.property.name);\r\n      }\r\n    });\r\n    return ['todas', ...Array.from(properties.entries())];\r\n  }, []);\r\n\r\n  const filteredPolicies = useMemo(() => {\r\n    return rolePolicies.filter((policy) => {\r\n      const personaMatches = selectedPersona === 'todas' || policy.persona === selectedPersona;\r\n      const propertyMatches =\r\n        selectedProperty === 'todas' || policy.property?.id === selectedProperty;\r\n      return personaMatches && propertyMatches;\r\n    });\r\n  }, [selectedPersona, selectedProperty]);\r\n\r\n  return (\r\n    <div>\r\n      <SectionHeader subtitle=\"Papéis, permissões e auditoria alinhados ao BL-05\">\r\n        Governança &amp; Segurança\r\n      </SectionHeader>\r\n      <ResponsiveGrid columns={3}>\r\n        <Card title=\"Resumo\" description=\"Visão agregada das políticas ativas\" accent=\"info\">\r\n          <ul>\r\n            <li>Políticas ativas: {rolePolicies.length}</li>\r\n            <li>Customizações por propriedade: {rolePolicies.filter((p) => p.property).length}</li>\r\n            <li>Última atualização: 20/07/2024 17:58Z</li>\r\n          </ul>\r\n        </Card>\r\n        <Card title=\"Filtros\" description=\"Personas e propriedades\" accent=\"success\">\r\n          <div className=\"filters\">\r\n            <label htmlFor=\"persona-select\">\r\n              Persona\r\n              <select\r\n                id=\"persona-select\"\r\n                value={selectedPersona}\r\n                onChange={(event) => setSelectedPersona(event.target.value)}\r\n              >\r\n                {personaOptions.map((persona) => (\r\n                  <option key={persona} value={persona}>\r\n                    {persona === 'todas' ? 'Todas as personas' : persona}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n            <label htmlFor=\"property-select\">\r\n              Propriedade\r\n              <select\r\n                id=\"property-select\"\r\n                value={selectedProperty}\r\n                onChange={(event) =>\r\n                  setSelectedProperty(\r\n                    event.target.value === 'todas' ? 'todas' : Number.parseInt(event.target.value, 10)\r\n                  )\r\n                }\r\n              >\r\n                {propertyOptions.map((option) =>\r\n                  typeof option === 'string' ? (\r\n                    <option key={option} value={option}>\r\n                      Todas as propriedades\r\n                    </option>\r\n                  ) : (\r\n                    <option key={option[0]} value={option[0]}>\r\n                      {option[1]}\r\n                    </option>\r\n                  )\r\n                )}\r\n              </select>\r\n            </label>\r\n          </div>\r\n          <p className=\"filters__result\">{filteredPolicies.length} políticas compatíveis</p>\r\n        </Card>\r\n        <Card\r\n          title=\"Trilha rápida\"\r\n          description=\"Exportações CSV/PDF disponíveis na secção de auditoria\"\r\n          accent=\"warning\"\r\n        >\r\n          <p>\r\n            Acompanhe o log consolidado com `governance.audit.view` e valide STRIDE em cada exceção\r\n            aprovada.\r\n          </p>\r\n          <p>\r\n            Para exceções, utilize persona `exception::` e programe rollback automático na data limite.\r\n          </p>\r\n        </Card>\r\n      </ResponsiveGrid>\r\n\r\n      <section aria-labelledby=\"roles-heading\">\r\n        <h2 id=\"roles-heading\">Políticas por papel</h2>\r\n        <div className=\"table-wrapper\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Papel</th>\r\n                <th>Nome</th>\r\n                <th>Persona</th>\r\n                <th>Propriedade</th>\r\n                <th>Permissões</th>\r\n                <th>Atualizado</th>\r\n                <th>Owner</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredPolicies.map((policy) => (\r\n                <tr key={policy.id}>\r\n                  <td>\r\n                    <div className=\"role-cell\">\r\n                      <span>{policy.role}</span>\r\n                      <StatusBadge variant={policy.isDefault ? 'info' : 'success'}>\r\n                        {policy.isDefault ? 'Padrão' : 'Custom'}\r\n                      </StatusBadge>\r\n                    </div>\r\n                  </td>\r\n                  <td>{policy.name}</td>\r\n                  <td>{policy.persona}</td>\r\n                  <td>{policy.property ? policy.property.name : 'Global'}</td>\r\n                  <td>\r\n                    <ul className=\"permissions\">\r\n                      {policy.permissions.map((permission) => (\r\n                        <li key={permission}>{permission}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </td>\r\n                  <td>{new Date(policy.updatedAt).toLocaleString('pt-PT')}</td>\r\n                  <td>{policy.owner}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n\r\n      <section aria-labelledby=\"audit-heading\" className=\"audit-section\">\r\n        <Card\r\n          title=\"Trilha de auditoria\"\r\n          description=\"Últimas ações registradas nos endpoints /governance\"\r\n          accent=\"info\"\r\n        >\r\n          <div className=\"audit-actions\">\r\n            <button type=\"button\" onClick={() => exportAuditCsv(auditTrail)}>\r\n              Exportar CSV\r\n            </button>\r\n            <button type=\"button\" onClick={() => exportAuditPdf(auditTrail)}>\r\n              Exportar PDF\r\n            </button>\r\n          </div>\r\n          <ul className=\"audit-list\">\r\n            {auditTrail.map((entry) => (\r\n              <li key={entry.id}>\r\n                <span className=\"audit-list__timestamp\">\r\n                  {new Date(entry.occurredAt).toLocaleString('pt-PT')}\r\n                </span>\r\n                <span className=\"audit-list__action\">{entry.action}</span>\r\n                <span className=\"audit-list__detail\">{entry.detail}</span>\r\n                <span className=\"audit-list__actor\">{entry.actor}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Card>\r\n      </section>\r\n\r\n      <style jsx>{`\r\n        ul {\r\n          margin: 0;\r\n          padding-left: var(--space-5);\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        section {\r\n          margin-top: var(--space-6);\r\n        }\r\n        h2 {\r\n          font-size: 1.5rem;\r\n          margin: var(--space-5) 0 var(--space-3);\r\n        }\r\n        .table-wrapper {\r\n          overflow-x: auto;\r\n          background: var(--color-neutral-0);\r\n          border-radius: var(--radius-md);\r\n          border: 1px solid var(--color-neutral-4);\r\n        }\r\n        table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          min-width: 720px;\r\n        }\r\n        th,\r\n        td {\r\n          padding: var(--space-3);\r\n          text-align: left;\r\n          border-bottom: 1px solid var(--color-neutral-3);\r\n          vertical-align: top;\r\n        }\r\n        th {\r\n          background: var(--color-neutral-5);\r\n          font-weight: 600;\r\n        }\r\n        .role-cell {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: var(--space-2);\r\n        }\r\n        .permissions {\r\n          list-style: none;\r\n          padding-left: 0;\r\n        }\r\n        .permissions li {\r\n          background: var(--color-neutral-5);\r\n          border-radius: var(--radius-sm);\r\n          padding: 2px 6px;\r\n          display: inline-flex;\r\n          margin-right: var(--space-2);\r\n          margin-bottom: var(--space-2);\r\n        }\r\n        .filters {\r\n          display: grid;\r\n          gap: var(--space-3);\r\n        }\r\n        label {\r\n          display: flex;\r\n          flex-direction: column;\r\n          font-weight: 600;\r\n          gap: var(--space-2);\r\n        }\r\n        select {\r\n          border-radius: var(--radius-sm);\r\n          border: 1px solid var(--color-neutral-3);\r\n          padding: var(--space-2);\r\n        }\r\n        .filters__result {\r\n          margin-top: var(--space-3);\r\n          font-size: 0.875rem;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .audit-actions button {\r\n          border: none;\r\n          border-radius: var(--radius-sm);\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n          padding: var(--space-2) var(--space-4);\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n        }\r\n        .audit-actions {\r\n          display: flex;\r\n          gap: var(--space-2);\r\n          margin-bottom: var(--space-3);\r\n        }\r\n        .audit-list {\r\n          list-style: none;\r\n          padding-left: 0;\r\n          margin: 0;\r\n          display: grid;\r\n          gap: var(--space-3);\r\n        }\r\n        .audit-list li {\r\n          display: grid;\r\n          grid-template-columns: 160px 180px 1fr 200px;\r\n          gap: var(--space-3);\r\n          font-size: 0.9rem;\r\n          align-items: center;\r\n        }\r\n        .audit-list__timestamp {\r\n          font-variant-numeric: tabular-nums;\r\n          color: var(--color-neutral-7);\r\n        }\r\n        .audit-list__action {\r\n          font-weight: 600;\r\n        }\r\n        .audit-list__detail {\r\n          color: var(--color-neutral-8);\r\n        }\r\n        .audit-list__actor {\r\n          justify-self: end;\r\n          color: var(--color-deep-blue);\r\n          font-weight: 500;\r\n        }\r\n        @media (max-width: 960px) {\r\n          .audit-list li {\r\n            grid-template-columns: 1fr;\r\n            gap: var(--space-1);\r\n          }\r\n          .audit-list__actor {\r\n            justify-self: start;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AACA;AACA;AACA;;;AAPA;;;;;;;AAkCA,MAAM,eAA6B;IACjC;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;QACT,UAAU;QACV,aAAa;YACX;YACA;YACA;YACA;SACD;QACD,WAAW;QACX,WAAW;QACX,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;QACT,UAAU;YAAE,IAAI;YAAI,MAAM;QAAwB;QAClD,aAAa;YACX;YACA;YACA;YACA;SACD;QACD,WAAW;QACX,WAAW;QACX,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;QACT,UAAU;YAAE,IAAI;YAAG,MAAM;QAAe;QACxC,aAAa;YAAC;YAA4B;SAAwB;QAClE,WAAW;QACX,WAAW;QACX,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;QACT,UAAU;QACV,aAAa;YAAC;YAAyB;SAAmB;QAC1D,WAAW;QACX,WAAW;QACX,OAAO;IACT;CACD;AAED,MAAM,aAA2B;IAC/B;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,YAAY;IACd;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,YAAY;IACd;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,YAAY;IACd;CACD;AAED,SAAS,eAAe,OAAqB;IAC3C,MAAM,SAAS;IACf,MAAM,OAAO,QACV,GAAG,CAAC,CAAC,QACJ;YAAC,MAAM,UAAU;YAAE,MAAM,MAAM;YAAE,MAAM,MAAM,CAAC,OAAO,CAAC,MAAM;YAAO,MAAM,KAAK;SAAC,CAC5E,GAAG,CAAC,CAAC,QAAU,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAC3B,IAAI,CAAC,MAET,IAAI,CAAC;IACR,MAAM,OAAO,IAAI,KAAK;QAAC,SAAS;KAAK,EAAE;QAAE,MAAM;IAA0B;IACzE,MAAM,MAAM,IAAI,eAAe,CAAC;IAChC,MAAM,OAAO,SAAS,aAAa,CAAC;IACpC,KAAK,IAAI,GAAG;IACZ,KAAK,QAAQ,GAAG;IAChB,KAAK,KAAK;IACV,IAAI,eAAe,CAAC;AACtB;AAEA,SAAS,eAAe,OAAqB;IAC3C,MAAM,QAAQ,OAAO,IAAI,CAAC,IAAI;IAC9B,IAAI,CAAC,OAAO;QACV;IACF;IACA,MAAM,OAAO,QACV,GAAG,CACF,CAAC,QACC,CAAC,QAAQ,EAAE,MAAM,UAAU,CAAC,SAAS,EAAE,MAAM,MAAM,CAAC,SAAS,EAAE,MAAM,MAAM,CAAC,SAAS,EAAE,MAAM,KAAK,CAAC,UAAU,CAAC,EAEjH,IAAI,CAAC;IACR,MAAM,QAAQ,CAAC,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;iBAsBP,EAAE,KAAK;;;;EAItB,CAAC;IACD,MAAM,QAAQ,CAAC,KAAK;IACpB,MAAM,KAAK;IACX,MAAM,KAAK;IACX,MAAM,KAAK;AACb;AAEe,SAAS;;IACtB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,sMAAQ,EAAS;IAC/D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,sMAAQ,EAAmB;IAE3E,MAAM,iBAAiB,IAAA,qMAAO;kDAAC;YAC7B,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG;0DAAC,CAAC,SAAW,OAAO,OAAO;;YACpE,OAAO;gBAAC;mBAAY,MAAM,IAAI,CAAC;aAAU;QAC3C;iDAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,qMAAO;mDAAC;YAC9B,MAAM,aAAa,IAAI;YACvB,aAAa,OAAO;2DAAC,CAAC;oBACpB,IAAI,OAAO,QAAQ,EAAE;wBACnB,WAAW,GAAG,CAAC,OAAO,QAAQ,CAAC,EAAE,EAAE,OAAO,QAAQ,CAAC,IAAI;oBACzD;gBACF;;YACA,OAAO;gBAAC;mBAAY,MAAM,IAAI,CAAC,WAAW,OAAO;aAAI;QACvD;kDAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,qMAAO;oDAAC;YAC/B,OAAO,aAAa,MAAM;4DAAC,CAAC;oBAC1B,MAAM,iBAAiB,oBAAoB,WAAW,OAAO,OAAO,KAAK;oBACzE,MAAM,kBACJ,qBAAqB,WAAW,OAAO,QAAQ,EAAE,OAAO;oBAC1D,OAAO,kBAAkB;gBAC3B;;QACF;mDAAG;QAAC;QAAiB;KAAiB;IAEtC,qBACE,0NAAC;;;0BACC,0NAAC,sMAAa;gBAAC,UAAS;0BAAoD;;;;;;0BAG5E,0NAAC,wMAAc;gBAAC,SAAS;;kCACvB,0NAAC,gLAAI;wBAAC,OAAM;wBAAS,aAAY;wBAAsC,QAAO;kCAC5E,cAAA,0NAAC;;;8CACC,0NAAC;;;wCAAG;wCAAmB,aAAa,MAAM;;;;;;;8CAC1C,0NAAC;;;wCAAG;wCAAgC,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,EAAE,MAAM;;;;;;;8CACjF,0NAAC;;8CAAG;;;;;;;;;;;;;;;;;kCAGR,0NAAC,gLAAI;wBAAC,OAAM;wBAAU,aAAY;wBAA0B,QAAO;;0CACjE,0NAAC;0EAAc;;kDACb,0NAAC;wCAAM,SAAQ;;;4CAAiB;0DAE9B,0NAAC;gDACC,IAAG;gDACH,OAAO;gDACP,UAAU,CAAC,QAAU,mBAAmB,MAAM,MAAM,CAAC,KAAK;;0DAEzD,eAAe,GAAG,CAAC,CAAC,wBACnB,0NAAC;wDAAqB,OAAO;;kEAC1B,YAAY,UAAU,sBAAsB;uDADlC;;;;;;;;;;;;;;;;kDAMnB,0NAAC;wCAAM,SAAQ;;;4CAAkB;0DAE/B,0NAAC;gDACC,IAAG;gDACH,OAAO;gDACP,UAAU,CAAC,QACT,oBACE,MAAM,MAAM,CAAC,KAAK,KAAK,UAAU,UAAU,OAAO,QAAQ,CAAC,MAAM,MAAM,CAAC,KAAK,EAAE;;0DAIlF,gBAAgB,GAAG,CAAC,CAAC,SACpB,OAAO,WAAW,yBAChB,0NAAC;wDAAoB,OAAO;;kEAAQ;uDAAvB;;;;6EAIb,0NAAC;wDAAuB,OAAO,MAAM,CAAC,EAAE;;kEACrC,MAAM,CAAC,EAAE;uDADC,MAAM,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;;0CAQhC,0NAAC;0EAAY;;oCAAmB,iBAAiB,MAAM;oCAAC;;;;;;;;;;;;;kCAE1D,0NAAC,gLAAI;wBACH,OAAM;wBACN,aAAY;wBACZ,QAAO;;0CAEP,0NAAC;;0CAAE;;;;;;0CAIH,0NAAC;;0CAAE;;;;;;;;;;;;;;;;;;0BAMP,0NAAC;gBAAQ,mBAAgB;;;kCACvB,0NAAC;wBAAG,IAAG;;kCAAgB;;;;;;kCACvB,0NAAC;kEAAc;kCACb,cAAA,0NAAC;;;8CACC,0NAAC;;8CACC,cAAA,0NAAC;;;0DACC,0NAAC;;0DAAG;;;;;;0DACJ,0NAAC;;0DAAG;;;;;;0DACJ,0NAAC;;0DAAG;;;;;;0DACJ,0NAAC;;0DAAG;;;;;;0DACJ,0NAAC;;0DAAG;;;;;;0DACJ,0NAAC;;0DAAG;;;;;;0DACJ,0NAAC;;0DAAG;;;;;;;;;;;;;;;;;8CAGR,0NAAC;;8CACE,iBAAiB,GAAG,CAAC,CAAC,uBACrB,0NAAC;;;8DACC,0NAAC;;8DACC,cAAA,0NAAC;kGAAc;;0EACb,0NAAC;;0EAAM,OAAO,IAAI;;;;;;0EAClB,0NAAC,8LAAW;gEAAC,SAAS,OAAO,SAAS,GAAG,SAAS;0EAC/C,OAAO,SAAS,GAAG,WAAW;;;;;;;;;;;;;;;;;8DAIrC,0NAAC;;8DAAI,OAAO,IAAI;;;;;;8DAChB,0NAAC;;8DAAI,OAAO,OAAO;;;;;;8DACnB,0NAAC;;8DAAI,OAAO,QAAQ,GAAG,OAAO,QAAQ,CAAC,IAAI,GAAG;;;;;;8DAC9C,0NAAC;;8DACC,cAAA,0NAAC;kGAAa;kEACX,OAAO,WAAW,CAAC,GAAG,CAAC,CAAC,2BACvB,0NAAC;;0EAAqB;+DAAb;;;;;;;;;;;;;;;8DAIf,0NAAC;;8DAAI,IAAI,KAAK,OAAO,SAAS,EAAE,cAAc,CAAC;;;;;;8DAC/C,0NAAC;;8DAAI,OAAO,KAAK;;;;;;;2CApBV,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;0BA4B5B,0NAAC;gBAAQ,mBAAgB;0DAA0B;0BACjD,cAAA,0NAAC,gLAAI;oBACH,OAAM;oBACN,aAAY;oBACZ,QAAO;;sCAEP,0NAAC;sEAAc;;8CACb,0NAAC;oCAAO,MAAK;oCAAS,SAAS,IAAM,eAAe;;8CAAa;;;;;;8CAGjE,0NAAC;oCAAO,MAAK;oCAAS,SAAS,IAAM,eAAe;;8CAAa;;;;;;;;;;;;sCAInE,0NAAC;sEAAa;sCACX,WAAW,GAAG,CAAC,CAAC,sBACf,0NAAC;;;sDACC,0NAAC;sFAAe;sDACb,IAAI,KAAK,MAAM,UAAU,EAAE,cAAc,CAAC;;;;;;sDAE7C,0NAAC;sFAAe;sDAAsB,MAAM,MAAM;;;;;;sDAClD,0NAAC;sFAAe;sDAAsB,MAAM,MAAM;;;;;;sDAClD,0NAAC;sFAAe;sDAAqB,MAAM,KAAK;;;;;;;mCANzC,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6I/B;GA7SwB;KAAA","debugId":null}}]
}