{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/analytics/AnalyticsContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useMemo, useRef } from 'react';\r\nimport { usePathname, useSearchParams } from 'next/navigation';\r\n\r\ntype AnalyticsEvent = {\r\n  type: string;\r\n  payload?: Record<string, unknown>;\r\n  timestamp: number;\r\n};\r\n\r\ninterface AnalyticsContextValue {\r\n  track: (type: AnalyticsEvent['type'], payload?: AnalyticsEvent['payload']) => void;\r\n  flushQueue: () => AnalyticsEvent[];\r\n}\r\n\r\nconst AnalyticsContext = createContext<AnalyticsContextValue | undefined>(undefined);\r\n\r\nconst ANALYTICS_KEY = 'bmad-analytics-queue';\r\n\r\nfunction persistQueue(queue: AnalyticsEvent[]) {\r\n  try {\r\n    window.sessionStorage.setItem(ANALYTICS_KEY, JSON.stringify(queue));\r\n  } catch {\r\n    // ignore storage errors in private mode\r\n  }\r\n}\r\n\r\nfunction loadQueue(): AnalyticsEvent[] {\r\n  if (typeof window === 'undefined') return [];\r\n  try {\r\n    const stored = window.sessionStorage.getItem(ANALYTICS_KEY);\r\n    return stored ? (JSON.parse(stored) as AnalyticsEvent[]) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function AnalyticsProvider({ children }: { children: React.ReactNode }) {\r\n  const queueRef = useRef<AnalyticsEvent[]>([]);\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    queueRef.current = loadQueue();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const event: AnalyticsEvent = {\r\n      type: 'page_view',\r\n      payload: {\r\n        path: pathname,\r\n        search: searchParams?.toString() ?? ''\r\n      },\r\n      timestamp: Date.now()\r\n    };\r\n    queueRef.current.push(event);\r\n    persistQueue(queueRef.current);\r\n  }, [pathname, searchParams]);\r\n\r\n  const value = useMemo<AnalyticsContextValue>(() => ({\r\n    track: (type, payload) => {\r\n      const event: AnalyticsEvent = { type, payload, timestamp: Date.now() };\r\n      queueRef.current.push(event);\r\n      persistQueue(queueRef.current);\r\n    },\r\n    flushQueue: () => {\r\n      const copy = [...queueRef.current];\r\n      queueRef.current = [];\r\n      persistQueue(queueRef.current);\r\n      return copy;\r\n    }\r\n  }), []);\r\n\r\n  return <AnalyticsContext.Provider value={value}>{children}</AnalyticsContext.Provider>;\r\n}\r\n\r\nexport function useAnalytics() {\r\n  const ctx = useContext(AnalyticsContext);\r\n  if (!ctx) {\r\n    throw new Error('useAnalytics deve ser utilizado dentro de AnalyticsProvider');\r\n  }\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAgBA,MAAM,iCAAmB,IAAA,2MAAa,EAAoC;AAE1E,MAAM,gBAAgB;AAEtB,SAAS,aAAa,KAAuB;IAC3C,IAAI;QACF,OAAO,cAAc,CAAC,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;IAC9D,EAAE,OAAM;IACN,wCAAwC;IAC1C;AACF;AAEA,SAAS;IACP;;IACA,IAAI;QACF,MAAM,SAAS,OAAO,cAAc,CAAC,OAAO,CAAC;QAC7C,OAAO,SAAU,KAAK,KAAK,CAAC,UAA+B,EAAE;IAC/D,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;;IAC3E,MAAM,WAAW,IAAA,oMAAM,EAAmB,EAAE;IAC5C,MAAM,WAAW,IAAA,iLAAW;IAC5B,MAAM,eAAe,IAAA,qLAAe;IAEpC,IAAA,uMAAS;uCAAC;YACR,SAAS,OAAO,GAAG;QACrB;sCAAG,EAAE;IAEL,IAAA,uMAAS;uCAAC;YACR,MAAM,QAAwB;gBAC5B,MAAM;gBACN,SAAS;oBACP,MAAM;oBACN,QAAQ,cAAc,cAAc;gBACtC;gBACA,WAAW,KAAK,GAAG;YACrB;YACA,SAAS,OAAO,CAAC,IAAI,CAAC;YACtB,aAAa,SAAS,OAAO;QAC/B;sCAAG;QAAC;QAAU;KAAa;IAE3B,MAAM,QAAQ,IAAA,qMAAO;4CAAwB,IAAM,CAAC;gBAClD,KAAK;wDAAE,CAAC,MAAM;wBACZ,MAAM,QAAwB;4BAAE;4BAAM;4BAAS,WAAW,KAAK,GAAG;wBAAG;wBACrE,SAAS,OAAO,CAAC,IAAI,CAAC;wBACtB,aAAa,SAAS,OAAO;oBAC/B;;gBACA,UAAU;wDAAE;wBACV,MAAM,OAAO;+BAAI,SAAS,OAAO;yBAAC;wBAClC,SAAS,OAAO,GAAG,EAAE;wBACrB,aAAa,SAAS,OAAO;wBAC7B,OAAO;oBACT;;YACF,CAAC;2CAAG,EAAE;IAEN,qBAAO,0NAAC,iBAAiB,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AACnD;GArCgB;;QAEG,iLAAW;QACP,qLAAe;;;KAHtB;AAuCT,SAAS;;IACd,MAAM,MAAM,IAAA,wMAAU,EAAC;IACvB,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/offline-queue.ts"],"sourcesContent":["import type { DBSchema } from 'idb';\r\nimport { openDB, type IDBPDatabase } from 'idb';\r\n\r\nimport type { HousekeepingTaskUpdatePayload } from '@/services/api/housekeeping';\r\n\r\nconst DB_NAME = 'bmad-offline';\r\nconst STORE_NAME = 'housekeeping-task-mutations' as const;\r\n\r\nexport interface OfflineTaskMutation {\r\n  id: string;\r\n  taskId: number;\r\n  updates: HousekeepingTaskUpdatePayload;\r\n  description: string;\r\n  createdAt: number;\r\n}\r\n\r\nexport interface EnqueueTaskUpdateInput {\r\n  taskId: number;\r\n  updates: HousekeepingTaskUpdatePayload;\r\n  description: string;\r\n}\r\n\r\ninterface OfflineQueueDb extends DBSchema {\r\n  [STORE_NAME]: {\r\n    key: string;\r\n    value: OfflineTaskMutation;\r\n  };\r\n}\r\n\r\nlet dbPromise: Promise<IDBPDatabase<OfflineQueueDb>> | null = null;\r\nconst memoryFallback: OfflineTaskMutation[] = [];\r\n\r\nfunction isIndexedDbAvailable(): boolean {\r\n  return typeof window !== 'undefined' && typeof window.indexedDB !== 'undefined';\r\n}\r\n\r\nasync function getDb(): Promise<IDBPDatabase<OfflineQueueDb>> {\r\n  if (!dbPromise) {\r\n    dbPromise = openDB<OfflineQueueDb>(DB_NAME, 1, {\r\n      upgrade(db) {\r\n        if (!db.objectStoreNames.contains(STORE_NAME)) {\r\n          db.createObjectStore(STORE_NAME, { keyPath: 'id' });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return dbPromise;\r\n}\r\n\r\nfunction createMutation(input: EnqueueTaskUpdateInput): OfflineTaskMutation {\r\n  const id = typeof crypto !== 'undefined' && 'randomUUID' in crypto\r\n    ? crypto.randomUUID()\r\n    : `mutation-${Date.now()}-${Math.random().toString(16).slice(2)}`;\r\n\r\n  return {\r\n    id,\r\n    taskId: input.taskId,\r\n    updates: input.updates,\r\n    description: input.description,\r\n    createdAt: Date.now()\r\n  };\r\n}\r\n\r\nexport async function enqueueTaskUpdate(\r\n  input: EnqueueTaskUpdateInput\r\n): Promise<OfflineTaskMutation> {\r\n  const mutation = createMutation(input);\r\n\r\n  if (!isIndexedDbAvailable()) {\r\n    memoryFallback.push(mutation);\r\n    return mutation;\r\n  }\r\n\r\n  const db = await getDb();\r\n  await db.put(STORE_NAME, mutation);\r\n  return mutation;\r\n}\r\n\r\nexport async function removeTaskUpdate(id: string): Promise<void> {\r\n  if (!isIndexedDbAvailable()) {\r\n    const index = memoryFallback.findIndex((item) => item.id === id);\r\n    if (index >= 0) {\r\n      memoryFallback.splice(index, 1);\r\n    }\r\n    return;\r\n  }\r\n\r\n  const db = await getDb();\r\n  await db.delete(STORE_NAME, id);\r\n}\r\n\r\nexport async function readTaskUpdates(): Promise<OfflineTaskMutation[]> {\r\n  if (!isIndexedDbAvailable()) {\r\n    return [...memoryFallback].sort((a, b) => a.createdAt - b.createdAt);\r\n  }\r\n\r\n  const db = await getDb();\r\n  const items = await db.getAll(STORE_NAME);\r\n  return items.sort((a, b) => a.createdAt - b.createdAt);\r\n}\r\n\r\nexport async function clearTaskUpdates(): Promise<void> {\r\n  if (!isIndexedDbAvailable()) {\r\n    memoryFallback.length = 0;\r\n    return;\r\n  }\r\n\r\n  const db = await getDb();\r\n  await db.clear(STORE_NAME);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AACA;;AAIA,MAAM,UAAU;AAChB,MAAM,aAAa;AAuBnB,IAAI,YAA0D;AAC9D,MAAM,iBAAwC,EAAE;AAEhD,SAAS;IACP,OAAO,+CAAkB,eAAe,OAAO,OAAO,SAAS,KAAK;AACtE;AAEA,eAAe;IACb,IAAI,CAAC,WAAW;QACd,YAAY,IAAA,+KAAM,EAAiB,SAAS,GAAG;YAC7C,SAAQ,EAAE;gBACR,IAAI,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,aAAa;oBAC7C,GAAG,iBAAiB,CAAC,YAAY;wBAAE,SAAS;oBAAK;gBACnD;YACF;QACF;IACF;IACA,OAAO;AACT;AAEA,SAAS,eAAe,KAA6B;IACnD,MAAM,KAAK,OAAO,WAAW,eAAe,gBAAgB,SACxD,OAAO,UAAU,KACjB,CAAC,SAAS,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,IAAI;IAEnE,OAAO;QACL;QACA,QAAQ,MAAM,MAAM;QACpB,SAAS,MAAM,OAAO;QACtB,aAAa,MAAM,WAAW;QAC9B,WAAW,KAAK,GAAG;IACrB;AACF;AAEO,eAAe,kBACpB,KAA6B;IAE7B,MAAM,WAAW,eAAe;IAEhC,IAAI,CAAC,wBAAwB;QAC3B,eAAe,IAAI,CAAC;QACpB,OAAO;IACT;IAEA,MAAM,KAAK,MAAM;IACjB,MAAM,GAAG,GAAG,CAAC,YAAY;IACzB,OAAO;AACT;AAEO,eAAe,iBAAiB,EAAU;IAC/C,IAAI,CAAC,wBAAwB;QAC3B,MAAM,QAAQ,eAAe,SAAS,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;QAC7D,IAAI,SAAS,GAAG;YACd,eAAe,MAAM,CAAC,OAAO;QAC/B;QACA;IACF;IAEA,MAAM,KAAK,MAAM;IACjB,MAAM,GAAG,MAAM,CAAC,YAAY;AAC9B;AAEO,eAAe;IACpB,IAAI,CAAC,wBAAwB;QAC3B,OAAO;eAAI;SAAe,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;IACrE;IAEA,MAAM,KAAK,MAAM;IACjB,MAAM,QAAQ,MAAM,GAAG,MAAM,CAAC;IAC9B,OAAO,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;AACvD;AAEO,eAAe;IACpB,IAAI,CAAC,wBAAwB;QAC3B,eAAe,MAAM,GAAG;QACxB;IACF;IAEA,MAAM,KAAK,MAAM;IACjB,MAAM,GAAG,KAAK,CAAC;AACjB","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/packages/api-client/dist/core.js"],"sourcesContent":["import snakeCase from 'lodash.snakecase';\r\nexport class CoreApiError extends Error {\r\n    constructor(message, status, body) {\r\n        super(message);\r\n        this.status = status;\r\n        this.body = body;\r\n        this.name = 'CoreApiError';\r\n    }\r\n}\r\nexport class CoreApiClient {\r\n    constructor(options) {\r\n        var _a;\r\n        this.baseUrl = new URL(options.baseUrl.replace(/\\/$/, ''));\r\n        this.getAccessToken = options.getAccessToken;\r\n        this.fetchImpl = (_a = options.fetchImpl) !== null && _a !== void 0 ? _a : fetch;\r\n    }\r\n    async request(options) {\r\n        var _a, _b, _c;\r\n        const url = new URL(options.path, this.baseUrl);\r\n        if (options.query) {\r\n            for (const [key, value] of Object.entries(options.query)) {\r\n                if (value === undefined || value === null) {\r\n                    continue;\r\n                }\r\n                url.searchParams.set(snakeCase(key), String(value));\r\n            }\r\n        }\r\n        const headers = {\r\n            Accept: 'application/json',\r\n            ...((_a = options.headers) !== null && _a !== void 0 ? _a : {})\r\n        };\r\n        let body;\r\n        if (options.body instanceof FormData || typeof options.body === 'string') {\r\n            body = options.body;\r\n        }\r\n        else if (options.body) {\r\n            headers['Content-Type'] = 'application/json';\r\n            body = JSON.stringify(toSnakeCaseKeys(options.body));\r\n        }\r\n        const token = this.getAccessToken ? await this.getAccessToken() : null;\r\n        if (token) {\r\n            headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        const response = await this.fetchImpl(url, {\r\n            method: (_b = options.method) !== null && _b !== void 0 ? _b : 'GET',\r\n            body,\r\n            signal: options.signal,\r\n            headers\r\n        });\r\n        if (!response.ok) {\r\n            const payload = await safeReadJson(response);\r\n            throw new CoreApiError(`Request to ${options.path} failed with status ${response.status}`, response.status, payload);\r\n        }\r\n        if (response.status === 204) {\r\n            return undefined;\r\n        }\r\n        const contentType = (_c = response.headers.get('content-type')) !== null && _c !== void 0 ? _c : '';\r\n        if (contentType.includes('application/json')) {\r\n            return (await response.json());\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nexport function toSnakeCaseKeys(value) {\r\n    const entries = Object.entries(value).map(([key, val]) => [snakeCase(key), val]);\r\n    return Object.fromEntries(entries);\r\n}\r\nasync function safeReadJson(response) {\r\n    try {\r\n        return await response.json();\r\n    }\r\n    catch (error) {\r\n        return null;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AACO,MAAM,qBAAqB;IAC9B,YAAY,OAAO,EAAE,MAAM,EAAE,IAAI,CAAE;QAC/B,KAAK,CAAC;QACN,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG;IAChB;AACJ;AACO,MAAM;IACT,YAAY,OAAO,CAAE;QACjB,IAAI;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,QAAQ,OAAO,CAAC,OAAO,CAAC,OAAO;QACtD,IAAI,CAAC,cAAc,GAAG,QAAQ,cAAc;QAC5C,IAAI,CAAC,SAAS,GAAG,CAAC,KAAK,QAAQ,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;IAC/E;IACA,MAAM,QAAQ,OAAO,EAAE;QACnB,IAAI,IAAI,IAAI;QACZ,MAAM,MAAM,IAAI,IAAI,QAAQ,IAAI,EAAE,IAAI,CAAC,OAAO;QAC9C,IAAI,QAAQ,KAAK,EAAE;YACf,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,EAAG;gBACtD,IAAI,UAAU,aAAa,UAAU,MAAM;oBACvC;gBACJ;gBACA,IAAI,YAAY,CAAC,GAAG,CAAC,IAAA,uLAAS,EAAC,MAAM,OAAO;YAChD;QACJ;QACA,MAAM,UAAU;YACZ,QAAQ;YACR,GAAI,CAAC,KAAK,QAAQ,OAAO,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,CAAC,CAAC;QAClE;QACA,IAAI;QACJ,IAAI,QAAQ,IAAI,YAAY,YAAY,OAAO,QAAQ,IAAI,KAAK,UAAU;YACtE,OAAO,QAAQ,IAAI;QACvB,OACK,IAAI,QAAQ,IAAI,EAAE;YACnB,OAAO,CAAC,eAAe,GAAG;YAC1B,OAAO,KAAK,SAAS,CAAC,gBAAgB,QAAQ,IAAI;QACtD;QACA,MAAM,QAAQ,IAAI,CAAC,cAAc,GAAG,MAAM,IAAI,CAAC,cAAc,KAAK;QAClE,IAAI,OAAO;YACP,QAAQ,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAC7C;QACA,MAAM,WAAW,MAAM,IAAI,CAAC,SAAS,CAAC,KAAK;YACvC,QAAQ,CAAC,KAAK,QAAQ,MAAM,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;YAC/D;YACA,QAAQ,QAAQ,MAAM;YACtB;QACJ;QACA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,UAAU,MAAM,aAAa;YACnC,MAAM,IAAI,aAAa,CAAC,WAAW,EAAE,QAAQ,IAAI,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE,EAAE,SAAS,MAAM,EAAE;QAChH;QACA,IAAI,SAAS,MAAM,KAAK,KAAK;YACzB,OAAO;QACX;QACA,MAAM,cAAc,CAAC,KAAK,SAAS,OAAO,CAAC,GAAG,CAAC,eAAe,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;QACjG,IAAI,YAAY,QAAQ,CAAC,qBAAqB;YAC1C,OAAQ,MAAM,SAAS,IAAI;QAC/B;QACA,OAAO;IACX;AACJ;AACO,SAAS,gBAAgB,KAAK;IACjC,MAAM,UAAU,OAAO,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,GAAK;YAAC,IAAA,uLAAS,EAAC;YAAM;SAAI;IAC/E,OAAO,OAAO,WAAW,CAAC;AAC9B;AACA,eAAe,aAAa,QAAQ;IAChC,IAAI;QACA,OAAO,MAAM,SAAS,IAAI;IAC9B,EACA,OAAO,OAAO;QACV,OAAO;IACX;AACJ","debugId":null}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/packages/api-client/dist/housekeeping.js"],"sourcesContent":["export class HousekeepingApi {\r\n    constructor(client) {\r\n        this.client = client;\r\n    }\r\n    async listTasks(query) {\r\n        const { propertyId, signal, ...filters } = query;\r\n        const payload = await this.client.request({\r\n            path: `/properties/${propertyId}/housekeeping`,\r\n            method: 'GET',\r\n            query: filters,\r\n            signal\r\n        });\r\n        return {\r\n            items: payload.items.map(mapTask),\r\n            pagination: mapPagination(payload.pagination)\r\n        };\r\n    }\r\n    async updateTask(taskId, payload) {\r\n        const dto = await this.client.request({\r\n            path: `/housekeeping/tasks/${taskId}`,\r\n            method: 'PATCH',\r\n            body: payload\r\n        });\r\n        return mapTask(dto);\r\n    }\r\n}\r\nfunction mapTask(dto) {\r\n    return {\r\n        id: dto.id,\r\n        propertyId: dto.property_id,\r\n        reservationId: dto.reservation_id,\r\n        assignedAgentId: dto.assigned_agent_id,\r\n        status: dto.status,\r\n        scheduledDate: dto.scheduled_date,\r\n        notes: dto.notes,\r\n        createdAt: dto.created_at\r\n    };\r\n}\r\nfunction mapPagination(dto) {\r\n    return {\r\n        page: dto.page,\r\n        pageSize: dto.page_size,\r\n        total: dto.total,\r\n        totalPages: dto.total_pages\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,MAAM;IACT,YAAY,MAAM,CAAE;QAChB,IAAI,CAAC,MAAM,GAAG;IAClB;IACA,MAAM,UAAU,KAAK,EAAE;QACnB,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,SAAS,GAAG;QAC3C,MAAM,UAAU,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACtC,MAAM,CAAC,YAAY,EAAE,WAAW,aAAa,CAAC;YAC9C,QAAQ;YACR,OAAO;YACP;QACJ;QACA,OAAO;YACH,OAAO,QAAQ,KAAK,CAAC,GAAG,CAAC;YACzB,YAAY,cAAc,QAAQ,UAAU;QAChD;IACJ;IACA,MAAM,WAAW,MAAM,EAAE,OAAO,EAAE;QAC9B,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YAClC,MAAM,CAAC,oBAAoB,EAAE,QAAQ;YACrC,QAAQ;YACR,MAAM;QACV;QACA,OAAO,QAAQ;IACnB;AACJ;AACA,SAAS,QAAQ,GAAG;IAChB,OAAO;QACH,IAAI,IAAI,EAAE;QACV,YAAY,IAAI,WAAW;QAC3B,eAAe,IAAI,cAAc;QACjC,iBAAiB,IAAI,iBAAiB;QACtC,QAAQ,IAAI,MAAM;QAClB,eAAe,IAAI,cAAc;QACjC,OAAO,IAAI,KAAK;QAChB,WAAW,IAAI,UAAU;IAC7B;AACJ;AACA,SAAS,cAAc,GAAG;IACtB,OAAO;QACH,MAAM,IAAI,IAAI;QACd,UAAU,IAAI,SAAS;QACvB,OAAO,IAAI,KAAK;QAChB,YAAY,IAAI,WAAW;IAC/B;AACJ","debugId":null}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/packages/api-client/dist/incidents.js"],"sourcesContent":["export class IncidentApi {\r\n    constructor(client) {\r\n        this.client = client;\r\n    }\r\n    async submit(ownerId, payload) {\r\n        return this.client.request({\r\n            path: `/owners/${ownerId}/incidents`,\r\n            method: 'POST',\r\n            body: payload\r\n        });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,MAAM;IACT,YAAY,MAAM,CAAE;QAChB,IAAI,CAAC,MAAM,GAAG;IAClB;IACA,MAAM,OAAO,OAAO,EAAE,OAAO,EAAE;QAC3B,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACvB,MAAM,CAAC,QAAQ,EAAE,QAAQ,UAAU,CAAC;YACpC,QAAQ;YACR,MAAM;QACV;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/packages/api-client/dist/notifications.js"],"sourcesContent":["export class NotificationApi {\r\n    constructor(client) {\r\n        this.client = client;\r\n    }\r\n    async registerDevice(ownerId, payload) {\r\n        await this.client.request({\r\n            path: `/owners/${ownerId}/devices`,\r\n            method: 'POST',\r\n            body: payload\r\n        });\r\n    }\r\n    async unregisterDevice(ownerId, token) {\r\n        await this.client.request({\r\n            path: `/owners/${ownerId}/devices/${encodeURIComponent(token)}`,\r\n            method: 'DELETE'\r\n        });\r\n    }\r\n    async listDevices(ownerId) {\r\n        const payload = await this.client.request({\r\n            path: `/owners/${ownerId}/devices`,\r\n            method: 'GET'\r\n        });\r\n        return payload;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,MAAM;IACT,YAAY,MAAM,CAAE;QAChB,IAAI,CAAC,MAAM,GAAG;IAClB;IACA,MAAM,eAAe,OAAO,EAAE,OAAO,EAAE;QACnC,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACtB,MAAM,CAAC,QAAQ,EAAE,QAAQ,QAAQ,CAAC;YAClC,QAAQ;YACR,MAAM;QACV;IACJ;IACA,MAAM,iBAAiB,OAAO,EAAE,KAAK,EAAE;QACnC,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACtB,MAAM,CAAC,QAAQ,EAAE,QAAQ,SAAS,EAAE,mBAAmB,QAAQ;YAC/D,QAAQ;QACZ;IACJ;IACA,MAAM,YAAY,OAAO,EAAE;QACvB,MAAM,UAAU,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACtC,MAAM,CAAC,QAAQ,EAAE,QAAQ,QAAQ,CAAC;YAClC,QAAQ;QACZ;QACA,OAAO;IACX;AACJ","debugId":null}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/packages/api-client/dist/client.js"],"sourcesContent":["import { CoreApiClient } from './core.js';\r\nimport { HousekeepingApi } from './housekeeping.js';\r\nimport { IncidentApi } from './incidents.js';\r\nimport { NotificationApi } from './notifications.js';\r\nexport class BmadApiClient extends CoreApiClient {\r\n    constructor(options) {\r\n        super(options);\r\n        this.housekeeping = new HousekeepingApi(this);\r\n        this.incidents = new IncidentApi(this);\r\n        this.notifications = new NotificationApi(this);\r\n    }\r\n}\r\nexport function createApiClient(options) {\r\n    return new BmadApiClient(options);\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AACO,MAAM,sBAAsB,0LAAa;IAC5C,YAAY,OAAO,CAAE;QACjB,KAAK,CAAC;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,oMAAe,CAAC,IAAI;QAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,6LAAW,CAAC,IAAI;QACrC,IAAI,CAAC,aAAa,GAAG,IAAI,qMAAe,CAAC,IAAI;IACjD;AACJ;AACO,SAAS,gBAAgB,OAAO;IACnC,OAAO,IAAI,cAAc;AAC7B","debugId":null}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/packages/api-client/dist/index.js"],"sourcesContent":["export * from './core.js';\r\nexport * from './client.js';\r\nexport { HousekeepingApi } from './housekeeping.js';\r\nexport { IncidentApi } from './incidents.js';\r\nexport { NotificationApi } from './notifications.js';\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/client.ts"],"sourcesContent":["import { BmadApiClient, createApiClient } from '@bmad/api-client';\r\n\r\nlet client: BmadApiClient | null = null;\r\n\r\nexport function getApiClient(): BmadApiClient {\r\n  if (!client) {\r\n    const baseUrl = process.env.NEXT_PUBLIC_CORE_API_BASE_URL ?? 'http://localhost:8000';\r\n    const fetchProxy: typeof fetch = (input, init) => globalThis.fetch(input, init);\r\n\r\n    client = createApiClient({\r\n      baseUrl,\r\n      fetchImpl: fetchProxy\r\n    });\r\n  }\r\n  return client;\r\n}\r\n\r\nexport function resetApiClient(): void {\r\n  client = null;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAMoB;AANpB;AAAA;;AAEA,IAAI,SAA+B;AAE5B,SAAS;IACd,IAAI,CAAC,QAAQ;QACX,MAAM,UAAU,6DAA6C;QAC7D,MAAM,aAA2B,CAAC,OAAO,OAAS,WAAW,KAAK,CAAC,OAAO;QAE1E,SAAS,IAAA,8LAAe,EAAC;YACvB;YACA,WAAW;QACb;IACF;IACA,OAAO;AACT;AAEO,SAAS;IACd,SAAS;AACX","debugId":null}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/housekeeping.ts"],"sourcesContent":["import type {\r\n  HousekeepingTaskListResponse,\r\n  HousekeepingTaskQuery,\r\n  HousekeepingTask,\r\n  HousekeepingTaskUpdatePayload,\r\n  PaginationMeta,\r\n  HousekeepingStatus\r\n} from '@bmad/api-client';\r\nimport { CoreApiError } from '@bmad/api-client';\r\n\r\nimport { getApiClient } from './client';\r\n\r\nexport type {\r\n  HousekeepingTask,\r\n  HousekeepingStatus,\r\n  HousekeepingTaskListResponse,\r\n  HousekeepingTaskQuery,\r\n  HousekeepingTaskUpdatePayload,\r\n  PaginationMeta\r\n};\r\nexport { CoreApiError };\r\n\r\nexport async function getHousekeepingTasks(\r\n  query: HousekeepingTaskQuery\r\n): Promise<HousekeepingTaskListResponse> {\r\n  try {\r\n    return await getApiClient().housekeeping.listTasks(query);\r\n  } catch (error) {\r\n    if (error instanceof CoreApiError) {\r\n      throw error;\r\n    }\r\n    throw new CoreApiError('Failed to load housekeeping tasks', 500, null);\r\n  }\r\n}\r\n\r\nexport async function updateHousekeepingTask(\r\n  taskId: number,\r\n  payload: HousekeepingTaskUpdatePayload\r\n): Promise<HousekeepingTask> {\r\n  try {\r\n    return await getApiClient().housekeeping.updateTask(taskId, payload);\r\n  } catch (error) {\r\n    if (error instanceof CoreApiError) {\r\n      throw error;\r\n    }\r\n    throw new CoreApiError('Failed to update housekeeping task', 500, null);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAQA;AAAA;AAEA;;;;AAYO,eAAe,qBACpB,KAA4B;IAE5B,IAAI;QACF,OAAO,MAAM,IAAA,wLAAY,IAAG,YAAY,CAAC,SAAS,CAAC;IACrD,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,yLAAY,EAAE;YACjC,MAAM;QACR;QACA,MAAM,IAAI,yLAAY,CAAC,qCAAqC,KAAK;IACnE;AACF;AAEO,eAAe,uBACpB,MAAc,EACd,OAAsC;IAEtC,IAAI;QACF,OAAO,MAAM,IAAA,wLAAY,IAAG,YAAY,CAAC,UAAU,CAAC,QAAQ;IAC9D,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,yLAAY,EAAE;YACjC,MAAM;QACR;QACA,MAAM,IAAI,yLAAY,CAAC,sCAAsC,KAAK;IACpE;AACF","debugId":null}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/offline/OfflineContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\n\r\nimport {\r\n  enqueueTaskUpdate as enqueueTaskUpdateInQueue,\r\n  readTaskUpdates,\r\n  removeTaskUpdate as removeTaskUpdateInQueue,\r\n  type EnqueueTaskUpdateInput,\r\n  type OfflineTaskMutation\r\n} from '@/lib/offline-queue';\r\nimport { updateHousekeepingTask } from '@/services/api/housekeeping';\r\n\r\ninterface OfflineContextValue {\r\n  isOffline: boolean;\r\n  lastChangedAt: number | null;\r\n  pendingActions: string[];\r\n  enqueueTaskUpdate: (input: EnqueueTaskUpdateInput) => Promise<OfflineTaskMutation>;\r\n  removeTaskUpdate: (id: string) => Promise<void>;\r\n  flushQueue: (options?: { manual?: boolean }) => Promise<void>;\r\n  onManualSync: (listener: () => void) => () => void;\r\n  isSyncing: boolean;\r\n}\r\n\r\nconst OfflineContext = createContext<OfflineContextValue | undefined>(undefined);\r\n\r\nexport function OfflineProvider({ children }: { children: React.ReactNode }) {\r\n  const [isOffline, setIsOffline] = useState<boolean>(false);\r\n  const [lastChangedAt, setLastChangedAt] = useState<number | null>(null);\r\n  const [pendingMutations, setPendingMutations] = useState<OfflineTaskMutation[]>([]);\r\n  const [isSyncing, setIsSyncing] = useState(false);\r\n  const manualSyncListeners = useRef(new Set<() => void>());\r\n\r\n  const isClient = typeof window !== 'undefined';\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    const syncInitialStatus = () => {\r\n      const offline = !navigator.onLine;\r\n      setIsOffline(offline);\r\n      if (offline) {\r\n        setLastChangedAt(Date.now());\r\n      }\r\n    };\r\n\r\n    syncInitialStatus();\r\n\r\n    const handleOnline = () => {\r\n      setIsOffline(false);\r\n      setLastChangedAt(Date.now());\r\n    };\r\n\r\n    const handleOffline = () => {\r\n      setIsOffline(true);\r\n      setLastChangedAt(Date.now());\r\n    };\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  const refreshPendingMutations = useCallback(async () => {\r\n    if (!isClient) {\r\n      return;\r\n    }\r\n    try {\r\n      const mutations = await readTaskUpdates();\r\n      setPendingMutations(mutations);\r\n    } catch (error) {\r\n      console.error('Não foi possível ler fila offline', error);\r\n    }\r\n  }, [isClient]);\r\n\r\n  useEffect(() => {\r\n    void refreshPendingMutations();\r\n  }, [refreshPendingMutations]);\r\n\r\n  const enqueueTaskUpdate = useCallback(\r\n    async (input: EnqueueTaskUpdateInput) => {\r\n      const mutation = await enqueueTaskUpdateInQueue(input);\r\n      setPendingMutations((prev) =>\r\n        [...prev, mutation].sort((a, b) => a.createdAt - b.createdAt)\r\n      );\r\n      if (isOffline) {\r\n        setLastChangedAt(Date.now());\r\n      }\r\n      return mutation;\r\n    },\r\n    [isOffline]\r\n  );\r\n\r\n  const removeTaskUpdate = useCallback(async (id: string) => {\r\n    await removeTaskUpdateInQueue(id);\r\n    setPendingMutations((prev) => prev.filter((mutation) => mutation.id !== id));\r\n  }, []);\r\n\r\n  const flushQueue = useCallback(\r\n    async ({ manual = false }: { manual?: boolean } = {}) => {\r\n      if (isOffline || !isClient) {\r\n        return;\r\n      }\r\n\r\n      setIsSyncing(true);\r\n      let hasSynced = false;\r\n\r\n      try {\r\n        const queuedMutations = await readTaskUpdates();\r\n        for (const mutation of queuedMutations) {\r\n          try {\r\n            await updateHousekeepingTask(mutation.taskId, mutation.updates);\r\n            await removeTaskUpdateInQueue(mutation.id);\r\n            hasSynced = true;\r\n          } catch (error) {\r\n            console.error('Falha ao reenviar mutação offline', error);\r\n            break;\r\n          }\r\n        }\r\n      } finally {\r\n        await refreshPendingMutations();\r\n        setIsSyncing(false);\r\n        if (hasSynced) {\r\n          setLastChangedAt(Date.now());\r\n        }\r\n        if (manual) {\r\n          manualSyncListeners.current.forEach((listener) => {\r\n            try {\r\n              listener();\r\n            } catch (error) {\r\n              console.error('Erro ao notificar listener de sincronização manual', error);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    [isClient, isOffline, refreshPendingMutations]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isOffline) {\r\n      void flushQueue();\r\n    }\r\n  }, [isOffline, flushQueue]);\r\n\r\n  const onManualSync = useCallback((listener: () => void) => {\r\n    manualSyncListeners.current.add(listener);\r\n    return () => {\r\n      manualSyncListeners.current.delete(listener);\r\n    };\r\n  }, []);\r\n\r\n  const pendingActions = useMemo(() => {\r\n    return pendingMutations.map((mutation) => mutation.description);\r\n  }, [pendingMutations]);\r\n\r\n  const value = useMemo<OfflineContextValue>(() => ({\r\n    isOffline,\r\n    lastChangedAt,\r\n    pendingActions,\r\n    enqueueTaskUpdate,\r\n    removeTaskUpdate,\r\n    flushQueue,\r\n    onManualSync,\r\n    isSyncing\r\n  }), [\r\n    isOffline,\r\n    lastChangedAt,\r\n    pendingActions,\r\n    enqueueTaskUpdate,\r\n    removeTaskUpdate,\r\n    flushQueue,\r\n    onManualSync,\r\n    isSyncing\r\n  ]);\r\n\r\n  return <OfflineContext.Provider value={value}>{children}</OfflineContext.Provider>;\r\n}\r\n\r\nexport function useOffline() {\r\n  const context = useContext(OfflineContext);\r\n  if (!context) {\r\n    throw new Error('useOffline deve ser usado dentro de OfflineProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/tour/TourContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nimport { useAnalytics } from '@/components/analytics/AnalyticsContext';\r\n\r\nexport type TourStep = {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  target?: string;\r\n};\r\n\r\nexport type TourRegistration = {\r\n  id: string;\r\n  title: string;\r\n  description?: string;\r\n  steps: TourStep[];\r\n  route?: string | string[];\r\n  autoStart?: boolean;\r\n  metadata?: Record<string, string>;\r\n};\r\n\r\ninterface TourContextValue {\r\n  isOpen: boolean;\r\n  currentIndex: number;\r\n  steps: TourStep[];\r\n  activeStep: TourStep | null;\r\n  activeTourId: string | null;\r\n  tours: TourRegistration[];\r\n  open: (tourId?: string) => void;\r\n  startTour: (tourId: string) => void;\r\n  close: (options?: { markCompleted?: boolean }) => void;\r\n  next: () => void;\r\n  previous: () => void;\r\n  registerTour: (registration: TourRegistration) => () => void;\r\n  hasCompleted: (tourId: string) => boolean;\r\n  markCompleted: (tourId: string) => void;\r\n}\r\n\r\nconst COMPLETED_STORAGE_KEY = 'bmad:guided-tour:completed';\r\n\r\nconst TourContext = createContext<TourContextValue | undefined>(undefined);\r\n\r\nfunction normalizeRoutes(route?: string | string[]): string[] {\r\n  if (!route) {\r\n    return [];\r\n  }\r\n  if (Array.isArray(route)) {\r\n    return route;\r\n  }\r\n  return [route];\r\n}\r\n\r\nexport function tourMatchesPath(route: string | string[] | undefined, pathname: string): boolean {\r\n  const routes = normalizeRoutes(route);\r\n  if (routes.length === 0) {\r\n    return true;\r\n  }\r\n  return routes.some((entry) => {\r\n    if (entry === '*') {\r\n      return true;\r\n    }\r\n    if (entry.endsWith('*')) {\r\n      const prefix = entry.slice(0, -1);\r\n      return pathname.startsWith(prefix);\r\n    }\r\n    return pathname === entry;\r\n  });\r\n}\r\n\r\nexport function GuidedTourProvider({ children }: { children: React.ReactNode }) {\r\n  const analytics = useAnalytics();\r\n  const pathname = usePathname();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [activeTourId, setActiveTourId] = useState<string | null>(null);\r\n  const [registrations, setRegistrations] = useState<Record<string, TourRegistration>>({});\r\n  const [completed, setCompleted] = useState<string[]>([]);\r\n  const autoStartTriggeredRef = useRef(new Set<string>());\r\n  const lastPathnameRef = useRef(pathname);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n    try {\r\n      const stored = window.localStorage.getItem(COMPLETED_STORAGE_KEY);\r\n      if (!stored) {\r\n        return;\r\n      }\r\n      const parsed = JSON.parse(stored) as unknown;\r\n      if (Array.isArray(parsed)) {\r\n        const sanitized = parsed.filter((item): item is string => typeof item === 'string');\r\n        setCompleted(sanitized);\r\n      }\r\n    } catch (error) {\r\n      console.warn('guided_tour_completed_read_failed', error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n    try {\r\n      window.localStorage.setItem(COMPLETED_STORAGE_KEY, JSON.stringify(completed));\r\n    } catch (error) {\r\n      console.warn('guided_tour_completed_write_failed', error);\r\n    }\r\n  }, [completed]);\r\n\r\n  const completedSet = useMemo(() => new Set(completed), [completed]);\r\n\r\n  const registerTour = useCallback((registration: TourRegistration) => {\r\n    setRegistrations((previous) => {\r\n      const current = previous[registration.id];\r\n      if (current === registration) {\r\n        return previous;\r\n      }\r\n      return { ...previous, [registration.id]: registration };\r\n    });\r\n    return () => {\r\n      setRegistrations((previous) => {\r\n        if (!(registration.id in previous)) {\r\n          return previous;\r\n        }\r\n        const next = { ...previous };\r\n        delete next[registration.id];\r\n        return next;\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  const markCompleted = useCallback(\r\n    (tourId: string) => {\r\n      setCompleted((previous) => {\r\n        if (previous.includes(tourId)) {\r\n          return previous;\r\n        }\r\n        const next = [...previous, tourId];\r\n        return next;\r\n      });\r\n\r\n      const registration = registrations[tourId];\r\n      analytics.track('tour.completed', {\r\n        tourId,\r\n        route: registration?.route ?? 'global',\r\n        steps: registration?.steps.length ?? 0\r\n      });\r\n    },\r\n    [analytics, registrations]\r\n  );\r\n\r\n  const startTour = useCallback(\r\n    (tourId: string) => {\r\n      const registration = registrations[tourId];\r\n      if (!registration || registration.steps.length === 0) {\r\n        return;\r\n      }\r\n      setActiveTourId(tourId);\r\n      setCurrentIndex(0);\r\n      setIsOpen(true);\r\n      analytics.track('tour.started', {\r\n        tourId,\r\n        route: registration.route ?? 'global',\r\n        autoStart: registration.autoStart ?? false\r\n      });\r\n    },\r\n    [analytics, registrations]\r\n  );\r\n\r\n  const open = useCallback(\r\n    (tourId?: string) => {\r\n      if (tourId) {\r\n        startTour(tourId);\r\n        return;\r\n      }\r\n      const firstTour = Object.values(registrations)[0];\r\n      if (firstTour) {\r\n        startTour(firstTour.id);\r\n      }\r\n    },\r\n    [registrations, startTour]\r\n  );\r\n\r\n  const close = useCallback(\r\n    (options: { markCompleted?: boolean } = {}) => {\r\n      const { markCompleted: shouldComplete = false } = options;\r\n      const currentTourId = activeTourId;\r\n      setIsOpen(false);\r\n      setCurrentIndex(0);\r\n      if (shouldComplete && currentTourId) {\r\n        markCompleted(currentTourId);\r\n      }\r\n      analytics.track('tour.closed', {\r\n        tourId: currentTourId,\r\n        markedCompleted: shouldComplete\r\n      });\r\n      if (shouldComplete) {\r\n        setActiveTourId(null);\r\n      }\r\n    },\r\n    [activeTourId, analytics, markCompleted]\r\n  );\r\n\r\n  const next = useCallback(() => {\r\n    if (!activeTourId) {\r\n      return;\r\n    }\r\n    const registration = registrations[activeTourId];\r\n    if (!registration) {\r\n      return;\r\n    }\r\n    const lastIndex = registration.steps.length - 1;\r\n    if (currentIndex >= lastIndex) {\r\n      markCompleted(activeTourId);\r\n      setIsOpen(false);\r\n      setActiveTourId(null);\r\n      setCurrentIndex(0);\r\n      return;\r\n    }\r\n    setCurrentIndex((index) => Math.min(index + 1, lastIndex));\r\n  }, [activeTourId, currentIndex, markCompleted, registrations]);\r\n\r\n  const previous = useCallback(() => {\r\n    setCurrentIndex((index) => Math.max(index - 1, 0));\r\n  }, []);\r\n\r\n  const hasCompleted = useCallback((tourId: string) => completedSet.has(tourId), [completedSet]);\r\n\r\n  useEffect(() => {\r\n    if (!pathname || isOpen) {\r\n      return;\r\n    }\r\n    const registrationsList = Object.values(registrations);\r\n    for (const registration of registrationsList) {\r\n      if (!registration.autoStart) {\r\n        continue;\r\n      }\r\n      if (!tourMatchesPath(registration.route, pathname)) {\r\n        continue;\r\n      }\r\n      if (completedSet.has(registration.id)) {\r\n        continue;\r\n      }\r\n      const key = `${registration.id}:${pathname}`;\r\n      if (autoStartTriggeredRef.current.has(key)) {\r\n        continue;\r\n      }\r\n      autoStartTriggeredRef.current.add(key);\r\n      startTour(registration.id);\r\n      break;\r\n    }\r\n  }, [completedSet, isOpen, pathname, registrations, startTour]);\r\n\r\n  useEffect(() => {\r\n    if (!pathname) {\r\n      return;\r\n    }\r\n    if (lastPathnameRef.current === pathname) {\r\n      return;\r\n    }\r\n    lastPathnameRef.current = pathname;\r\n\r\n    if (isOpen) {\r\n      close();\r\n    }\r\n\r\n    if (activeTourId) {\r\n      setActiveTourId(null);\r\n    }\r\n\r\n    setCurrentIndex(0);\r\n  }, [activeTourId, close, isOpen, pathname, setCurrentIndex]);\r\n\r\n  const activeTour = useMemo(() => {\r\n    if (!activeTourId) {\r\n      return null;\r\n    }\r\n    return registrations[activeTourId] ?? null;\r\n  }, [activeTourId, registrations]);\r\n\r\n  const steps = useMemo(() => {\r\n    return activeTour?.steps ?? [];\r\n  }, [activeTour]);\r\n\r\n  const activeStep = steps[currentIndex] ?? null;\r\n  const tours = useMemo(() => Object.values(registrations), [registrations]);\r\n\r\n  const value = useMemo<TourContextValue>(\r\n    () => ({\r\n      isOpen,\r\n      currentIndex,\r\n      steps,\r\n      activeStep,\r\n      activeTourId,\r\n      tours,\r\n      open,\r\n      startTour,\r\n      close,\r\n      next,\r\n      previous,\r\n      registerTour,\r\n      hasCompleted,\r\n      markCompleted\r\n    }),\r\n    [\r\n      activeStep,\r\n      activeTourId,\r\n      close,\r\n      currentIndex,\r\n      hasCompleted,\r\n      isOpen,\r\n      markCompleted,\r\n      next,\r\n      open,\r\n      previous,\r\n      registerTour,\r\n      startTour,\r\n      steps,\r\n      tours\r\n    ]\r\n  );\r\n\r\n  return <TourContext.Provider value={value}>{children}</TourContext.Provider>;\r\n}\r\n\r\nexport function useGuidedTour() {\r\n  const context = useContext(TourContext);\r\n  if (!context) {\r\n    throw new Error('useGuidedTour deve ser usado dentro de GuidedTourProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/telemetry/TelemetryProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nlet configured = false;\r\n\r\nexport function TelemetryProvider({ children }: { children: React.ReactNode }) {\r\n  useEffect(() => {\r\n    if (configured) {\r\n      return;\r\n    }\r\n    configured = true;\r\n    void import('@/telemetry/init').then(async (module) => {\r\n      const runtime = await module.initTelemetry();\r\n      if (!runtime) {\r\n        console.info(\r\n          '[Telemetry] Telemetria não será inicializada (desativada ou indisponível no ambiente atual).'\r\n        );\r\n        return;\r\n      }\r\n      const { registerAnalyticsInstrumentation } = await import('@/telemetry/analytics');\r\n      registerAnalyticsInstrumentation(runtime);\r\n    });\r\n  }, []);\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,IAAI,aAAa;AAEV,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;;IAC3E,IAAA,uMAAS;uCAAC;YACR,IAAI,YAAY;gBACd;YACF;YACA,aAAa;YACb,KAAK,4HAA2B,IAAI;+CAAC,OAAO;oBAC1C,MAAM,UAAU,MAAM,OAAO,aAAa;oBAC1C,IAAI,CAAC,SAAS;wBACZ,QAAQ,IAAI,CACV;wBAEF;oBACF;oBACA,MAAM,EAAE,gCAAgC,EAAE,GAAG;oBAC7C,iCAAiC;gBACnC;;QACF;sCAAG,EAAE;IAEL,qBAAO;kBAAG;;AACZ;GApBgB;KAAA","debugId":null}},
    {"offset": {"line": 1217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/i18n/catalog.ts"],"sourcesContent":["export type MessageValue = string | MessageDictionary;\r\nexport type MessageDictionary = { [key: string]: MessageValue };\r\nexport type LocaleCode = 'en' | 'pt-BR';\r\n\r\nconst FALLBACK_LOCALE: LocaleCode = 'en';\r\n\r\nconst LOCALE_LOADERS: Record<LocaleCode, () => Promise<MessageDictionary>> = {\r\n  en: async () => (await import('./locales/en.json')).default,\r\n  'pt-BR': async () => (await import('./locales/pt-BR.json')).default\r\n};\r\n\r\nconst LOCALE_ALIASES: Record<string, LocaleCode> = {\r\n  en: 'en',\r\n  'en-us': 'en',\r\n  'en-gb': 'en',\r\n  pt: 'pt-BR',\r\n  'pt-br': 'pt-BR',\r\n  'pt-pt': 'pt-BR',\r\n  'pt_br': 'pt-BR'\r\n};\r\n\r\nconst catalogCache = new Map<LocaleCode, Promise<MessageDictionary>>();\r\n\r\nexport function normalizeLocaleCode(input?: string | null): LocaleCode {\r\n  if (!input) {\r\n    return FALLBACK_LOCALE;\r\n  }\r\n  const normalized = input.trim();\r\n  if (!normalized) {\r\n    return FALLBACK_LOCALE;\r\n  }\r\n  const lookupKey = normalized.toLowerCase();\r\n  if (lookupKey in LOCALE_ALIASES) {\r\n    return LOCALE_ALIASES[lookupKey];\r\n  }\r\n  if ((LOCALE_LOADERS as Record<string, unknown>)[normalized]) {\r\n    return normalized as LocaleCode;\r\n  }\r\n  return FALLBACK_LOCALE;\r\n}\r\n\r\nexport function getFallbackLocale(): LocaleCode {\r\n  return FALLBACK_LOCALE;\r\n}\r\n\r\nexport function listSupportedLocales(): LocaleCode[] {\r\n  return Object.keys(LOCALE_LOADERS) as LocaleCode[];\r\n}\r\n\r\nexport async function loadLocaleMessages(locale: string): Promise<MessageDictionary> {\r\n  const normalized = normalizeLocaleCode(locale);\r\n  if (!catalogCache.has(normalized)) {\r\n    const loader = LOCALE_LOADERS[normalized];\r\n    catalogCache.set(\r\n      normalized,\r\n      loader().catch(async () => {\r\n        if (normalized !== FALLBACK_LOCALE) {\r\n          return LOCALE_LOADERS[FALLBACK_LOCALE]();\r\n        }\r\n        return {};\r\n      })\r\n    );\r\n  }\r\n  return catalogCache.get(normalized)!;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAIA,MAAM,kBAA8B;AAEpC,MAAM,iBAAuE;IAC3E,IAAI,UAAY,CAAC,qHAAiC,EAAE,OAAO;IAC3D,SAAS,UAAY,CAAC,wHAAoC,EAAE,OAAO;AACrE;AAEA,MAAM,iBAA6C;IACjD,IAAI;IACJ,SAAS;IACT,SAAS;IACT,IAAI;IACJ,SAAS;IACT,SAAS;IACT,SAAS;AACX;AAEA,MAAM,eAAe,IAAI;AAElB,SAAS,oBAAoB,KAAqB;IACvD,IAAI,CAAC,OAAO;QACV,OAAO;IACT;IACA,MAAM,aAAa,MAAM,IAAI;IAC7B,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IACA,MAAM,YAAY,WAAW,WAAW;IACxC,IAAI,aAAa,gBAAgB;QAC/B,OAAO,cAAc,CAAC,UAAU;IAClC;IACA,IAAI,AAAC,cAA0C,CAAC,WAAW,EAAE;QAC3D,OAAO;IACT;IACA,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB;AAEO,eAAe,mBAAmB,MAAc;IACrD,MAAM,aAAa,oBAAoB;IACvC,IAAI,CAAC,aAAa,GAAG,CAAC,aAAa;QACjC,MAAM,SAAS,cAAc,CAAC,WAAW;QACzC,aAAa,GAAG,CACd,YACA,SAAS,KAAK,CAAC;YACb,IAAI,eAAe,iBAAiB;gBAClC,OAAO,cAAc,CAAC,gBAAgB;YACxC;YACA,OAAO,CAAC;QACV;IAEJ;IACA,OAAO,aAAa,GAAG,CAAC;AAC1B","debugId":null}},
    {"offset": {"line": 1285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/i18n/translator.ts"],"sourcesContent":["import { MessageDictionary, MessageValue } from './catalog';\r\n\r\nexport type TranslationValues = Record<string, string | number | boolean | Date>;\r\n\r\nfunction isDictionary(value: MessageValue): value is MessageDictionary {\r\n  return typeof value === 'object' && value !== null;\r\n}\r\n\r\nfunction resolveMessage(dictionary: MessageDictionary, key: string): string | undefined {\r\n  const segments = key.split('.');\r\n  let current: MessageValue = dictionary;\r\n  for (const segment of segments) {\r\n    if (!isDictionary(current)) {\r\n      return undefined;\r\n    }\r\n    if (!(segment in current)) {\r\n      return undefined;\r\n    }\r\n    current = current[segment];\r\n  }\r\n  return typeof current === 'string' ? current : undefined;\r\n}\r\n\r\nfunction stringifyValue(value: string | number | boolean | Date): string {\r\n  if (value instanceof Date) {\r\n    return value.toISOString();\r\n  }\r\n  return String(value);\r\n}\r\n\r\nfunction formatTemplate(template: string, values?: TranslationValues): string {\r\n  if (!values) {\r\n    return template;\r\n  }\r\n  return template.replace(/\\{\\{\\s*([\\w.-]+)\\s*\\}\\}/g, (match, token) => {\r\n    if (!(token in values)) {\r\n      return match;\r\n    }\r\n    return stringifyValue(values[token]);\r\n  });\r\n}\r\n\r\nexport function translate(\r\n  messages: MessageDictionary | null,\r\n  fallbackMessages: MessageDictionary | null,\r\n  key: string,\r\n  values?: TranslationValues\r\n): string {\r\n  const primary = messages ? resolveMessage(messages, key) : undefined;\r\n  const fallback = !primary && fallbackMessages ? resolveMessage(fallbackMessages, key) : undefined;\r\n  const resolved = primary ?? fallback;\r\n  if (!resolved) {\r\n    return key;\r\n  }\r\n  return formatTemplate(resolved, values);\r\n}\r\n"],"names":[],"mappings":";;;;AAIA,SAAS,aAAa,KAAmB;IACvC,OAAO,OAAO,UAAU,YAAY,UAAU;AAChD;AAEA,SAAS,eAAe,UAA6B,EAAE,GAAW;IAChE,MAAM,WAAW,IAAI,KAAK,CAAC;IAC3B,IAAI,UAAwB;IAC5B,KAAK,MAAM,WAAW,SAAU;QAC9B,IAAI,CAAC,aAAa,UAAU;YAC1B,OAAO;QACT;QACA,IAAI,CAAC,CAAC,WAAW,OAAO,GAAG;YACzB,OAAO;QACT;QACA,UAAU,OAAO,CAAC,QAAQ;IAC5B;IACA,OAAO,OAAO,YAAY,WAAW,UAAU;AACjD;AAEA,SAAS,eAAe,KAAuC;IAC7D,IAAI,iBAAiB,MAAM;QACzB,OAAO,MAAM,WAAW;IAC1B;IACA,OAAO,OAAO;AAChB;AAEA,SAAS,eAAe,QAAgB,EAAE,MAA0B;IAClE,IAAI,CAAC,QAAQ;QACX,OAAO;IACT;IACA,OAAO,SAAS,OAAO,CAAC,4BAA4B,CAAC,OAAO;QAC1D,IAAI,CAAC,CAAC,SAAS,MAAM,GAAG;YACtB,OAAO;QACT;QACA,OAAO,eAAe,MAAM,CAAC,MAAM;IACrC;AACF;AAEO,SAAS,UACd,QAAkC,EAClC,gBAA0C,EAC1C,GAAW,EACX,MAA0B;IAE1B,MAAM,UAAU,WAAW,eAAe,UAAU,OAAO;IAC3D,MAAM,WAAW,CAAC,WAAW,mBAAmB,eAAe,kBAAkB,OAAO;IACxF,MAAM,WAAW,WAAW;IAC5B,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IACA,OAAO,eAAe,UAAU;AAClC","debugId":null}},
    {"offset": {"line": 1338, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Desktop/Bmad-Method/apps/web/lib/i18n/locales/en.json"],"sourcesContent":["{\"common\":{\"skipToMainContent\":\"Skip to main content\",\"loading\":{\"navigation\":\"Preparing navigation context…\"}},\"auth\":{\"login\":{\"cardTitle\":\"Authentication\",\"cardDescription\":\"Sign in to the platform with strengthened MFA.\",\"labels\":{\"email\":\"Corporate email\",\"password\":\"Password\"},\"errors\":{\"missingCredentials\":\"Provide your email and password.\",\"coreFailure\":\"Authentication failed. Check your credentials.\",\"unexpected\":\"Unexpected error while contacting the API.\"},\"success\":{\"sessionStarted\":\"Session started for agent #{{agentId}}. Expires in {{minutes}} minutes.\"},\"actions\":{\"submit\":\"Sign in\",\"submitting\":\"Validating…\"},\"links\":{\"recoverPrompt\":\"Lost access to the second factor?\",\"recoverCta\":\"Start recovery\"}},\"mfa\":{\"invalidSessionTitle\":\"MFA validation\",\"invalidSessionDescription\":\"Invalid session\",\"invalidSessionBody\":\"We did not receive a valid session identifier. Return to the <link>login screen</link> to restart the flow.\",\"cardTitle\":\"Confirm second factor\",\"cardDescription\":\"Enter the 6-digit code or use a recovery code.\",\"methodLegend\":\"Method\",\"methods\":{\"totp\":\"Authenticator code\",\"recovery\":\"Recovery code\"},\"placeholders\":{\"totp\":\"000000\",\"recovery\":\"ABCDE-12345\"},\"errors\":{\"missingCode\":\"Provide the authenticator or recovery code.\",\"invalidCode\":\"Invalid code. Try again.\",\"unexpected\":\"We were unable to validate MFA.\"},\"success\":{\"confirmed\":\"MFA confirmed successfully. You can continue.\"},\"actions\":{\"submit\":\"Confirm MFA\",\"submitting\":\"Validating…\"},\"links\":{\"recover\":\"Request recovery\",\"needNewCodes\":\"Need new codes?\"}},\"recover\":{\"generateCardTitle\":\"Generate new codes\",\"generateCardDescription\":\"Produces a new set of recovery codes with immediate validity.\",\"completeCardTitle\":\"Complete recovery\",\"completeCardDescription\":\"Use one of the issued codes to create an authenticated session.\",\"labels\":{\"agentEmail\":\"Agent email\",\"recoveryCode\":\"Recovery code\"},\"errors\":{\"missingEmail\":\"Provide the email associated with the agent.\",\"missingEmailAndCode\":\"Provide email and recovery code.\",\"generateFailure\":\"Unable to generate new codes.\",\"generateUnexpected\":\"Unexpected failure while contacting the API.\",\"completeInvalid\":\"Invalid or expired code.\",\"completeUnexpected\":\"Recovery could not be completed.\"},\"feedback\":{\"generatedAt\":\"Store these codes safely. Issued at {{issuedAt}}.\",\"completeSuccess\":\"Recovery completed. <link>Return to login</link> to start a new session.\"},\"actions\":{\"generate\":\"Generate codes\",\"generating\":\"Generating…\",\"complete\":\"Complete recovery\",\"completing\":\"Validating…\"}}},\"housekeeping\":{\"status\":{\"pending\":\"Pending\",\"in_progress\":\"In progress\",\"completed\":\"Completed\",\"blocked\":\"Blocked\"},\"errors\":{\"offline\":\"Offline mode enabled. Real-time data will sync when the connection returns.\",\"fetchUnavailable\":\"Housekeeping service unavailable. Try again shortly.\",\"fetchFailed\":\"We could not load housekeeping tasks for this property.\",\"fetchUnexpected\":\"An unexpected error occurred while loading tasks.\",\"slaOffline\":\"SLA monitoring is not available in offline mode.\",\"slaUnavailable\":\"Unable to refresh partner SLAs. Service unavailable.\",\"slaFailed\":\"Failed to load SLAs. Try again later.\",\"slaUnexpected\":\"Unexpected error while loading partner SLAs.\",\"mutationUnavailable\":\"Sync unavailable. Try again shortly.\",\"mutationFailed\":\"Unable to update the task in core.\",\"mutationUnexpected\":\"An error occurred while updating the task.\"},\"sections\":{\"main\":{\"title\":\"Housekeeping\",\"subtitle\":\"Daily planning with offline-first support\"},\"connection\":{\"title\":\"Connection status\",\"description\":\"Monitor pending tasks and scheduled syncs.\",\"offline\":\"Offline mode enabled. Completed tasks will sync automatically once connectivity is restored.\",\"online\":\"Online. Automatic sync every 2 minutes plus manual sync available.\"},\"sla\":{\"title\":\"Partner SLAs\",\"subtitle\":\"Operational alerts with support partners\"},\"tasks\":{\"title\":\"Housekeeping tasks\",\"subtitle\":\"Prioritised assignments with core data\"},\"operations\":{\"title\":\"Real-time operations\",\"subtitle\":\"Syncs and metrics for managers\"}},\"loading\":{\"title\":\"Syncing tasks\",\"description\":\"Fetching the latest assignments.\",\"body\":\"Loading data from the core service...\"},\"loadingError\":{\"title\":\"Unable to load tasks\",\"body\":\"Check connectivity or try again shortly.\"},\"empty\":{\"title\":\"No tasks visible\",\"description\":\"No housekeeping tasks found for the requested period.\",\"body\":\"Adjust API filters to retrieve a different result set.\"},\"taskCard\":{\"title\":\"Task #{{id}}\",\"scheduled\":\"Scheduled for {{date}}\",\"reservation\":\"Reservation: {{value}}\",\"reservationFallback\":\"Unlinked\",\"assignee\":\"Assignee: {{value}}\",\"assigneeFallback\":\"Unassigned\",\"notes\":\"Notes: {{value}}\",\"notesFallback\":\"No additional notes.\",\"reopen\":\"Reopen task\",\"complete\":\"Mark as completed\",\"syncing\":\"Syncing…\"},\"sla\":{\"loadingTitle\":\"Tracking partner SLAs\",\"loadingDescription\":\"Synchronising response and resolution indicators.\",\"loadingBody\":\"Loading SLA indicators…\",\"errorTitle\":\"SLAs unavailable\",\"errorDescription\":\"Check with the integrations team to confirm the connection state.\",\"emptyTitle\":\"No SLAs configured\",\"emptyDescription\":\"No active SLA is associated with housekeeping partners.\",\"emptyBody\":\"Update partner records to display alerts in this panel.\"},\"queue\":{\"title\":\"Offline queue\",\"description\":\"Track pending mutations for the core service\",\"offline\":\"Offline mode enabled. Submissions will resume automatically.\",\"syncing\":\"Synchronising with core.\",\"online\":\"Online. No blockers to sync changes.\",\"empty\":\"No pending actions.\",\"action\":\"Sync now\",\"actionSyncing\":\"Syncing…\"},\"metrics\":{\"loadingTitle\":\"Waiting for sync\",\"loadingBody\":\"Refreshing indicators with the most recent data...\",\"errorTitle\":\"Indicators unavailable\",\"efficiencyTitle\":\"Efficiency indicators\",\"efficiency\":{\"total\":\"Total registered in core: {{value}}\",\"visible\":\"Tasks in this view: {{value}}\",\"backlog\":\"Active backlog: {{value}}\",\"completed\":\"Completed: {{value}}\",\"page\":\"Current page: {{page}}/{{pages}}\",\"updatedAt\":\"Last updated: {{value}}\"},\"upcomingTitle\":\"Upcoming executions\",\"upcomingItem\":\"#{{id}} · {{date}} · {{status}}\",\"noUpcoming\":\"No tasks scheduled for the selected window.\"},\"queueUpdate\":\"Task #{{id}} → {{status}}\"},\"owners\":{\"overview\":{\"section\":{\"title\":\"Owner financial overview\",\"subtitle\":\"Financial and operational indicators updated every 15 minutes\"},\"errors\":{\"loadFailed\":\"Failed to load owner data. Contact support for assistance.\",\"updateFailed\":\"Unable to update payout preferences right now.\",\"uploadMissing\":\"Select a valid document before submitting.\",\"uploadFailed\":\"Document upload failed. Try again.\"},\"loading\":\"Loading consolidated data…\",\"cards\":{\"occupancy\":{\"title\":\"Occupancy rate\",\"description\":\"Last 30 days\",\"properties\":\"{{count}} active properties\"},\"revenue\":{\"title\":\"Accumulated revenue\",\"description\":\"Current month\",\"adr\":\"Average daily rate {{value}}\"},\"compliance\":{\"title\":\"Compliance\",\"description\":\"KYC reviews and audits\",\"clear\":\"Compliant\",\"pending\":\"Review pending\",\"summary\":\"{{pending}} verifications remaining · {{documents}} documents delivered\"},\"payout\":{\"title\":\"Payout preferences\",\"description\":\"Update banking details and settlement frequency.\",\"success\":\"Payout preferences updated successfully.\",\"labels\":{\"beneficiary\":\"Beneficiary\",\"method\":\"Method\",\"lastDigits\":\"Last 4 account digits\",\"currency\":\"Currency\",\"threshold\":\"Minimum payout amount\",\"schedule\":\"Frequency\"},\"options\":{\"bank_transfer\":\"Bank transfer\",\"pix\":\"PIX (Brazil)\",\"paypal\":\"PayPal\",\"monthly\":\"Monthly\",\"weekly\":\"Weekly\"},\"submit\":\"Save preferences\"},\"documents\":{\"title\":\"Verification documents\",\"description\":\"Upload corporate records, bank proofs or ID.\",\"labels\":{\"type\":\"Document type\",\"file\":\"File\"},\"options\":{\"identidade\":\"Identity\",\"comprovativo-bancario\":\"Bank proof\",\"contrato-social\":\"Corporate charter\"},\"submit\":\"Submit document\",\"success\":\"Document submitted and sent for manual review.\"},\"notifications\":{\"title\":\"Alerts and notifications\",\"description\":\"Most recent events in the owner portal.\",\"empty\":\"No notifications right now.\",\"meta\":\"{{timestamp}} · {{category}}\"}}}}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1338, "column": 8184}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1341, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Desktop/Bmad-Method/apps/web/lib/i18n/locales/pt-BR.json"],"sourcesContent":["{\"common\":{\"skipToMainContent\":\"Saltar para o conteúdo principal\",\"loading\":{\"navigation\":\"A preparar contexto de navegação…\"}},\"auth\":{\"login\":{\"cardTitle\":\"Autenticação\",\"cardDescription\":\"Aceda à plataforma com MFA reforçado.\",\"labels\":{\"email\":\"Email corporativo\",\"password\":\"Palavra-passe\"},\"errors\":{\"missingCredentials\":\"Informe email e palavra-passe.\",\"coreFailure\":\"Falha na autenticação. Verifique as credenciais.\",\"unexpected\":\"Erro inesperado ao contactar a API.\"},\"success\":{\"sessionStarted\":\"Sessão iniciada para o agente #{{agentId}}. Expira em {{minutes}} minutos.\"},\"actions\":{\"submit\":\"Entrar\",\"submitting\":\"A validar…\"},\"links\":{\"recoverPrompt\":\"Perdeu acesso ao segundo fator?\",\"recoverCta\":\"Inicie a recuperação\"}},\"mfa\":{\"invalidSessionTitle\":\"Validação MFA\",\"invalidSessionDescription\":\"Sessão inválida\",\"invalidSessionBody\":\"Não recebemos um identificador de sessão válido. Regresse ao <link>ecrã de login</link> para reiniciar o processo.\",\"cardTitle\":\"Validar segundo fator\",\"cardDescription\":\"Introduza o código de 6 dígitos ou utilize um código de recuperação.\",\"methodLegend\":\"Método\",\"methods\":{\"totp\":\"Código do autenticador\",\"recovery\":\"Código de recuperação\"},\"placeholders\":{\"totp\":\"000000\",\"recovery\":\"ABCDE-12345\"},\"errors\":{\"missingCode\":\"Informe o código enviado pelo autenticador ou recovery.\",\"invalidCode\":\"Código inválido. Tente novamente.\",\"unexpected\":\"Não foi possível validar o MFA.\"},\"success\":{\"confirmed\":\"MFA confirmado com sucesso. Está pronto para avançar.\"},\"actions\":{\"submit\":\"Confirmar MFA\",\"submitting\":\"A validar…\"},\"links\":{\"recover\":\"Solicitar recuperação\",\"needNewCodes\":\"Precisa de novos códigos?\"}},\"recover\":{\"generateCardTitle\":\"Gerar novos códigos\",\"generateCardDescription\":\"Produz um novo conjunto de códigos de recuperação com validade imediata.\",\"completeCardTitle\":\"Concluir recuperação\",\"completeCardDescription\":\"Use um dos códigos emitidos para criar uma sessão autenticada.\",\"labels\":{\"agentEmail\":\"Email do agente\",\"recoveryCode\":\"Código de recuperação\"},\"errors\":{\"missingEmail\":\"Informe o email associado ao agente.\",\"missingEmailAndCode\":\"Informe email e código de recuperação.\",\"generateFailure\":\"Não foi possível gerar novos códigos.\",\"generateUnexpected\":\"Falha inesperada ao contactar a API.\",\"completeInvalid\":\"Código inválido ou expirado.\",\"completeUnexpected\":\"Não foi possível concluir a recuperação.\"},\"feedback\":{\"generatedAt\":\"Guardar estes códigos num local seguro. Emitidos em {{issuedAt}}.\",\"completeSuccess\":\"Recuperação concluída. <link>Regresse ao login</link> para iniciar uma nova sessão.\"},\"actions\":{\"generate\":\"Gerar códigos\",\"generating\":\"Gerando…\",\"complete\":\"Concluir recuperação\",\"completing\":\"Validando…\"}}},\"housekeeping\":{\"status\":{\"pending\":\"Pendente\",\"in_progress\":\"Em progresso\",\"completed\":\"Concluída\",\"blocked\":\"Bloqueada\"},\"errors\":{\"offline\":\"Modo offline ativo. Dados em tempo real serão sincronizados quando a ligação for restabelecida.\",\"fetchUnavailable\":\"Serviço de housekeeping indisponível. Tente novamente em instantes.\",\"fetchFailed\":\"Não foi possível carregar as tarefas de housekeeping para esta propriedade.\",\"fetchUnexpected\":\"Ocorreu um erro inesperado ao carregar as tarefas.\",\"slaOffline\":\"Monitorização de SLA indisponível em modo offline.\",\"slaUnavailable\":\"Não foi possível atualizar os SLAs dos parceiros. Serviço indisponível.\",\"slaFailed\":\"Falha ao carregar SLAs. Tente novamente mais tarde.\",\"slaUnexpected\":\"Ocorreu um erro inesperado ao carregar os SLAs dos parceiros.\",\"mutationUnavailable\":\"Sincronização indisponível. Tente novamente em instantes.\",\"mutationFailed\":\"Não foi possível atualizar a tarefa no core.\",\"mutationUnexpected\":\"Ocorreu um erro ao atualizar a tarefa.\"},\"sections\":{\"main\":{\"title\":\"Housekeeping\",\"subtitle\":\"Planeamento diário com suporte offline-first\"},\"connection\":{\"title\":\"Estado da conexão\",\"description\":\"Monitorize tarefas pendentes e sincronizações agendadas.\",\"offline\":\"Modo offline ativo. As tarefas concluídas serão sincronizadas automaticamente quando a conexão retornar.\",\"online\":\"Online. Sincronização automática a cada 2 minutos e sincronização manual disponível.\"},\"sla\":{\"title\":\"SLAs dos parceiros\",\"subtitle\":\"Alertas operacionais com parceiros de apoio\"},\"tasks\":{\"title\":\"Tarefas de housekeeping\",\"subtitle\":\"Atribuições priorizadas com dados do core\"},\"operations\":{\"title\":\"Operação em tempo real\",\"subtitle\":\"Sincronizações e métricas para gestores\"}},\"loading\":{\"title\":\"Sincronizando tarefas\",\"description\":\"Aguarde enquanto buscamos as atribuições mais recentes.\",\"body\":\"Carregando dados do serviço core...\"},\"loadingError\":{\"title\":\"Não foi possível carregar as tarefas\",\"body\":\"Verifique a ligação ou tente novamente em alguns instantes.\"},\"empty\":{\"title\":\"Nenhuma tarefa visível\",\"description\":\"Nenhuma tarefa de housekeeping foi encontrada para o período consultado.\",\"body\":\"Configure filtros adicionais na API para obter um conjunto diferente de resultados.\"},\"taskCard\":{\"title\":\"Tarefa #{{id}}\",\"scheduled\":\"Agendado para {{date}}\",\"reservation\":\"Reserva: {{value}}\",\"reservationFallback\":\"Sem ligação\",\"assignee\":\"Responsável: {{value}}\",\"assigneeFallback\":\"Não atribuído\",\"notes\":\"Observações: {{value}}\",\"notesFallback\":\"Sem notas adicionais.\",\"reopen\":\"Reabrir tarefa\",\"complete\":\"Marcar como concluída\",\"syncing\":\"Sincronizando…\"},\"sla\":{\"loadingTitle\":\"Acompanhar SLAs de parceiros\",\"loadingDescription\":\"Sincronizando indicadores de resposta e resolução.\",\"loadingBody\":\"Carregando indicadores de SLA…\",\"errorTitle\":\"SLAs indisponíveis\",\"errorDescription\":\"Consulte o time de integrações para confirmar o estado da conexão.\",\"emptyTitle\":\"Sem SLAs configurados\",\"emptyDescription\":\"Nenhum SLA ativo foi associado aos parceiros de housekeeping.\",\"emptyBody\":\"Atualize os cadastros de parceiros para acompanhar alertas neste painel.\"},\"queue\":{\"title\":\"Fila offline\",\"description\":\"Acompanhe mutações pendentes para o serviço core\",\"offline\":\"Modo offline ativo. Os envios serão retomados automaticamente.\",\"syncing\":\"Sincronização em andamento com o core.\",\"online\":\"Online. Nenhum bloqueio para sincronizar as alterações.\",\"empty\":\"Sem ações pendentes.\",\"action\":\"Sincronizar agora\",\"actionSyncing\":\"Sincronizando…\"},\"metrics\":{\"loadingTitle\":\"Aguardando sincronização\",\"loadingBody\":\"Actualizando indicadores com os dados mais recentes...\",\"errorTitle\":\"Indicadores indisponíveis\",\"efficiencyTitle\":\"Indicadores de eficiência\",\"efficiency\":{\"total\":\"Total registado no core: {{value}}\",\"visible\":\"Tarefas nesta vista: {{value}}\",\"backlog\":\"Backlog activo: {{value}}\",\"completed\":\"Concluídas: {{value}}\",\"page\":\"Página actual: {{page}}/{{pages}}\",\"updatedAt\":\"Última atualização: {{value}}\"},\"upcomingTitle\":\"Próximas execuções\",\"upcomingItem\":\"#{{id}} · {{date}} · {{status}}\",\"noUpcoming\":\"Nenhuma tarefa agendada no intervalo consultado.\"},\"queueUpdate\":\"Tarefa #{{id}} → {{status}}\"},\"owners\":{\"overview\":{\"section\":{\"title\":\"Overview financeiro do proprietário\",\"subtitle\":\"Indicadores financeiros e operacionais actualizados a cada 15 minutos\"},\"errors\":{\"loadFailed\":\"Falha ao carregar dados do proprietário. Utilize o suporte para obter ajuda.\",\"updateFailed\":\"Não foi possível actualizar preferências de pagamento neste momento.\",\"uploadMissing\":\"Selecione um documento válido antes de enviar.\",\"uploadFailed\":\"Falha ao submeter documento. Tente novamente.\"},\"loading\":\"A carregar dados consolidados…\",\"cards\":{\"occupancy\":{\"title\":\"Taxa de ocupação\",\"description\":\"Últimos 30 dias\",\"properties\":\"{{count}} propriedades activas\"},\"revenue\":{\"title\":\"Receita acumulada\",\"description\":\"Mês corrente\",\"adr\":\"ADR médio {{value}}\"},\"compliance\":{\"title\":\"Compliance\",\"description\":\"Revisões KYC e auditorias\",\"clear\":\"Em conformidade\",\"pending\":\"Revisão pendente\",\"summary\":\"{{pending}} verificações por concluir · {{documents}} documentos entregues\"},\"payout\":{\"title\":\"Preferências de pagamento\",\"description\":\"Actualize dados bancários e frequência de liquidação.\",\"success\":\"Preferências de pagamento actualizadas com sucesso.\",\"labels\":{\"beneficiary\":\"Beneficiário\",\"method\":\"Método\",\"lastDigits\":\"Últimos 4 dígitos da conta\",\"currency\":\"Moeda\",\"threshold\":\"Valor mínimo por pagamento\",\"schedule\":\"Periodicidade\"},\"options\":{\"bank_transfer\":\"Transferência bancária\",\"pix\":\"PIX (Brasil)\",\"paypal\":\"PayPal\",\"monthly\":\"Mensal\",\"weekly\":\"Semanal\"},\"submit\":\"Guardar preferências\"},\"documents\":{\"title\":\"Documentos de verificação\",\"description\":\"Envie contratos sociais, comprovativos bancários ou identidade.\",\"labels\":{\"type\":\"Tipo de documento\",\"file\":\"Ficheiro\"},\"options\":{\"identidade\":\"Identidade\",\"comprovativo-bancario\":\"Comprovativo bancário\",\"contrato-social\":\"Contrato social\"},\"submit\":\"Submeter documento\",\"success\":\"Documento submetido e encaminhado para verificação manual.\"},\"notifications\":{\"title\":\"Alertas e notificações\",\"description\":\"Eventos mais recentes do portal do proprietário.\",\"empty\":\"Nenhuma notificação no momento.\",\"meta\":\"{{timestamp}} · {{category}}\"}}}}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1341, "column": 9033}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1345, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/i18n/I18nProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  getFallbackLocale,\r\n  loadLocaleMessages,\r\n  normalizeLocaleCode,\r\n  type LocaleCode,\r\n  type MessageDictionary\r\n} from './catalog';\r\nimport { translate, type TranslationValues } from './translator';\r\nimport enMessages from './locales/en.json';\r\nimport ptBRMessages from './locales/pt-BR.json';\r\n\r\nconst STATIC_MESSAGES: Partial<Record<LocaleCode, MessageDictionary>> = {\r\n  en: enMessages as MessageDictionary,\r\n  'pt-BR': ptBRMessages as MessageDictionary\r\n};\r\n\r\ntype I18nContextValue = {\r\n  locale: LocaleCode;\r\n  ready: boolean;\r\n  setLocale: (locale: string) => void;\r\n  t: (key: string, values?: TranslationValues) => string;\r\n};\r\n\r\nconst I18nContext = createContext<I18nContextValue | undefined>(undefined);\r\n\r\nfunction determineInitialLocale(initialLocale?: string): LocaleCode {\r\n  if (initialLocale) {\r\n    return normalizeLocaleCode(initialLocale);\r\n  }\r\n  if (typeof document !== 'undefined' && document.documentElement?.lang) {\r\n    return normalizeLocaleCode(document.documentElement.lang);\r\n  }\r\n  if (typeof navigator !== 'undefined' && navigator.language) {\r\n    return normalizeLocaleCode(navigator.language);\r\n  }\r\n  return getFallbackLocale();\r\n}\r\n\r\nexport function I18nProvider({\r\n  initialLocale,\r\n  children\r\n}: {\r\n  initialLocale?: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  const initialResolvedLocale = determineInitialLocale(initialLocale);\r\n  const [locale, setLocaleState] = useState<LocaleCode>(initialResolvedLocale);\r\n  const [messages, setMessages] = useState<MessageDictionary | null>(STATIC_MESSAGES[initialResolvedLocale] ?? null);\r\n  const [fallbackMessages, setFallbackMessages] = useState<MessageDictionary | null>(\r\n    STATIC_MESSAGES[getFallbackLocale()] ?? null\r\n  );\r\n  const [ready, setReady] = useState<boolean>(Boolean(STATIC_MESSAGES[initialResolvedLocale]));\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setReady(false);\r\n    loadLocaleMessages(locale)\r\n      .then((loaded) => {\r\n        if (mounted) {\r\n          setMessages(loaded);\r\n          setReady(true);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (mounted) {\r\n          setMessages(null);\r\n          setReady(true);\r\n        }\r\n      });\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [locale]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const fallbackLocale = getFallbackLocale();\r\n    if (STATIC_MESSAGES[fallbackLocale]) {\r\n      setFallbackMessages(STATIC_MESSAGES[fallbackLocale] ?? null);\r\n      return () => {\r\n        mounted = false;\r\n      };\r\n    }\r\n    loadLocaleMessages(fallbackLocale)\r\n      .then((loaded) => {\r\n        if (mounted) {\r\n          setFallbackMessages(loaded);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (mounted) {\r\n          setFallbackMessages(null);\r\n        }\r\n      });\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const value = useMemo<I18nContextValue>(() => {\r\n    return {\r\n      locale,\r\n      ready,\r\n      setLocale: (next) => setLocaleState(normalizeLocaleCode(next)),\r\n      t: (key: string, values?: TranslationValues) => translate(messages, fallbackMessages, key, values)\r\n    };\r\n  }, [locale, ready, messages, fallbackMessages]);\r\n\r\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;\r\n}\r\n\r\nexport function useI18nContext(): I18nContextValue {\r\n  const context = useContext(I18nContext);\r\n  if (!context) {\r\n    throw new Error('useI18nContext must be used within I18nProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAOA;AACA;AACA;;;AAZA;;;;;;AAcA,MAAM,kBAAkE;IACtE,IAAI,2JAAU;IACd,SAAS,iKAAY;AACvB;AASA,MAAM,4BAAc,IAAA,2MAAa,EAA+B;AAEhE,SAAS,uBAAuB,aAAsB;IACpD,IAAI,eAAe;QACjB,OAAO,IAAA,4LAAmB,EAAC;IAC7B;IACA,IAAI,OAAO,aAAa,eAAe,SAAS,eAAe,EAAE,MAAM;QACrE,OAAO,IAAA,4LAAmB,EAAC,SAAS,eAAe,CAAC,IAAI;IAC1D;IACA,IAAI,OAAO,cAAc,eAAe,UAAU,QAAQ,EAAE;QAC1D,OAAO,IAAA,4LAAmB,EAAC,UAAU,QAAQ;IAC/C;IACA,OAAO,IAAA,0LAAiB;AAC1B;AAEO,SAAS,aAAa,EAC3B,aAAa,EACb,QAAQ,EAIT;;IACC,MAAM,wBAAwB,uBAAuB;IACrD,MAAM,CAAC,QAAQ,eAAe,GAAG,IAAA,sMAAQ,EAAa;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sMAAQ,EAA2B,eAAe,CAAC,sBAAsB,IAAI;IAC7G,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,sMAAQ,EACtD,eAAe,CAAC,IAAA,0LAAiB,IAAG,IAAI;IAE1C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sMAAQ,EAAU,QAAQ,eAAe,CAAC,sBAAsB;IAE1F,IAAA,uMAAS;kCAAC;YACR,IAAI,UAAU;YACd,SAAS;YACT,IAAA,2LAAkB,EAAC,QAChB,IAAI;0CAAC,CAAC;oBACL,IAAI,SAAS;wBACX,YAAY;wBACZ,SAAS;oBACX;gBACF;yCACC,KAAK;0CAAC;oBACL,IAAI,SAAS;wBACX,YAAY;wBACZ,SAAS;oBACX;gBACF;;YACF;0CAAO;oBACL,UAAU;gBACZ;;QACF;iCAAG;QAAC;KAAO;IAEX,IAAA,uMAAS;kCAAC;YACR,IAAI,UAAU;YACd,MAAM,iBAAiB,IAAA,0LAAiB;YACxC,IAAI,eAAe,CAAC,eAAe,EAAE;gBACnC,oBAAoB,eAAe,CAAC,eAAe,IAAI;gBACvD;8CAAO;wBACL,UAAU;oBACZ;;YACF;YACA,IAAA,2LAAkB,EAAC,gBAChB,IAAI;0CAAC,CAAC;oBACL,IAAI,SAAS;wBACX,oBAAoB;oBACtB;gBACF;yCACC,KAAK;0CAAC;oBACL,IAAI,SAAS;wBACX,oBAAoB;oBACtB;gBACF;;YACF;0CAAO;oBACL,UAAU;gBACZ;;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,qMAAO;uCAAmB;YACtC,OAAO;gBACL;gBACA;gBACA,SAAS;mDAAE,CAAC,OAAS,eAAe,IAAA,4LAAmB,EAAC;;gBACxD,CAAC;mDAAE,CAAC,KAAa,SAA+B,IAAA,qLAAS,EAAC,UAAU,kBAAkB,KAAK;;YAC7F;QACF;sCAAG;QAAC;QAAQ;QAAO;QAAU;KAAiB;IAE9C,qBAAO,0NAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GAvEgB;KAAA;AAyET,SAAS;;IACd,MAAM,UAAU,IAAA,wMAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 1497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/i18n/useTranslation.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useCallback, useMemo } from 'react';\r\nimport { useI18nContext } from './I18nProvider';\r\nimport type { TranslationValues } from './translator';\r\n\r\nexport function useTranslation(namespace?: string) {\r\n  const { locale, ready, setLocale, t } = useI18nContext();\r\n\r\n  const translate = useCallback(\r\n    (key: string, values?: TranslationValues) => {\r\n      const scopedKey = namespace ? `${namespace}.${key}` : key;\r\n      return t(scopedKey, values);\r\n    },\r\n    [namespace, t]\r\n  );\r\n\r\n  return useMemo(\r\n    () => ({\r\n      locale,\r\n      ready,\r\n      t: translate,\r\n      setLocale\r\n    }),\r\n    [locale, ready, translate, setLocale]\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAMO,SAAS,eAAe,SAAkB;;IAC/C,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,IAAA,6LAAc;IAEtD,MAAM,YAAY,IAAA,yMAAW;iDAC3B,CAAC,KAAa;YACZ,MAAM,YAAY,YAAY,GAAG,UAAU,CAAC,EAAE,KAAK,GAAG;YACtD,OAAO,EAAE,WAAW;QACtB;gDACA;QAAC;QAAW;KAAE;IAGhB,OAAO,IAAA,qMAAO;kCACZ,IAAM,CAAC;gBACL;gBACA;gBACA,GAAG;gBACH;YACF,CAAC;iCACD;QAAC;QAAQ;QAAO;QAAW;KAAU;AAEzC;GApBgB;;QAC0B,6LAAc","debugId":null}},
    {"offset": {"line": 1545, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/i18n/index.ts"],"sourcesContent":["export { I18nProvider, useI18nContext } from './I18nProvider';\r\nexport { useTranslation } from './useTranslation';\r\nexport { listSupportedLocales, normalizeLocaleCode, getFallbackLocale } from './catalog';\r\nexport type { LocaleCode, MessageDictionary } from './catalog';\r\nexport type { TranslationValues } from './translator';\r\n"],"names":[],"mappings":";AAAA;AACA;AACA","debugId":null}},
    {"offset": {"line": 1559, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/lib/tenant-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useCallback, useContext, useMemo } from 'react';\r\n\r\nexport type TenantMode = 'tenant' | 'platform';\r\n\r\nexport interface TenantInfo {\r\n  slug: string;\r\n  name?: string;\r\n}\r\n\r\nexport interface TenantCapabilities {\r\n  canViewAggregatedReports: boolean;\r\n  canProvisionWorkspaces: boolean;\r\n}\r\n\r\ninterface BuildHeadersOptions {\r\n  scope?: TenantMode;\r\n  tenantSlug?: string;\r\n}\r\n\r\nexport interface TenantContextValue {\r\n  mode: TenantMode;\r\n  tenant?: TenantInfo;\r\n  platformToken?: string | null;\r\n  capabilities: TenantCapabilities;\r\n  buildHeaders: (options?: BuildHeadersOptions) => Record<string, string>;\r\n}\r\n\r\nconst TenantContext = createContext<TenantContextValue | null>(null);\r\n\r\ninterface TenantProviderProps {\r\n  children: React.ReactNode;\r\n  tenant?: TenantInfo;\r\n  mode?: TenantMode;\r\n  platformToken?: string | null;\r\n  capabilities?: Partial<TenantCapabilities>;\r\n}\r\n\r\nfunction resolveInitialMode(): TenantMode {\r\n  const scope = process.env.NEXT_PUBLIC_TENANT_SCOPE;\r\n  return scope === 'platform' ? 'platform' : 'tenant';\r\n}\r\n\r\nfunction resolveInitialTenant(): TenantInfo | undefined {\r\n  const slug = process.env.NEXT_PUBLIC_TENANT_SLUG;\r\n  if (!slug) {\r\n    return undefined;\r\n  }\r\n  return {\r\n    slug,\r\n    name: process.env.NEXT_PUBLIC_TENANT_NAME ?? slug\r\n  };\r\n}\r\n\r\nexport function TenantProvider({\r\n  children,\r\n  tenant,\r\n  mode,\r\n  platformToken,\r\n  capabilities\r\n}: TenantProviderProps) {\r\n  const resolvedMode = mode ?? resolveInitialMode();\r\n  const resolvedTenant = tenant ?? resolveInitialTenant();\r\n  const resolvedToken =\r\n    platformToken ?? process.env.NEXT_PUBLIC_TENANT_PLATFORM_TOKEN ?? null;\r\n  const resolvedTenantSlug = resolvedTenant?.slug;\r\n\r\n  const buildHeaders = useCallback(\r\n    (options?: BuildHeadersOptions): Record<string, string> => {\r\n      const headers: Record<string, string> = {};\r\n      const targetScope = options?.scope ?? resolvedMode;\r\n      const overrideSlug = options?.tenantSlug;\r\n\r\n      if (targetScope === 'platform') {\r\n        headers['x-tenant-scope'] = 'platform';\r\n        if (resolvedToken) {\r\n          headers['x-tenant-platform-token'] = resolvedToken;\r\n        }\r\n        if (overrideSlug) {\r\n          headers['x-tenant-slug'] = overrideSlug;\r\n        }\r\n      } else {\r\n        const activeSlug = overrideSlug ?? resolvedTenantSlug;\r\n        if (activeSlug) {\r\n          headers['x-tenant-slug'] = activeSlug;\r\n        }\r\n      }\r\n      return headers;\r\n    },\r\n    [resolvedMode, resolvedTenantSlug, resolvedToken]\r\n  );\r\n\r\n  const value = useMemo<TenantContextValue>(() => {\r\n    const resolvedCapabilities: TenantCapabilities = {\r\n      canViewAggregatedReports: resolvedMode === 'platform',\r\n      canProvisionWorkspaces: resolvedMode === 'platform',\r\n      ...capabilities\r\n    };\r\n\r\n    return {\r\n      mode: resolvedMode,\r\n      tenant: resolvedTenant,\r\n      platformToken: resolvedToken,\r\n      capabilities: resolvedCapabilities,\r\n      buildHeaders\r\n    };\r\n  }, [buildHeaders, capabilities, resolvedMode, resolvedTenant, resolvedToken]);\r\n\r\n  return <TenantContext.Provider value={value}>{children}</TenantContext.Provider>;\r\n}\r\n\r\nexport function useTenant(): TenantContextValue {\r\n  const context = useContext(TenantContext);\r\n  if (!context) {\r\n    throw new Error('TenantProvider não encontrado no contexto da aplicação');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAwCgB;;AAtChB;;;AAFA;;AA6BA,MAAM,8BAAgB,IAAA,2MAAa,EAA4B;AAU/D,SAAS;IACP,MAAM,QAAQ,wMAAO,CAAC,GAAG,CAAC,wBAAwB;IAClD,OAAO,UAAU,aAAa,aAAa;AAC7C;AAEA,SAAS;IACP,MAAM,OAAO,wMAAO,CAAC,GAAG,CAAC,uBAAuB;IAChD,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IACA,OAAO;QACL;QACA,MAAM,wMAAO,CAAC,GAAG,CAAC,uBAAuB,IAAI;IAC/C;AACF;AAEO,SAAS,eAAe,EAC7B,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,aAAa,EACb,YAAY,EACQ;;IACpB,MAAM,eAAe,QAAQ;IAC7B,MAAM,iBAAiB,UAAU;IACjC,MAAM,gBACJ,iBAAiB,wMAAO,CAAC,GAAG,CAAC,iCAAiC,IAAI;IACpE,MAAM,qBAAqB,gBAAgB;IAE3C,MAAM,eAAe,IAAA,yMAAW;oDAC9B,CAAC;YACC,MAAM,UAAkC,CAAC;YACzC,MAAM,cAAc,SAAS,SAAS;YACtC,MAAM,eAAe,SAAS;YAE9B,IAAI,gBAAgB,YAAY;gBAC9B,OAAO,CAAC,iBAAiB,GAAG;gBAC5B,IAAI,eAAe;oBACjB,OAAO,CAAC,0BAA0B,GAAG;gBACvC;gBACA,IAAI,cAAc;oBAChB,OAAO,CAAC,gBAAgB,GAAG;gBAC7B;YACF,OAAO;gBACL,MAAM,aAAa,gBAAgB;gBACnC,IAAI,YAAY;oBACd,OAAO,CAAC,gBAAgB,GAAG;gBAC7B;YACF;YACA,OAAO;QACT;mDACA;QAAC;QAAc;QAAoB;KAAc;IAGnD,MAAM,QAAQ,IAAA,qMAAO;yCAAqB;YACxC,MAAM,uBAA2C;gBAC/C,0BAA0B,iBAAiB;gBAC3C,wBAAwB,iBAAiB;gBACzC,GAAG,YAAY;YACjB;YAEA,OAAO;gBACL,MAAM;gBACN,QAAQ;gBACR,eAAe;gBACf,cAAc;gBACd;YACF;QACF;wCAAG;QAAC;QAAc;QAAc;QAAc;QAAgB;KAAc;IAE5E,qBAAO,0NAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAChD;GAvDgB;KAAA;AAyDT,SAAS;;IACd,MAAM,UAAU,IAAA,wMAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 1670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/theme/ThemeProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\n\r\ninterface ThemeContextValue {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n  setTheme: (theme: Theme) => void;\r\n  hasExplicitPreference: boolean;\r\n}\r\n\r\nconst STORAGE_KEY = 'bmad-theme-preference';\r\n\r\nconst ThemeContext = createContext<ThemeContextValue | undefined>(undefined);\r\n\r\nfunction applyThemeClass(theme: Theme) {\r\n  if (typeof document === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  const root = document.documentElement;\r\n  root.classList.toggle('dark', theme === 'dark');\r\n  root.dataset.theme = theme;\r\n}\r\n\r\nfunction getSystemTheme(): Theme {\r\n  if (typeof window === 'undefined') {\r\n    return 'light';\r\n  }\r\n\r\n  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n}\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const [theme, setThemeState] = useState<Theme>('light');\r\n  const [hasExplicitPreference, setHasExplicitPreference] = useState(false);\r\n  const isMountedRef = useRef(false);\r\n  const isTestEnv = process.env.NODE_ENV === 'test';\r\n\r\n  useEffect(() => {\r\n    if (isTestEnv) {\r\n      isMountedRef.current = true;\r\n      return;\r\n    }\r\n\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    const stored = window.localStorage.getItem(STORAGE_KEY) as Theme | null;\r\n    if (stored === 'light' || stored === 'dark') {\r\n      setThemeState(stored);\r\n      setHasExplicitPreference(true);\r\n      applyThemeClass(stored);\r\n    } else {\r\n      const systemTheme = getSystemTheme();\r\n      setThemeState(systemTheme);\r\n      applyThemeClass(systemTheme);\r\n    }\r\n\r\n    isMountedRef.current = true;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isTestEnv) {\r\n      return;\r\n    }\r\n\r\n    if (!isMountedRef.current || typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    applyThemeClass(theme);\r\n\r\n    if (hasExplicitPreference) {\r\n      window.localStorage.setItem(STORAGE_KEY, theme);\r\n    } else {\r\n      window.localStorage.removeItem(STORAGE_KEY);\r\n    }\r\n  }, [theme, hasExplicitPreference]);\r\n\r\n  useEffect(() => {\r\n    if (isTestEnv || typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const handler = (event: MediaQueryListEvent) => {\r\n      if (!hasExplicitPreference) {\r\n        setThemeState(event.matches ? 'dark' : 'light');\r\n      }\r\n    };\r\n\r\n    mediaQuery.addEventListener('change', handler);\r\n    return () => mediaQuery.removeEventListener('change', handler);\r\n  }, [hasExplicitPreference]);\r\n\r\n  const contextValue = useMemo<ThemeContextValue>(() => {\r\n    const setTheme = (next: Theme) => {\r\n      setHasExplicitPreference(true);\r\n      setThemeState(next);\r\n    };\r\n\r\n    const toggleTheme = () => {\r\n      setHasExplicitPreference(true);\r\n      setThemeState((current) => (current === 'light' ? 'dark' : 'light'));\r\n    };\r\n\r\n    return {\r\n      theme,\r\n      toggleTheme,\r\n      setTheme,\r\n      hasExplicitPreference\r\n    };\r\n  }, [theme, hasExplicitPreference]);\r\n\r\n  return <ThemeContext.Provider value={contextValue}>{children}</ThemeContext.Provider>;\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (!context) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAuCoB;;AArCpB;;;AAFA;;AAaA,MAAM,cAAc;AAEpB,MAAM,6BAAe,IAAA,2MAAa,EAAgC;AAElE,SAAS,gBAAgB,KAAY;IACnC,IAAI,OAAO,aAAa,aAAa;QACnC;IACF;IAEA,MAAM,OAAO,SAAS,eAAe;IACrC,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ,UAAU;IACxC,KAAK,OAAO,CAAC,KAAK,GAAG;AACvB;AAEA,SAAS;IACP;;IAIA,OAAO,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;AAC9E;AAEO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,OAAO,cAAc,GAAG,IAAA,sMAAQ,EAAQ;IAC/C,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,sMAAQ,EAAC;IACnE,MAAM,eAAe,IAAA,oMAAM,EAAC;IAC5B,MAAM,YAAY,oDAAyB;IAE3C,IAAA,uMAAS;mCAAC;YACR;;YAKA;;YAIA,MAAM,SAAS,OAAO,YAAY,CAAC,OAAO,CAAC;YAC3C,IAAI,WAAW,WAAW,WAAW,QAAQ;gBAC3C,cAAc;gBACd,yBAAyB;gBACzB,gBAAgB;YAClB,OAAO;gBACL,MAAM,cAAc;gBACpB,cAAc;gBACd,gBAAgB;YAClB;YAEA,aAAa,OAAO,GAAG;QACzB;kCAAG,EAAE;IAEL,IAAA,uMAAS;mCAAC;YACR;;YAIA,IAAI,CAAC,aAAa,OAAO,IAAI,+CAAkB,aAAa;gBAC1D;YACF;YAEA,gBAAgB;YAEhB,IAAI,uBAAuB;gBACzB,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa;YAC3C,OAAO;gBACL,OAAO,YAAY,CAAC,UAAU,CAAC;YACjC;QACF;kCAAG;QAAC;QAAO;KAAsB;IAEjC,IAAA,uMAAS;mCAAC;YACR;;YAIA,MAAM,aAAa,OAAO,UAAU,CAAC;YACrC,MAAM;mDAAU,CAAC;oBACf,IAAI,CAAC,uBAAuB;wBAC1B,cAAc,MAAM,OAAO,GAAG,SAAS;oBACzC;gBACF;;YAEA,WAAW,gBAAgB,CAAC,UAAU;YACtC;2CAAO,IAAM,WAAW,mBAAmB,CAAC,UAAU;;QACxD;kCAAG;QAAC;KAAsB;IAE1B,MAAM,eAAe,IAAA,qMAAO;+CAAoB;YAC9C,MAAM;gEAAW,CAAC;oBAChB,yBAAyB;oBACzB,cAAc;gBAChB;;YAEA,MAAM;mEAAc;oBAClB,yBAAyB;oBACzB;2EAAc,CAAC,UAAa,YAAY,UAAU,SAAS;;gBAC7D;;YAEA,OAAO;gBACL;gBACA;gBACA;gBACA;YACF;QACF;8CAAG;QAAC;QAAO;KAAsB;IAEjC,qBAAO,0NAAC,aAAa,QAAQ;QAAC,OAAO;kBAAe;;;;;;AACtD;GApFgB;KAAA;AAsFT,SAAS;;IACd,MAAM,UAAU,IAAA,wMAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;IAPgB","debugId":null}},
    {"offset": {"line": 1817, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/providers/Providers.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Suspense, useState } from 'react';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { AnalyticsProvider } from '@/components/analytics/AnalyticsContext';\r\nimport { OfflineProvider } from '@/components/offline/OfflineContext';\r\nimport { GuidedTourProvider } from '@/components/tour/TourContext';\r\nimport { TelemetryProvider } from '@/components/telemetry/TelemetryProvider';\r\nimport { I18nProvider, useTranslation } from '@/lib/i18n';\r\nimport { TenantProvider } from '@/lib/tenant-context';\r\nimport { ThemeProvider } from '@/components/theme/ThemeProvider';\r\n\r\nfunction NavigationFallback() {\r\n  const { t } = useTranslation('common.loading');\r\n  return <span className=\"sr-only\">{t('navigation')}</span>;\r\n}\r\n\r\nexport function Providers({\r\n  children,\r\n  initialLocale\r\n}: {\r\n  children: React.ReactNode;\r\n  initialLocale?: string;\r\n}) {\r\n  const [queryClient] = useState(\r\n    () =>\r\n      new QueryClient({\r\n        defaultOptions: {\r\n          queries: {\r\n            refetchOnWindowFocus: false,\r\n            retry: 1,\r\n            staleTime: 60_000\r\n          },\r\n          mutations: {\r\n            retry: 1\r\n          }\r\n        }\r\n      })\r\n  );\r\n\r\n  return (\r\n    <I18nProvider initialLocale={initialLocale}>\r\n      <Suspense fallback={<NavigationFallback />}>\r\n        <TelemetryProvider>\r\n          <QueryClientProvider client={queryClient}>\r\n            <TenantProvider>\r\n              <AnalyticsProvider>\r\n                <OfflineProvider>\r\n                  <ThemeProvider>\r\n                    <GuidedTourProvider>{children}</GuidedTourProvider>\r\n                  </ThemeProvider>\r\n                </OfflineProvider>\r\n              </AnalyticsProvider>\r\n            </TenantProvider>\r\n          </QueryClientProvider>\r\n        </TelemetryProvider>\r\n      </Suspense>\r\n    </I18nProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAVA;;;;;;;;;;AAYA,SAAS;;IACP,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,8LAAc,EAAC;IAC7B,qBAAO,0NAAC;QAAK,WAAU;kBAAW,EAAE;;;;;;AACtC;GAHS;;QACO,8LAAc;;;KADrB;AAKF,SAAS,UAAU,EACxB,QAAQ,EACR,aAAa,EAId;;IACC,MAAM,CAAC,YAAY,GAAG,IAAA,sMAAQ;8BAC5B,IACE,IAAI,4NAAW,CAAC;gBACd,gBAAgB;oBACd,SAAS;wBACP,sBAAsB;wBACtB,OAAO;wBACP,WAAW;oBACb;oBACA,WAAW;wBACT,OAAO;oBACT;gBACF;YACF;;IAGJ,qBACE,0NAAC,2LAAY;QAAC,eAAe;kBAC3B,cAAA,0NAAC,sMAAQ;YAAC,wBAAU,0NAAC;;;;;sBACnB,cAAA,0NAAC,iNAAiB;0BAChB,cAAA,0NAAC,6OAAmB;oBAAC,QAAQ;8BAC3B,cAAA,0NAAC,0LAAc;kCACb,cAAA,0NAAC,gNAAiB;sCAChB,cAAA,0NAAC,0MAAe;0CACd,cAAA,0NAAC,qMAAa;8CACZ,cAAA,0NAAC,uMAAkB;kDAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUzC;IA1CgB;MAAA","debugId":null}},
    {"offset": {"line": 1955, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/offline/OfflineBanner.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useMemo } from 'react';\r\nimport { useOffline } from './OfflineContext';\r\n\r\nexport function OfflineBanner() {\r\n  const { isOffline, lastChangedAt, pendingActions } = useOffline();\r\n\r\n  const description = useMemo(() => {\r\n    if (!isOffline && !lastChangedAt) return 'Conectado';\r\n    if (!isOffline && lastChangedAt) {\r\n      return `Conexão restabelecida há ${(Date.now() - lastChangedAt) / 1000 < 60 ? 'poucos segundos' : 'alguns minutos'}.`;\r\n    }\r\n    const pending = pendingActions.length ? `Ações pendentes: ${pendingActions.join(', ')}` : 'Sincronização automática quando a ligação voltar.';\r\n    return `Você está offline. ${pending}`;\r\n  }, [isOffline, lastChangedAt, pendingActions]);\r\n\r\n  if (!isOffline && !lastChangedAt) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      role=\"status\"\r\n      aria-live=\"polite\"\r\n      className=\"offline-banner\"\r\n      data-offline={isOffline}\r\n    >\r\n      <span aria-hidden=\"true\">{isOffline ? '⛔' : '✅'}</span>\r\n      <p>{description}</p>\r\n      <style jsx>{`\r\n        .offline-banner {\r\n          display: grid;\r\n          grid-template-columns: auto 1fr;\r\n          gap: var(--space-3);\r\n          align-items: center;\r\n          background: ${isOffline ? 'var(--color-coral)' : 'var(--color-soft-aqua)'};\r\n          color: #fff;\r\n          padding: var(--space-3) var(--space-4);\r\n          border-radius: var(--radius-sm);\r\n          box-shadow: var(--shadow-card);\r\n        }\r\n        .offline-banner p {\r\n          margin: 0;\r\n          font-weight: 500;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;;;AAHA;;;;AAKO,SAAS;;IACd,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG,IAAA,qMAAU;IAE/D,MAAM,cAAc,IAAA,qMAAO;8CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,eAAe,OAAO;YACzC,IAAI,CAAC,aAAa,eAAe;gBAC/B,OAAO,CAAC,yBAAyB,EAAE,CAAC,KAAK,GAAG,KAAK,aAAa,IAAI,OAAO,KAAK,oBAAoB,iBAAiB,CAAC,CAAC;YACvH;YACA,MAAM,UAAU,eAAe,MAAM,GAAG,CAAC,iBAAiB,EAAE,eAAe,IAAI,CAAC,OAAO,GAAG;YAC1F,OAAO,CAAC,mBAAmB,EAAE,SAAS;QACxC;6CAAG;QAAC;QAAW;QAAe;KAAe;IAE7C,IAAI,CAAC,aAAa,CAAC,eAAe;QAChC,OAAO;IACT;IAEA,qBACE,0NAAC;QACC,MAAK;QACL,aAAU;QAEV,gBAAc;;;;;oBAUI,YAAY,uBAAuB;;;mBAX3C;;0BAGV,0NAAC;gBAAK,eAAY;;;;;4BAQA,YAAY,uBAAuB;;;;0BAR3B,YAAY,MAAM;;;;;;0BAC5C,0NAAC;;;;;4BAOiB,YAAY,uBAAuB;;;;0BAPjD;;;;;;;;;oBAOc,YAAY,uBAAuB;;wGAAnC,YAAY,uBAAuB;;;;;;;;AAa3D;GA5CgB;;QACuC,qMAAU;;;KADjD","debugId":null}},
    {"offset": {"line": 2062, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/navigation/MainNav.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport {\r\n  Activity,\r\n  BarChart3,\r\n  BookOpen,\r\n  Bot,\r\n  Building2,\r\n  CalendarCheck,\r\n  CalendarDays,\r\n  CheckSquare,\r\n  ClipboardCheck,\r\n  LayoutDashboard,\r\n  LineChart,\r\n  ShieldCheck,\r\n  Sparkles,\r\n  Workflow,\r\n  Smartphone\r\n} from 'lucide-react';\r\n\r\ninterface NavItem {\r\n  href: string;\r\n  label: string;\r\n  description: string;\r\n  icon: React.ElementType;\r\n}\r\n\r\nconst slugify = (value: string) => value.toLowerCase().replace(/[^a-z0-9]+/g, '-');\r\n\r\nconst NAV_SECTIONS: { heading: string; items: NavItem[] }[] = [\r\n  {\r\n    heading: 'Operação diária',\r\n    items: [\r\n      {\r\n        href: '/',\r\n        label: 'Dashboard',\r\n        description: 'Resumo diário de ocupação e alertas críticos',\r\n        icon: LayoutDashboard\r\n      },\r\n      {\r\n        href: '/reservas',\r\n        label: 'Reservas',\r\n        description: 'Fluxos de check-in/out e ajustes de estadia',\r\n        icon: CalendarCheck\r\n      },\r\n      {\r\n        href: '/calendario',\r\n        label: 'Calendário',\r\n        description: 'Disponibilidade por unidade e sincronização OTA',\r\n        icon: CalendarDays\r\n      },\r\n      {\r\n        href: '/housekeeping',\r\n        label: 'Housekeeping',\r\n        description: 'Atribuição de tarefas, incidentes e auditorias',\r\n        icon: ClipboardCheck\r\n      },\r\n      {\r\n        href: '/faturacao',\r\n        label: 'Faturação',\r\n        description: 'Checkout, notas de crédito e reconciliações',\r\n        icon: CheckSquare\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    heading: 'Produtos e experiências',\r\n    items: [\r\n      {\r\n        href: '/owners',\r\n        label: 'Portal Proprietários',\r\n        description: 'Painel de partilha de resultados e documentos',\r\n        icon: Building2\r\n      },\r\n      {\r\n        href: '/onboarding',\r\n        label: 'Onboarding',\r\n        description: 'Wizard guiado para novas propriedades e equipas',\r\n        icon: Sparkles\r\n      },\r\n      {\r\n        href: '/mobile/housekeeping',\r\n        label: 'App Housekeeping',\r\n        description: 'Execução mobile com suporte offline',\r\n        icon: Smartphone\r\n      },\r\n      {\r\n        href: '/mobile/gestor',\r\n        label: 'App Gestor',\r\n        description: 'KPIs móveis e aprovações rápidas',\r\n        icon: LineChart\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    heading: 'Automação e inteligência',\r\n    items: [\r\n      {\r\n        href: '/agentes',\r\n        label: 'Catálogo de Agentes',\r\n        description: 'Bots operacionais por módulo e contexto',\r\n        icon: Bot\r\n      },\r\n      {\r\n        href: '/playbooks',\r\n        label: 'Playbooks Automatizados',\r\n        description: 'Fluxos configurados e monitorização de adoção',\r\n        icon: Workflow\r\n      },\r\n      {\r\n        href: '/recommendations',\r\n        label: 'Recomendações',\r\n        description: 'Sugestões de upsell e alertas gerados por IA',\r\n        icon: Sparkles\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    heading: 'Governança e suporte',\r\n    items: [\r\n      {\r\n        href: '/observabilidade',\r\n        label: 'Observabilidade',\r\n        description: 'Logs, métricas e tracing da operação',\r\n        icon: Activity\r\n      },\r\n      {\r\n        href: '/governanca',\r\n        label: 'Governança',\r\n        description: 'Políticas, auditoria e controlos de acesso',\r\n        icon: ShieldCheck\r\n      },\r\n      {\r\n        href: '/analytics',\r\n        label: 'Analytics',\r\n        description: 'Dashboards avançados e relatórios exportáveis',\r\n        icon: BarChart3\r\n      },\r\n      {\r\n        href: '/support/knowledge-base',\r\n        label: 'Base de Conhecimento',\r\n        description: 'Guias, SOPs e artigos de apoio',\r\n        icon: BookOpen\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport function MainNav() {\r\n  const pathname = usePathname();\r\n\r\n  return (\r\n    <nav aria-label=\"Navegação principal\" className=\"main-nav\">\r\n      {NAV_SECTIONS.map((section, index) => {\r\n        const headingId = `main-nav-section-${index}`;\r\n        return (\r\n          <section key={section.heading} className=\"main-nav__section\" aria-labelledby={headingId}>\r\n            <p id={headingId} className=\"main-nav__heading\">\r\n              {section.heading}\r\n            </p>\r\n            <ul>\r\n              {section.items.map((item) => {\r\n                const isActive = pathname === item.href || pathname.startsWith(`${item.href}/`);\r\n                const tooltipId = `nav-tooltip-${slugify(item.href)}-${slugify(item.label)}`;\r\n                const Icon = item.icon;\r\n                return (\r\n                  <li key={item.href} className=\"main-nav__item\">\r\n                    <Link\r\n                      href={item.href}\r\n                      aria-current={isActive ? 'page' : undefined}\r\n                      data-active={isActive ? 'true' : 'false'}\r\n                      aria-describedby={tooltipId}\r\n                    >\r\n                      <span className=\"main-nav__icon\" aria-hidden=\"true\">\r\n                        <Icon size={18} strokeWidth={1.6} />\r\n                      </span>\r\n                      <span className=\"main-nav__label\">{item.label}</span>\r\n                    </Link>\r\n                    <span role=\"tooltip\" id={tooltipId} className=\"main-nav__tooltip\">\r\n                      {item.description}\r\n                    </span>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </section>\r\n        );\r\n      })}\r\n      <style jsx>{`\r\n        .main-nav {\r\n          display: grid;\r\n          gap: var(--space-5);\r\n          position: sticky;\r\n          top: var(--space-4);\r\n          /* Keep navigation accessible when guided tour overlays are visible */\r\n          z-index: 2050;\r\n        }\r\n        .main-nav__section {\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        .main-nav__heading {\r\n          margin: 0;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.12em;\r\n          font-size: 0.75rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        ul {\r\n          list-style: none;\r\n          margin: 0;\r\n          padding: 0;\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        .main-nav__item {\r\n          position: relative;\r\n        }\r\n        a {\r\n          display: grid;\r\n          grid-template-columns: auto 1fr;\r\n          align-items: center;\r\n          gap: var(--space-2);\r\n          padding: var(--space-3) var(--space-4);\r\n          border-radius: var(--radius-sm);\r\n          font-weight: 500;\r\n          color: var(--color-neutral-3);\r\n          background: var(--tint-neutral-soft);\r\n          border: 1px solid transparent;\r\n          transition: background 0.2s ease, border 0.2s ease, transform 0.2s ease, color 0.2s ease;\r\n        }\r\n        a:hover,\r\n        a:focus-visible {\r\n          background: var(--tint-primary-soft);\r\n          border-color: var(--tint-primary-strong);\r\n          transform: translateY(-1px);\r\n          color: var(--color-deep-blue);\r\n        }\r\n        a[data-active='true'] {\r\n          background: linear-gradient(135deg, rgba(37, 99, 235, 0.96), rgba(14, 165, 233, 0.92));\r\n          color: #fff;\r\n          box-shadow: var(--shadow-card);\r\n        }\r\n        .main-nav__icon {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 28px;\r\n          height: 28px;\r\n          border-radius: 999px;\r\n          background: var(--tint-neutral-soft);\r\n          color: inherit;\r\n        }\r\n        .main-nav__label {\r\n          font-weight: 600;\r\n        }\r\n        .main-nav__tooltip {\r\n          pointer-events: none;\r\n          position: absolute;\r\n          left: calc(100% + var(--space-2));\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          width: min(240px, 32vw);\r\n          background: var(--tooltip-surface);\r\n          color: var(--tooltip-text);\r\n          padding: var(--space-3);\r\n          border-radius: var(--radius-sm);\r\n          box-shadow: var(--shadow-flyout);\r\n          font-size: 0.8125rem;\r\n          line-height: 1.45;\r\n          opacity: 0;\r\n          transition: opacity 0.2s ease, transform 0.2s ease;\r\n          transform-origin: left center;\r\n        }\r\n        .main-nav__tooltip::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: -6px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          width: 0;\r\n          height: 0;\r\n          border-top: 6px solid transparent;\r\n          border-bottom: 6px solid transparent;\r\n          border-right: 6px solid var(--tooltip-surface);\r\n        }\r\n        .main-nav__item:hover .main-nav__tooltip,\r\n        a:focus-visible + .main-nav__tooltip {\r\n          opacity: 1;\r\n          transform: translateY(-50%) translateX(4px);\r\n        }\r\n        a[data-active='true'] + .main-nav__tooltip {\r\n          background: var(--tooltip-strong);\r\n        }\r\n        a[data-active='true'] .main-nav__icon {\r\n          background: var(--tint-neutral-strong);\r\n        }\r\n        @media (prefers-reduced-motion: reduce) {\r\n          .main-nav__tooltip {\r\n            transition: none;\r\n          }\r\n        }\r\n        @media (max-width: 960px) {\r\n          .main-nav {\r\n            position: relative;\r\n            top: auto;\r\n          }\r\n          ul {\r\n            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\r\n          }\r\n        }\r\n        @media (max-width: 640px) {\r\n          .main-nav__item {\r\n            position: static;\r\n          }\r\n          .main-nav__tooltip {\r\n            position: relative;\r\n            left: 0;\r\n            top: auto;\r\n            transform: none;\r\n            opacity: 1;\r\n            margin-top: var(--space-2);\r\n            width: auto;\r\n          }\r\n          .main-nav__tooltip::before {\r\n            display: none;\r\n          }\r\n          ul {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n      `}</style>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAJA;;;;;AA6BA,MAAM,UAAU,CAAC,QAAkB,MAAM,WAAW,GAAG,OAAO,CAAC,eAAe;AAE9E,MAAM,eAAwD;IAC5D;QACE,SAAS;QACT,OAAO;YACL;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,+QAAe;YACvB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,yQAAa;YACrB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,sQAAY;YACpB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,4QAAc;YACtB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,0QAAW;YACnB;SACD;IACH;IACA;QACE,SAAS;QACT,OAAO;YACL;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,6PAAS;YACjB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,sPAAQ;YAChB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,4PAAU;YAClB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,6PAAS;YACjB;SACD;IACH;IACA;QACE,SAAS;QACT,OAAO;YACL;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,uOAAG;YACX;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,sPAAQ;YAChB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,sPAAQ;YAChB;SACD;IACH;IACA;QACE,SAAS;QACT,OAAO;YACL;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,sPAAQ;YAChB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,mQAAW;YACnB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,+PAAS;YACjB;YACA;gBACE,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,MAAM,0PAAQ;YAChB;SACD;IACH;CACD;AAEM,SAAS;;IACd,MAAM,WAAW,IAAA,iLAAW;IAE5B,qBACE,0NAAC;QAAI,cAAW;kDAAgC;;YAC7C,aAAa,GAAG,CAAC,CAAC,SAAS;gBAC1B,MAAM,YAAY,CAAC,iBAAiB,EAAE,OAAO;gBAC7C,qBACE,0NAAC;oBAA4D,mBAAiB;8DAArC;;sCACvC,0NAAC;4BAAE,IAAI;sEAAqB;sCACzB,QAAQ,OAAO;;;;;;sCAElB,0NAAC;;sCACE,QAAQ,KAAK,CAAC,GAAG,CAAC,CAAC;gCAClB,MAAM,WAAW,aAAa,KAAK,IAAI,IAAI,SAAS,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;gCAC9E,MAAM,YAAY,CAAC,YAAY,EAAE,QAAQ,KAAK,IAAI,EAAE,CAAC,EAAE,QAAQ,KAAK,KAAK,GAAG;gCAC5E,MAAM,OAAO,KAAK,IAAI;gCACtB,qBACE,0NAAC;8EAA6B;;sDAC5B,0NAAC,uMAAI;4CACH,MAAM,KAAK,IAAI;4CACf,gBAAc,WAAW,SAAS;4CAClC,eAAa,WAAW,SAAS;4CACjC,oBAAkB;;8DAElB,0NAAC;oDAAgC,eAAY;8FAA7B;8DACd,cAAA,0NAAC;wDAAK,MAAM;wDAAI,aAAa;;;;;;;;;;;;8DAE/B,0NAAC;8FAAe;8DAAmB,KAAK,KAAK;;;;;;;;;;;;sDAE/C,0NAAC;4CAAK,MAAK;4CAAU,IAAI;sFAAqB;sDAC3C,KAAK,WAAW;;;;;;;mCAbZ,KAAK,IAAI;;;;;4BAiBtB;;;;;;;mBA3BU,QAAQ,OAAO;;;;;YA+BjC;;;;;;;;;;;AAmJN;GA1LgB;;QACG,iLAAW;;;KADd","debugId":null}},
    {"offset": {"line": 2334, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/tour/TourDialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useId, useRef } from 'react';\r\nimport { useGuidedTour } from './TourContext';\r\n\r\nexport function TourDialog() {\r\n  const { isOpen, close, next, previous, steps, currentIndex, activeStep } = useGuidedTour();\r\n  const titleId = useId();\r\n  const descriptionId = useId();\r\n  const dialogRef = useRef<HTMLDivElement | null>(null);\r\n  const primaryButtonRef = useRef<HTMLButtonElement | null>(null);\r\n  const liveRegionRef = useRef<HTMLParagraphElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    function handleKeyDown(event: KeyboardEvent) {\r\n      if (!isOpen) return;\r\n      if (event.key === 'Escape') {\r\n        event.preventDefault();\r\n        close();\r\n      }\r\n      if (event.key === 'ArrowRight') {\r\n        event.preventDefault();\r\n        next();\r\n      }\r\n      if (event.key === 'ArrowLeft') {\r\n        event.preventDefault();\r\n        previous();\r\n      }\r\n    }\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [close, isOpen, next, previous]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && primaryButtonRef.current) {\r\n      primaryButtonRef.current.focus();\r\n    }\r\n  }, [isOpen, currentIndex]);\r\n\r\n  useEffect(() => {\r\n    if (!isOpen || !activeStep?.target) {\r\n      return;\r\n    }\r\n    const element = document.querySelector<HTMLElement>(activeStep.target);\r\n    if (!element) {\r\n      return;\r\n    }\r\n    const previousAriaDescribedBy = element.getAttribute('aria-describedby');\r\n    const nextDescription = previousAriaDescribedBy\r\n      ? `${previousAriaDescribedBy} ${descriptionId}`.trim()\r\n      : descriptionId;\r\n    element.setAttribute('data-tour-highlighted', 'true');\r\n    element.setAttribute('aria-describedby', nextDescription);\r\n    return () => {\r\n      element.removeAttribute('data-tour-highlighted');\r\n      if (previousAriaDescribedBy) {\r\n        element.setAttribute('aria-describedby', previousAriaDescribedBy);\r\n      } else {\r\n        element.removeAttribute('aria-describedby');\r\n      }\r\n    };\r\n  }, [activeStep, descriptionId, isOpen]);\r\n\r\n  useEffect(() => {\r\n    if (!isOpen || !dialogRef.current) {\r\n      return;\r\n    }\r\n    dialogRef.current.scrollIntoView({ block: 'center' });\r\n  }, [isOpen, currentIndex]);\r\n\r\n  if (!isOpen || !activeStep) {\r\n    return null;\r\n  }\r\n\r\n  const isLastStep = currentIndex >= steps.length - 1;\r\n  const handleFinish = () => close({ markCompleted: true });\r\n\r\n  return (\r\n    <div\r\n      ref={dialogRef}\r\n      className=\"tour-overlay\"\r\n      role=\"dialog\"\r\n      aria-modal=\"false\"\r\n      aria-labelledby={titleId}\r\n      aria-describedby={descriptionId}\r\n    >\r\n      <div className=\"tour-content\">\r\n        <p className=\"tour-step-counter\">\r\n          Passo {currentIndex + 1} de {steps.length}\r\n        </p>\r\n        <h2 id={titleId}>{activeStep.title}</h2>\r\n        <p id={descriptionId} ref={liveRegionRef} aria-live=\"polite\">\r\n          {activeStep.description}\r\n        </p>\r\n        <div className=\"tour-actions\" role=\"group\" aria-label=\"Navegação do tour guiado\">\r\n          <button type=\"button\" onClick={previous} disabled={currentIndex === 0}>\r\n            Anterior\r\n          </button>\r\n          {!isLastStep ? (\r\n            <button type=\"button\" onClick={next} ref={primaryButtonRef}>\r\n              Próximo\r\n            </button>\r\n          ) : (\r\n            <button type=\"button\" onClick={handleFinish} ref={primaryButtonRef}>\r\n              Concluir tour\r\n            </button>\r\n          )}\r\n        </div>\r\n        <button className=\"tour-close\" type=\"button\" onClick={() => close()} aria-label=\"Fechar tour guiado\">\r\n          ×\r\n        </button>\r\n      </div>\r\n      <style jsx>{`\r\n        .tour-overlay {\r\n          position: fixed;\r\n          inset: 0;\r\n          background: rgba(37, 99, 235, 0.6);\r\n          display: grid;\r\n          place-items: center;\r\n          padding: var(--space-6);\r\n          z-index: 2000;\r\n          pointer-events: none;\r\n        }\r\n        .tour-content {\r\n          position: relative;\r\n          background: var(--color-neutral-0);\r\n          border-radius: var(--radius-md);\r\n          max-width: 540px;\r\n          width: 100%;\r\n          padding: var(--space-5);\r\n          box-shadow: var(--shadow-card);\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          pointer-events: auto;\r\n        }\r\n        .tour-step-counter {\r\n          margin: 0;\r\n          font-size: 0.875rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .tour-actions {\r\n          display: flex;\r\n          gap: var(--space-3);\r\n          justify-content: flex-end;\r\n        }\r\n        .tour-actions button {\r\n          border-radius: var(--radius-sm);\r\n          padding: var(--space-2) var(--space-4);\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          background: transparent;\r\n          color: var(--color-deep-blue);\r\n          border: 1px solid var(--color-deep-blue);\r\n        }\r\n        .tour-actions button:last-of-type {\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n        }\r\n        .tour-actions button:disabled {\r\n          opacity: 0.4;\r\n          cursor: not-allowed;\r\n        }\r\n        .tour-close {\r\n          position: absolute;\r\n          top: var(--space-2);\r\n          right: var(--space-2);\r\n          background: transparent;\r\n          border: none;\r\n          font-size: 1.5rem;\r\n          cursor: pointer;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        :global([data-tour-highlighted='true']) {\r\n          outline: 3px solid var(--color-soft-aqua);\r\n          outline-offset: 4px;\r\n          border-radius: var(--radius-sm);\r\n          transition: outline 0.2s ease;\r\n        }\r\n        @media (max-width: 768px) {\r\n          .tour-overlay {\r\n            padding: var(--space-4);\r\n          }\r\n          .tour-content {\r\n            padding: var(--space-4);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2575, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/AppChrome.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { ReactNode } from 'react';\r\nimport { useOffline } from '@/components/offline/OfflineContext';\r\nimport { OfflineBanner } from '@/components/offline/OfflineBanner';\r\nimport { MainNav } from '@/components/navigation/MainNav';\r\nimport { TourDialog } from '@/components/tour/TourDialog';\r\nimport { useAnalytics } from '@/components/analytics/AnalyticsContext';\r\n\r\nconst DATE_FORMATTER = new Intl.DateTimeFormat('pt-PT', {\r\n  weekday: 'long',\r\n  day: 'numeric',\r\n  month: 'long'\r\n});\r\n\r\nconst TIME_FORMATTER = new Intl.DateTimeFormat('pt-PT', {\r\n  hour: '2-digit',\r\n  minute: '2-digit'\r\n});\r\n\r\nexport function AppChrome({ children }: { children: ReactNode }) {\r\n  const { isOffline } = useOffline();\r\n  const analytics = useAnalytics();\r\n  const now = new Date();\r\n  const todayLabel = DATE_FORMATTER.format(now);\r\n  const timeLabel = TIME_FORMATTER.format(now);\r\n\r\n  return (\r\n    <div className=\"shell\" data-offline={isOffline}>\r\n      <header className=\"shell__header\" role=\"banner\">\r\n        <div className=\"shell__brand\">\r\n          <span className=\"shell__logo\" aria-hidden=\"true\">\r\n            BM\r\n          </span>\r\n          <div>\r\n            <p className=\"shell__product\">Bmad Local Stays</p>\r\n            <h1>Centro operacional para alojamentos locais</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"shell__context\" aria-live=\"polite\">\r\n          <p className=\"shell__context-label\">Portefólio ativo</p>\r\n          <p className=\"shell__context-title\">Porto Riverside Collection</p>\r\n          <p className=\"shell__context-meta\">\r\n            {todayLabel} · {timeLabel}\r\n          </p>\r\n        </div>\r\n        <div className=\"shell__auth\" role=\"navigation\" aria-label=\"Acesso e autenticação\">\r\n          <p className=\"shell__auth-label\">Acesso seguro</p>\r\n          <Link href=\"/login\" className=\"shell__auth-link\">\r\n            Entrar na conta\r\n          </Link>\r\n          <p className=\"shell__auth-meta\">Gestores, housekeeping e proprietários</p>\r\n        </div>\r\n        <div className=\"shell__actions\">\r\n          <Link\r\n            href=\"/calendario\"\r\n            className=\"shell__action shell__action--primary\"\r\n            onClick={() => analytics.track('app_chrome.quick_action', { action: 'sync_otas' })}\r\n          >\r\n            Sincronizar OTAs\r\n          </Link>\r\n          <Link\r\n            href=\"/suporte\"\r\n            className=\"shell__action shell__action--secondary\"\r\n            onClick={() => analytics.track('app_chrome.quick_action', { action: 'register_incident' })}\r\n          >\r\n            Registar incidente\r\n          </Link>\r\n        </div>\r\n      </header>\r\n      <OfflineBanner />\r\n      <div className=\"shell__body\">\r\n        <aside className=\"shell__sidebar\">\r\n          <MainNav />\r\n        </aside>\r\n        <main id=\"conteudo-principal\" className=\"shell__content\" tabIndex={-1}>\r\n          {children}\r\n        </main>\r\n      </div>\r\n      <TourDialog />\r\n      <style jsx>{`\r\n        .shell {\r\n          display: grid;\r\n          gap: var(--space-5);\r\n          padding: var(--space-5) var(--space-6);\r\n          background: var(--app-background);\r\n          transition: background 0.3s ease;\r\n        }\r\n        .shell__header {\r\n          display: grid;\r\n          grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.9fr) minmax(0, 0.9fr) auto;\r\n          align-items: center;\r\n          gap: var(--space-5);\r\n          background: var(--app-surface-overlay);\r\n          padding: var(--space-4) var(--space-5);\r\n          border-radius: var(--radius-md);\r\n          box-shadow: var(--shadow-card);\r\n          border: 1px solid var(--app-border-strong);\r\n          backdrop-filter: blur(18px);\r\n          transition: background 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;\r\n        }\r\n        .shell__brand {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: var(--space-4);\r\n        }\r\n        .shell__logo {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 48px;\r\n          height: 48px;\r\n          border-radius: 16px;\r\n          font-weight: 700;\r\n          letter-spacing: 0.08em;\r\n          background: linear-gradient(135deg, rgba(37, 99, 235, 0.96), rgba(14, 165, 233, 0.88));\r\n          color: #fff;\r\n        }\r\n        .shell__product {\r\n          margin: 0 0 var(--space-2) 0;\r\n          letter-spacing: 0.08em;\r\n          text-transform: uppercase;\r\n          font-weight: 600;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .shell__brand h1 {\r\n          margin: 0;\r\n          font-size: 1.5rem;\r\n          color: var(--color-neutral-3);\r\n        }\r\n        .shell__context {\r\n          display: grid;\r\n          gap: var(--space-1);\r\n          justify-items: start;\r\n        }\r\n        .shell__context-label {\r\n          margin: 0;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.08em;\r\n          font-size: 0.75rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .shell__context-title {\r\n          margin: 0;\r\n          font-weight: 600;\r\n          font-size: 1.125rem;\r\n          color: var(--color-neutral-3);\r\n        }\r\n        .shell__context-meta {\r\n          margin: 0;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .shell__auth {\r\n          display: grid;\r\n          gap: var(--space-1);\r\n          justify-items: start;\r\n          padding: var(--space-3) var(--space-4);\r\n          border-radius: var(--radius-sm);\r\n          background: var(--tint-primary-soft);\r\n          border: 1px solid var(--tint-primary-strong);\r\n        }\r\n        .shell__auth-label {\r\n          margin: 0;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.08em;\r\n          font-size: 0.75rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .shell__auth-link {\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n          text-decoration: none;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-2);\r\n        }\r\n        .shell__auth-link::after {\r\n          content: '↗';\r\n          font-size: 0.85em;\r\n          transition: transform 0.2s ease;\r\n        }\r\n        .shell__auth-link:hover,\r\n        .shell__auth-link:focus-visible {\r\n          color: #1e40af;\r\n        }\r\n        .shell__auth-link:hover::after,\r\n        .shell__auth-link:focus-visible::after {\r\n          transform: translateX(2px);\r\n        }\r\n        .shell__auth-meta {\r\n          margin: 0;\r\n          font-size: 0.8125rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .shell__actions {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-3);\r\n          flex-wrap: wrap;\r\n          justify-content: flex-end;\r\n        }\r\n        .shell__theme-toggle {\r\n          flex: 0 0 auto;\r\n        }\r\n        .shell__action {\r\n          font-weight: 600;\r\n          border-radius: var(--radius-sm);\r\n          padding: var(--space-2) var(--space-4);\r\n          cursor: pointer;\r\n          border: 1px solid transparent;\r\n          transition: background 0.2s ease, color 0.2s ease, border 0.2s ease;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          text-decoration: none;\r\n        }\r\n        .shell__action--primary {\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n          box-shadow: 0 10px 25px rgba(37, 99, 235, 0.25);\r\n        }\r\n        .shell__action--primary:hover,\r\n        .shell__action--primary:focus-visible {\r\n          background: #1d4ed8;\r\n        }\r\n        .shell__action--secondary {\r\n          background: var(--tint-accent-soft);\r\n          color: var(--color-deep-blue);\r\n          border-color: var(--tint-accent-strong);\r\n        }\r\n        .shell__action--secondary:hover,\r\n        .shell__action--secondary:focus-visible {\r\n          background: var(--tint-accent-strong);\r\n        }\r\n        .shell__body {\r\n          display: grid;\r\n          grid-template-columns: 320px 1fr;\r\n          gap: var(--space-5);\r\n          align-items: start;\r\n        }\r\n        .shell__sidebar {\r\n          min-width: 0;\r\n        }\r\n        .shell__content {\r\n          display: grid;\r\n          gap: var(--space-5);\r\n        }\r\n        @media (max-width: 1200px) {\r\n          .shell {\r\n            padding: var(--space-5);\r\n          }\r\n          .shell__header {\r\n            grid-template-columns: minmax(0, 1fr);\r\n            justify-items: stretch;\r\n          }\r\n          .shell__auth {\r\n            width: 100%;\r\n            padding: var(--space-3) var(--space-4);\r\n          }\r\n          .shell__actions {\r\n            justify-content: flex-start;\r\n          }\r\n          .shell__body {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n        @media (max-width: 768px) {\r\n          .shell {\r\n            padding: var(--space-4);\r\n          }\r\n          .shell__actions {\r\n            width: 100%;\r\n            justify-content: flex-start;\r\n            gap: var(--space-2);\r\n          }\r\n          .shell__theme-toggle {\r\n            flex: 0 0 auto;\r\n          }\r\n          .shell__actions .shell__action {\r\n            flex: 1 1 auto;\r\n            text-align: center;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUA,MAAM,iBAAiB,IAAI,KAAK,cAAc,CAAC,SAAS;IACtD,SAAS;IACT,KAAK;IACL,OAAO;AACT;AAEA,MAAM,iBAAiB,IAAI,KAAK,cAAc,CAAC,SAAS;IACtD,MAAM;IACN,QAAQ;AACV;AAEO,SAAS,UAAU,EAAE,QAAQ,EAA2B;;IAC7D,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,qMAAU;IAChC,MAAM,YAAY,IAAA,2MAAY;IAC9B,MAAM,MAAM,IAAI;IAChB,MAAM,aAAa,eAAe,MAAM,CAAC;IACzC,MAAM,YAAY,eAAe,MAAM,CAAC;IAExC,qBACE,0NAAC;QAAsB,gBAAc;kDAAtB;;0BACb,0NAAC;gBAAiC,MAAK;0DAArB;;kCAChB,0NAAC;kEAAc;;0CACb,0NAAC;gCAA6B,eAAY;0EAA1B;0CAAiC;;;;;;0CAGjD,0NAAC;;;kDACC,0NAAC;kFAAY;kDAAiB;;;;;;kDAC9B,0NAAC;;kDAAG;;;;;;;;;;;;;;;;;;kCAGR,0NAAC;wBAA+B,aAAU;kEAA3B;;0CACb,0NAAC;0EAAY;0CAAuB;;;;;;0CACpC,0NAAC;0EAAY;0CAAuB;;;;;;0CACpC,0NAAC;0EAAY;;oCACV;oCAAW;oCAAI;;;;;;;;;;;;;kCAGpB,0NAAC;wBAA4B,MAAK;wBAAa,cAAW;kEAA3C;;0CACb,0NAAC;0EAAY;0CAAoB;;;;;;0CACjC,0NAAC,uMAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAmB;;;;;;0CAGjD,0NAAC;0EAAY;0CAAmB;;;;;;;;;;;;kCAElC,0NAAC;kEAAc;;0CACb,0NAAC,uMAAI;gCACH,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,UAAU,KAAK,CAAC,2BAA2B;wCAAE,QAAQ;oCAAY;0CACjF;;;;;;0CAGD,0NAAC,uMAAI;gCACH,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,UAAU,KAAK,CAAC,2BAA2B;wCAAE,QAAQ;oCAAoB;0CACzF;;;;;;;;;;;;;;;;;;0BAKL,0NAAC,uMAAa;;;;;0BACd,0NAAC;0DAAc;;kCACb,0NAAC;kEAAgB;kCACf,cAAA,0NAAC,8LAAO;;;;;;;;;;kCAEV,0NAAC;wBAAK,IAAG;wBAAgD,UAAU,CAAC;kEAA5B;kCACrC;;;;;;;;;;;;0BAGL,0NAAC,8LAAU;;;;;;;;;;;;;;;AA+MjB;GA1QgB;;QACQ,qMAAU;QACd,2MAAY;;;KAFhB","debugId":null}},
    {"offset": {"line": 2845, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/a11y/SkipToContentLink.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useTranslation } from '@/lib/i18n';\r\n\r\ntype SkipToContentLinkProps = {\r\n  targetId: string;\r\n  className?: string;\r\n};\r\n\r\nexport function SkipToContentLink({ targetId, className }: SkipToContentLinkProps) {\r\n  const { t } = useTranslation('common');\r\n  const classes = ['skip-link'];\r\n  if (className) {\r\n    classes.push(className);\r\n  }\r\n\r\n  return (\r\n    <a className={classes.join(' ')} href={`#${targetId}`}>\r\n      {t('skipToMainContent')}\r\n    </a>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;;;AAFA;;AASO,SAAS,kBAAkB,EAAE,QAAQ,EAAE,SAAS,EAA0B;;IAC/E,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,8LAAc,EAAC;IAC7B,MAAM,UAAU;QAAC;KAAY;IAC7B,IAAI,WAAW;QACb,QAAQ,IAAI,CAAC;IACf;IAEA,qBACE,0NAAC;QAAE,WAAW,QAAQ,IAAI,CAAC;QAAM,MAAM,CAAC,CAAC,EAAE,UAAU;kBAClD,EAAE;;;;;;AAGT;GAZgB;;QACA,8LAAc;;;KADd","debugId":null}}]
}