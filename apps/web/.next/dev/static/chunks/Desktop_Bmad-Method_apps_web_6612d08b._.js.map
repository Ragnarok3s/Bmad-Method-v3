{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/SectionHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface SectionHeaderProps extends PropsWithChildren {\r\n  subtitle?: string;\r\n  actions?: React.ReactNode;\r\n}\r\n\r\nexport function SectionHeader({ children, subtitle, actions }: SectionHeaderProps) {\r\n  return (\r\n    <header className=\"section-header\">\r\n      <div>\r\n        <h2>{children}</h2>\r\n        {subtitle && <p>{subtitle}</p>}\r\n      </div>\r\n      {actions && <div className=\"section-actions\">{actions}</div>}\r\n      <style jsx>{`\r\n        .section-header {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: var(--space-3);\r\n          align-items: flex-end;\r\n          justify-content: space-between;\r\n        }\r\n        h2 {\r\n          margin: 0;\r\n          color: var(--color-neutral-3);\r\n          font-size: 1.5rem;\r\n          letter-spacing: -0.01em;\r\n        }\r\n        p {\r\n          margin: var(--space-2) 0 0;\r\n          color: var(--color-neutral-2);\r\n          line-height: 1.5;\r\n        }\r\n      `}</style>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AASO,SAAS,cAAc,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAsB;IAC/E,qBACE,0NAAC;kDAAiB;;0BAChB,0NAAC;;;kCACC,0NAAC;;kCAAI;;;;;;oBACJ,0BAAY,0NAAC;;kCAAG;;;;;;;;;;;;YAElB,yBAAW,0NAAC;0DAAc;0BAAmB;;;;;;;;;;;;;;;;AAuBpD;KA9BgB","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ntype CardProps = PropsWithChildren<{\r\n  title?: string;\r\n  description?: string;\r\n  accent?: 'success' | 'warning' | 'critical' | 'info';\r\n}>;\r\n\r\nconst accentStyles: Record<NonNullable<CardProps['accent']>, string> = {\r\n  success: 'var(--color-success)',\r\n  warning: 'var(--color-calm-gold)',\r\n  critical: 'var(--color-coral)',\r\n  info: 'var(--color-soft-aqua)'\r\n};\r\n\r\nexport function Card({ title, description, accent, children }: CardProps) {\r\n  return (\r\n    <article className=\"card\" data-accent={accent ?? 'none'}>\r\n      {(title || description) && (\r\n        <header>\r\n          {title && <h3>{title}</h3>}\r\n          {description && <p className=\"card-description\">{description}</p>}\r\n        </header>\r\n      )}\r\n      <div>{children}</div>\r\n      <style jsx>{`\r\n        .card {\r\n          position: relative;\r\n          background: var(--color-neutral-0);\r\n          border-radius: var(--radius-md);\r\n          padding: var(--space-5);\r\n          box-shadow: var(--shadow-card);\r\n          border: 1px solid rgba(15, 23, 42, 0.08);\r\n          display: grid;\r\n          gap: var(--space-5);\r\n        }\r\n        .card::before {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 0;\r\n          border-radius: calc(var(--radius-md) - 1px);\r\n          border: 1px solid transparent;\r\n          pointer-events: none;\r\n        }\r\n        .card[data-accent='success']::before {\r\n          border-top-color: ${accentStyles.success};\r\n        }\r\n        .card[data-accent='warning']::before {\r\n          border-top-color: ${accentStyles.warning};\r\n        }\r\n        .card[data-accent='critical']::before {\r\n          border-top-color: ${accentStyles.critical};\r\n        }\r\n        .card[data-accent='info']::before {\r\n          border-top-color: ${accentStyles.info};\r\n        }\r\n        header h3 {\r\n          margin: 0;\r\n          font-size: 1.125rem;\r\n          color: var(--color-neutral-3);\r\n          letter-spacing: -0.01em;\r\n        }\r\n        .card-description {\r\n          margin: var(--space-2) 0 0;\r\n          color: var(--color-neutral-2);\r\n          line-height: 1.5;\r\n        }\r\n        @media (max-width: 768px) {\r\n          .card {\r\n            padding: var(--space-4);\r\n          }\r\n        }\r\n      `}</style>\r\n    </article>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAUA,MAAM,eAAiE;IACrE,SAAS;IACT,SAAS;IACT,UAAU;IACV,MAAM;AACR;AAEO,SAAS,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAa;IACtE,qBACE,0NAAC;QAAyB,eAAa,UAAU;kDAA9B;;YAChB,CAAC,SAAS,WAAW,mBACpB,0NAAC;;;oBACE,uBAAS,0NAAC;;kCAAI;;;;;;oBACd,6BAAe,0NAAC;kEAAY;kCAAoB;;;;;;;;;;;;0BAGrD,0NAAC;;0BAAK;;;;;;;;geAqBkB,aAAa,OAAO,4EAGpB,aAAa,OAAO,6EAGpB,aAAa,QAAQ,yEAGrB,aAAa,IAAI;;;;;;;;AAqB/C;KA5DgB","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/ResponsiveGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface ResponsiveGridProps extends PropsWithChildren {\r\n  columns?: number;\r\n}\r\n\r\nexport function ResponsiveGrid({ children, columns = 3 }: ResponsiveGridProps) {\r\n  return (\r\n    <div className=\"responsive-grid\">\r\n      {children}\r\n      <style jsx>{`\r\n        .responsive-grid {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          grid-template-columns: repeat(${columns}, minmax(0, 1fr));\r\n        }\r\n        @media (max-width: 1200px) {\r\n          .responsive-grid {\r\n            grid-template-columns: repeat(2, minmax(0, 1fr));\r\n          }\r\n        }\r\n        @media (max-width: 768px) {\r\n          .responsive-grid {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAQO,SAAS,eAAe,EAAE,QAAQ,EAAE,UAAU,CAAC,EAAuB;IAC3E,qBACE,0NAAC;;;;;oBAMqC;;;mBANvB;;YACZ;;;;oBAKmC;;2HAAA;;;;;;;;AAe1C;KAvBgB","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/tour/usePageTour.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useCallback, useEffect, useMemo } from 'react';\r\n\r\nimport type { TourRegistration } from './TourContext';\r\nimport { useGuidedTour } from './TourContext';\r\n\r\nexport function usePageTour(config: TourRegistration) {\r\n  const { registerTour, startTour, hasCompleted } = useGuidedTour();\r\n\r\n  const stepsKey = useMemo(() => JSON.stringify(config.steps), [config.steps]);\r\n  const steps = useMemo<TourRegistration['steps']>(() => {\r\n    return JSON.parse(stepsKey) as TourRegistration['steps'];\r\n  }, [stepsKey]);\r\n\r\n  const metadataKey = useMemo(() => {\r\n    if (config.metadata === undefined) {\r\n      return undefined;\r\n    }\r\n    return JSON.stringify(config.metadata);\r\n  }, [config.metadata]);\r\n\r\n  const metadata = useMemo<TourRegistration['metadata']>(() => {\r\n    if (metadataKey === undefined) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(metadataKey) as TourRegistration['metadata'];\r\n  }, [metadataKey]);\r\n\r\n  const registration = useMemo<TourRegistration>(\r\n    () => ({\r\n      id: config.id,\r\n      title: config.title,\r\n      description: config.description,\r\n      route: config.route,\r\n      autoStart: config.autoStart,\r\n      metadata,\r\n      steps\r\n    }),\r\n    [config.autoStart, config.description, config.id, config.route, config.title, metadata, steps]\r\n  );\r\n\r\n  useEffect(() => {\r\n    return registerTour(registration);\r\n  }, [registerTour, registration]);\r\n\r\n  const start = useCallback(() => {\r\n    startTour(config.id);\r\n  }, [config.id, startTour]);\r\n\r\n  const completed = hasCompleted(config.id);\r\n\r\n  return {\r\n    start,\r\n    completed\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAGA;;AALA;;;AAOO,SAAS,YAAY,MAAwB;;IAClD,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,IAAA,kMAAa;IAE/D,MAAM,WAAW,IAAA,qMAAO;yCAAC,IAAM,KAAK,SAAS,CAAC,OAAO,KAAK;wCAAG;QAAC,OAAO,KAAK;KAAC;IAC3E,MAAM,QAAQ,IAAA,qMAAO;sCAA4B;YAC/C,OAAO,KAAK,KAAK,CAAC;QACpB;qCAAG;QAAC;KAAS;IAEb,MAAM,cAAc,IAAA,qMAAO;4CAAC;YAC1B,IAAI,OAAO,QAAQ,KAAK,WAAW;gBACjC,OAAO;YACT;YACA,OAAO,KAAK,SAAS,CAAC,OAAO,QAAQ;QACvC;2CAAG;QAAC,OAAO,QAAQ;KAAC;IAEpB,MAAM,WAAW,IAAA,qMAAO;yCAA+B;YACrD,IAAI,gBAAgB,WAAW;gBAC7B,OAAO;YACT;YACA,OAAO,KAAK,KAAK,CAAC;QACpB;wCAAG;QAAC;KAAY;IAEhB,MAAM,eAAe,IAAA,qMAAO;6CAC1B,IAAM,CAAC;gBACL,IAAI,OAAO,EAAE;gBACb,OAAO,OAAO,KAAK;gBACnB,aAAa,OAAO,WAAW;gBAC/B,OAAO,OAAO,KAAK;gBACnB,WAAW,OAAO,SAAS;gBAC3B;gBACA;YACF,CAAC;4CACD;QAAC,OAAO,SAAS;QAAE,OAAO,WAAW;QAAE,OAAO,EAAE;QAAE,OAAO,KAAK;QAAE,OAAO,KAAK;QAAE;QAAU;KAAM;IAGhG,IAAA,uMAAS;iCAAC;YACR,OAAO,aAAa;QACtB;gCAAG;QAAC;QAAc;KAAa;IAE/B,MAAM,QAAQ,IAAA,yMAAW;0CAAC;YACxB,UAAU,OAAO,EAAE;QACrB;yCAAG;QAAC,OAAO,EAAE;QAAE;KAAU;IAEzB,MAAM,YAAY,aAAa,OAAO,EAAE;IAExC,OAAO;QACL;QACA;IACF;AACF;GAjDgB;;QACoC,kMAAa","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/knowledge-base.ts"],"sourcesContent":["const CORE_API_BASE_URL =\r\n  process.env.NEXT_PUBLIC_CORE_API_BASE_URL ?? 'http://localhost:8000';\r\n\r\ninterface KnowledgeBaseCategoryDto {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  total_articles: number;\r\n  top_tags: string[];\r\n}\r\n\r\ninterface KnowledgeBaseArticleSummaryDto {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  excerpt: string;\r\n  category_id: string;\r\n  category_name: string;\r\n  reading_time_minutes: number;\r\n  tags: string[];\r\n  updated_at: string;\r\n  stage: string;\r\n  snippet_preview: string | null;\r\n}\r\n\r\ninterface KnowledgeBaseSnippetDto {\r\n  id: string;\r\n  label: string;\r\n  content: string;\r\n  surface: string;\r\n  recommended_playbook: string | null;\r\n}\r\n\r\ninterface KnowledgeBaseArticleDto extends KnowledgeBaseArticleSummaryDto {\r\n  content: string;\r\n  action_snippets: KnowledgeBaseSnippetDto[];\r\n  related_playbooks: string[];\r\n  persona: string | null;\r\n  use_case: string | null;\r\n}\r\n\r\ninterface KnowledgeBaseCatalogDto {\r\n  categories: KnowledgeBaseCategoryDto[];\r\n  articles: KnowledgeBaseArticleSummaryDto[];\r\n  query: {\r\n    term: string | null;\r\n    total_hits: number;\r\n  };\r\n}\r\n\r\nexport interface KnowledgeBaseCategory {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  totalArticles: number;\r\n  topTags: string[];\r\n}\r\n\r\nexport interface KnowledgeBaseArticleSummary {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  excerpt: string;\r\n  categoryId: string;\r\n  categoryName: string;\r\n  readingTimeMinutes: number;\r\n  tags: string[];\r\n  updatedAt: string;\r\n  stage: string;\r\n  snippetPreview: string | null;\r\n}\r\n\r\nexport interface KnowledgeBaseSnippet {\r\n  id: string;\r\n  label: string;\r\n  content: string;\r\n  surface: string;\r\n  recommendedPlaybook: string | null;\r\n}\r\n\r\nexport interface KnowledgeBaseArticle extends KnowledgeBaseArticleSummary {\r\n  content: string;\r\n  actionSnippets: KnowledgeBaseSnippet[];\r\n  relatedPlaybooks: string[];\r\n  persona: string | null;\r\n  useCase: string | null;\r\n}\r\n\r\nexport interface KnowledgeBaseCatalog {\r\n  categories: KnowledgeBaseCategory[];\r\n  articles: KnowledgeBaseArticleSummary[];\r\n  query: {\r\n    term: string | null;\r\n    totalHits: number;\r\n  };\r\n}\r\n\r\nexport interface KnowledgeBaseTelemetryEvent {\r\n  event: 'search' | 'article_view' | 'article_complete' | 'snippet_copy';\r\n  slug?: string;\r\n  query?: string;\r\n  hits?: number;\r\n  surface?: string;\r\n  durationSeconds?: number;\r\n}\r\n\r\nexport async function fetchKnowledgeBaseCatalog(\r\n  params: { query?: string | null; category?: string | null; limit?: number } = {}\r\n): Promise<KnowledgeBaseCatalog> {\r\n  const url = new URL('/support/knowledge-base/catalog', CORE_API_BASE_URL);\r\n  if (params.query) {\r\n    url.searchParams.set('q', params.query);\r\n  }\r\n  if (params.category) {\r\n    url.searchParams.set('category', params.category);\r\n  }\r\n  if (params.limit) {\r\n    url.searchParams.set('limit', params.limit.toString());\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    method: 'GET',\r\n    headers: { Accept: 'application/json' },\r\n    cache: 'no-store'\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(`Failed to load knowledge base catalog: ${response.status}`);\r\n  }\r\n\r\n  const dto = (await response.json()) as KnowledgeBaseCatalogDto;\r\n  return {\r\n    categories: dto.categories.map(mapCategory),\r\n    articles: dto.articles.map(mapArticleSummary),\r\n    query: {\r\n      term: dto.query.term,\r\n      totalHits: dto.query.total_hits\r\n    }\r\n  };\r\n}\r\n\r\nexport async function fetchKnowledgeBaseArticle(slug: string): Promise<KnowledgeBaseArticle> {\r\n  const url = new URL(`/support/knowledge-base/articles/${slug}`, CORE_API_BASE_URL);\r\n  const response = await fetch(url, {\r\n    method: 'GET',\r\n    headers: { Accept: 'application/json' },\r\n    cache: 'no-store'\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(`Failed to load article ${slug}: ${response.status}`);\r\n  }\r\n\r\n  const dto = (await response.json()) as KnowledgeBaseArticleDto;\r\n  return mapArticle(dto);\r\n}\r\n\r\nexport async function trackKnowledgeBaseEvent(event: KnowledgeBaseTelemetryEvent): Promise<void> {\r\n  const url = new URL('/support/knowledge-base/telemetry', CORE_API_BASE_URL);\r\n  const payload: Record<string, unknown> = {\r\n    event: event.event,\r\n    slug: event.slug ?? null,\r\n    query: event.query ?? null,\r\n    hits: event.hits ?? null,\r\n    surface: event.surface ?? null,\r\n    duration_seconds: event.durationSeconds ?? null\r\n  };\r\n\r\n  await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(payload)\r\n  });\r\n}\r\n\r\nfunction mapCategory(dto: KnowledgeBaseCategoryDto): KnowledgeBaseCategory {\r\n  return {\r\n    id: dto.id,\r\n    name: dto.name,\r\n    description: dto.description,\r\n    totalArticles: dto.total_articles,\r\n    topTags: dto.top_tags\r\n  };\r\n}\r\n\r\nfunction mapArticleSummary(dto: KnowledgeBaseArticleSummaryDto): KnowledgeBaseArticleSummary {\r\n  return {\r\n    id: dto.id,\r\n    slug: dto.slug,\r\n    title: dto.title,\r\n    excerpt: dto.excerpt,\r\n    categoryId: dto.category_id,\r\n    categoryName: dto.category_name,\r\n    readingTimeMinutes: dto.reading_time_minutes,\r\n    tags: dto.tags,\r\n    updatedAt: dto.updated_at,\r\n    stage: dto.stage,\r\n    snippetPreview: dto.snippet_preview\r\n  };\r\n}\r\n\r\nfunction mapArticle(dto: KnowledgeBaseArticleDto): KnowledgeBaseArticle {\r\n  return {\r\n    ...mapArticleSummary(dto),\r\n    content: dto.content,\r\n    actionSnippets: dto.action_snippets.map((snippet) => ({\r\n      id: snippet.id,\r\n      label: snippet.label,\r\n      content: snippet.content,\r\n      surface: snippet.surface,\r\n      recommendedPlaybook: snippet.recommended_playbook\r\n    })),\r\n    relatedPlaybooks: dto.related_playbooks,\r\n    persona: dto.persona,\r\n    useCase: dto.use_case\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/app/support/knowledge-base/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useCallback, useEffect, useMemo, useState, type FormEvent } from 'react';\r\nimport Link from 'next/link';\r\n\r\nimport { SectionHeader } from '@/components/layout/SectionHeader';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { ResponsiveGrid } from '@/components/layout/ResponsiveGrid';\r\nimport { useAnalytics } from '@/components/analytics/AnalyticsContext';\r\nimport { usePageTour } from '@/components/tour/usePageTour';\r\nimport {\r\n  fetchKnowledgeBaseArticle,\r\n  fetchKnowledgeBaseCatalog,\r\n  KnowledgeBaseArticle,\r\n  KnowledgeBaseArticleSummary,\r\n  KnowledgeBaseCatalog,\r\n  KnowledgeBaseSnippet,\r\n  trackKnowledgeBaseEvent\r\n} from '@/services/api/knowledge-base';\r\n\r\nexport default function KnowledgeBasePage() {\r\n  const analytics = useAnalytics();\r\n  const [catalog, setCatalog] = useState<KnowledgeBaseCatalog | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState<{ query: string | null; category: string | null }>({\r\n    query: null,\r\n    category: null\r\n  });\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [selectedArticle, setSelectedArticle] = useState<KnowledgeBaseArticle | null>(null);\r\n  const [articleLoading, setArticleLoading] = useState(false);\r\n  const [articleError, setArticleError] = useState<string | null>(null);\r\n  const [articleCompleted, setArticleCompleted] = useState(false);\r\n  const [announcement, setAnnouncement] = useState<string | null>(null);\r\n\r\n  const tourSteps = useMemo(\r\n    () => [\r\n      {\r\n        id: 'kb-search',\r\n        title: 'Pesquisa inteligente',\r\n        description: 'Procure por categoria, incidente ou playbook para acelerar o autoatendimento.',\r\n        target: '[data-tour=\"kb-search\"]'\r\n      },\r\n      {\r\n        id: 'kb-categories',\r\n        title: 'Categorias prioritárias',\r\n        description: 'Filtre artigos por Primeiros Passos, Incidentes ou Automações conforme o cenário operacional.',\r\n        target: '[data-tour=\"kb-categories\"]'\r\n      },\r\n      {\r\n        id: 'kb-results',\r\n        title: 'Resultados com snippet automático',\r\n        description: 'Cada artigo oferece um snippet pronto para partilha imediata com a equipa.',\r\n        target: '[data-tour=\"kb-results\"]'\r\n      },\r\n      {\r\n        id: 'kb-article',\r\n        title: 'Telemetria de leitura e snippets',\r\n        description: 'Dentro do artigo copie snippets, marque leitura concluída e envie telemetria para o dashboard.',\r\n        target: '[data-tour=\"kb-article\"]'\r\n      }\r\n    ],\r\n    []\r\n  );\r\n\r\n  const tourRoute = useMemo(() => ['/support/knowledge-base'], []);\r\n\r\n  usePageTour({\r\n    id: 'support-knowledge-base',\r\n    title: 'Tour do centro de suporte',\r\n    description: 'Conheça pesquisa, categorias e snippets que alimentam o autoatendimento.',\r\n    steps: tourSteps,\r\n    autoStart: true,\r\n    route: tourRoute\r\n  });\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    async function loadCatalog(query: string | null, category: string | null) {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const data = await fetchKnowledgeBaseCatalog({ query, category, limit: 12 });\r\n        if (!active) return;\r\n        setCatalog(data);\r\n        if (query) {\r\n          analytics.track('knowledge_base.search_performed', {\r\n            query,\r\n            category: category ?? 'all',\r\n            hits: data.query.totalHits\r\n          });\r\n          trackKnowledgeBaseEvent({\r\n            event: 'search',\r\n            query,\r\n            hits: data.query.totalHits,\r\n            surface: 'support_center'\r\n          }).catch(() => {\r\n            // ignore telemetry network errors\r\n          });\r\n        }\r\n      } catch (err) {\r\n        if (!active) return;\r\n        setCatalog(null);\r\n        setError('Não foi possível carregar a base de conhecimento.');\r\n      } finally {\r\n        if (active) {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    }\r\n\r\n    loadCatalog(filters.query, filters.category);\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [analytics, filters]);\r\n\r\n  useEffect(() => {\r\n    if (!announcement) {\r\n      return;\r\n    }\r\n    const timeout = window.setTimeout(() => setAnnouncement(null), 4000);\r\n    return () => window.clearTimeout(timeout);\r\n  }, [announcement]);\r\n\r\n  const handleSearchSubmit = useCallback(\r\n    (event: FormEvent<HTMLFormElement>) => {\r\n      event.preventDefault();\r\n      const trimmed = searchInput.trim();\r\n      setFilters((current) => ({ ...current, query: trimmed.length > 0 ? trimmed : null }));\r\n    },\r\n    [searchInput]\r\n  );\r\n\r\n  const toggleCategory = (categoryId: string) => {\r\n    setFilters((current) => ({\r\n      query: current.query,\r\n      category: current.category === categoryId ? null : categoryId\r\n    }));\r\n  };\r\n\r\n  const openArticle = async (summary: KnowledgeBaseArticleSummary) => {\r\n    setArticleLoading(true);\r\n    setArticleError(null);\r\n    setAnnouncement(null);\r\n    try {\r\n      const article = await fetchKnowledgeBaseArticle(summary.slug);\r\n      setSelectedArticle(article);\r\n      setArticleCompleted(false);\r\n      analytics.track('knowledge_base.article_view', {\r\n        slug: article.slug,\r\n        category: article.categoryId\r\n      });\r\n      trackKnowledgeBaseEvent({\r\n        event: 'article_view',\r\n        slug: article.slug,\r\n        surface: 'support_center'\r\n      }).catch(() => undefined);\r\n    } catch (err) {\r\n      setArticleError('Não foi possível carregar o artigo seleccionado.');\r\n      setSelectedArticle(null);\r\n    } finally {\r\n      setArticleLoading(false);\r\n    }\r\n  };\r\n\r\n  const closeArticle = () => {\r\n    setSelectedArticle(null);\r\n    setArticleCompleted(false);\r\n    setArticleError(null);\r\n  };\r\n\r\n  const markArticleCompleted = () => {\r\n    if (!selectedArticle || articleCompleted) {\r\n      return;\r\n    }\r\n    setArticleCompleted(true);\r\n    analytics.track('knowledge_base.article_complete', {\r\n      slug: selectedArticle.slug,\r\n      category: selectedArticle.categoryId\r\n    });\r\n    trackKnowledgeBaseEvent({\r\n      event: 'article_complete',\r\n      slug: selectedArticle.slug,\r\n      surface: 'support_center',\r\n      durationSeconds: selectedArticle.readingTimeMinutes * 60\r\n    }).catch(() => undefined);\r\n    setAnnouncement('Leitura marcada como concluída.');\r\n  };\r\n\r\n  const copySnippet = async (snippet: KnowledgeBaseSnippet, article: KnowledgeBaseArticle) => {\r\n    try {\r\n      await navigator.clipboard.writeText(snippet.content);\r\n      setAnnouncement('Snippet copiado para a área de transferência.');\r\n      analytics.track('knowledge_base.snippet_copy', {\r\n        article: article.slug,\r\n        surface: snippet.surface\r\n      });\r\n      trackKnowledgeBaseEvent({\r\n        event: 'snippet_copy',\r\n        slug: article.slug,\r\n        surface: snippet.surface\r\n      }).catch(() => undefined);\r\n    } catch (err) {\r\n      setAnnouncement('Não foi possível copiar o snippet automaticamente.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"kb-page\">\r\n      <SectionHeader subtitle=\"Autoatendimento com snippets e telemetria integrada\">\r\n        Base de conhecimento & Suporte\r\n      </SectionHeader>\r\n\r\n      <div className=\"kb-actions\" data-tour=\"kb-search\">\r\n        <form onSubmit={handleSearchSubmit} className=\"kb-search-form\">\r\n          <label htmlFor=\"kb-search\">Pesquisar artigos</label>\r\n          <div className=\"kb-search-input\">\r\n            <input\r\n              id=\"kb-search\"\r\n              type=\"search\"\r\n              value={searchInput}\r\n              onChange={(event) => setSearchInput(event.target.value)}\r\n              placeholder=\"Ex.: incidentes P1, automações de turno\"\r\n              aria-describedby=\"kb-search-help\"\r\n            />\r\n            <button type=\"submit\">Pesquisar</button>\r\n          </div>\r\n          <p id=\"kb-search-help\" className=\"kb-help-text\">\r\n            Pesquise por incidentes, categorias ou playbooks para sugerir autoatendimento.\r\n          </p>\r\n        </form>\r\n        <Link className=\"kb-support-link\" href=\"/suporte\">\r\n          Voltar para o centro de suporte\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"kb-categories\" data-tour=\"kb-categories\">\r\n        <span className=\"kb-categories-label\">Categorias</span>\r\n        <div className=\"kb-categories-list\">\r\n          {(catalog?.categories ?? []).map((category) => {\r\n            const isActive = filters.category === category.id;\r\n            return (\r\n              <button\r\n                key={category.id}\r\n                type=\"button\"\r\n                className={isActive ? 'active' : ''}\r\n                onClick={() => toggleCategory(category.id)}\r\n                aria-pressed={isActive}\r\n              >\r\n                {category.name}\r\n                <span className=\"badge\">{category.totalArticles}</span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {announcement && (\r\n        <p className=\"kb-announcement\" role=\"status\" aria-live=\"polite\">\r\n          {announcement}\r\n        </p>\r\n      )}\r\n\r\n      {error && <p role=\"alert\" className=\"kb-error\">{error}</p>}\r\n\r\n      <div className=\"kb-results\" data-tour=\"kb-results\">\r\n        {loading && <p className=\"kb-loading\">A carregar artigos…</p>}\r\n        {!loading && catalog && catalog.articles.length === 0 && (\r\n          <Card title=\"Sem resultados\" description=\"Tente outra combinação de termos ou categoria.\" />\r\n        )}\r\n        {!loading && catalog && catalog.articles.length > 0 && (\r\n          <ResponsiveGrid columns={2}>\r\n            {catalog.articles.map((article) => (\r\n              <article key={article.id} className=\"kb-result\">\r\n                <header>\r\n                  <h3>{article.title}</h3>\r\n                  <p className=\"kb-result-meta\">\r\n                    {article.categoryName} · {article.readingTimeMinutes} min · {article.stage}\r\n                  </p>\r\n                </header>\r\n                <p>{article.excerpt}</p>\r\n                {article.snippetPreview && (\r\n                  <pre className=\"kb-snippet\" aria-label=\"Snippet sugerido\">\r\n                    {article.snippetPreview}\r\n                  </pre>\r\n                )}\r\n                <div className=\"kb-result-actions\">\r\n                  <button type=\"button\" onClick={() => openArticle(article)}>\r\n                    Ler artigo completo\r\n                  </button>\r\n                  {article.snippetPreview && (\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"secondary\"\r\n                      onClick={() =>\r\n                        copySnippet(\r\n                          {\r\n                            id: `${article.id}-preview`,\r\n                            label: 'Snippet rápido',\r\n                            content: article.snippetPreview,\r\n                            surface: 'support_center',\r\n                            recommendedPlaybook: null\r\n                          },\r\n                          {\r\n                            ...article,\r\n                            content: '',\r\n                            actionSnippets: [],\r\n                            relatedPlaybooks: [],\r\n                            persona: null,\r\n                            useCase: null\r\n                          }\r\n                        )\r\n                      }\r\n                    >\r\n                      Copiar snippet\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </article>\r\n            ))}\r\n          </ResponsiveGrid>\r\n        )}\r\n      </div>\r\n\r\n      {selectedArticle && (\r\n        <KnowledgeBaseArticleDialog\r\n          article={selectedArticle}\r\n          onClose={closeArticle}\r\n          onCopySnippet={copySnippet}\r\n          onMarkCompleted={markArticleCompleted}\r\n          completed={articleCompleted}\r\n          loading={articleLoading}\r\n          error={articleError}\r\n        />\r\n      )}\r\n      <style jsx>{`\r\n        .kb-page {\r\n          display: grid;\r\n          gap: var(--space-5);\r\n        }\r\n        .kb-actions {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-end;\r\n          gap: var(--space-4);\r\n        }\r\n        .kb-search-form {\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        .kb-search-input {\r\n          display: flex;\r\n          gap: var(--space-2);\r\n        }\r\n        input[type='search'] {\r\n          flex: 1;\r\n          border-radius: var(--radius-sm);\r\n          border: 1px solid var(--color-neutral-4);\r\n          padding: var(--space-2);\r\n        }\r\n        .kb-search-form button {\r\n          border-radius: var(--radius-sm);\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n          border: none;\r\n          padding: var(--space-2) var(--space-4);\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n        }\r\n        .kb-support-link {\r\n          align-self: center;\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .kb-help-text {\r\n          margin: 0;\r\n          font-size: 0.875rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .kb-categories {\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        .kb-categories-label {\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .kb-categories-list {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: var(--space-2);\r\n        }\r\n        .kb-categories-list button {\r\n          border-radius: var(--radius-pill);\r\n          border: 1px solid var(--color-neutral-4);\r\n          background: #fff;\r\n          padding: var(--space-1) var(--space-3);\r\n          cursor: pointer;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-1);\r\n        }\r\n        .kb-categories-list button.active {\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n          border-color: var(--color-deep-blue);\r\n        }\r\n        .badge {\r\n          font-size: 0.75rem;\r\n          padding: 0 var(--space-1);\r\n          border-radius: var(--radius-pill);\r\n          background: rgba(14, 165, 233, 0.2);\r\n        }\r\n        .kb-announcement {\r\n          margin: 0;\r\n          padding: var(--space-2);\r\n          background: rgba(14, 165, 233, 0.16);\r\n          border-radius: var(--radius-sm);\r\n        }\r\n        .kb-error {\r\n          color: var(--color-coral);\r\n        }\r\n        .kb-results {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n        }\r\n        .kb-loading {\r\n          margin: 0;\r\n        }\r\n        .kb-result {\r\n          display: grid;\r\n          gap: var(--space-3);\r\n          background: #fff;\r\n          border-radius: var(--radius-md);\r\n          padding: var(--space-4);\r\n          box-shadow: var(--shadow-card);\r\n        }\r\n        .kb-result h3 {\r\n          margin: 0;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .kb-result-meta {\r\n          margin: 0;\r\n          font-size: 0.875rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .kb-snippet {\r\n          background: rgba(37, 99, 235, 0.05);\r\n          padding: var(--space-3);\r\n          border-radius: var(--radius-sm);\r\n          margin: 0;\r\n          white-space: pre-wrap;\r\n        }\r\n        .kb-result-actions {\r\n          display: flex;\r\n          gap: var(--space-3);\r\n        }\r\n        .kb-result-actions button {\r\n          border-radius: var(--radius-sm);\r\n          border: none;\r\n          padding: var(--space-2) var(--space-3);\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n        }\r\n        .kb-result-actions button.secondary {\r\n          background: rgba(37, 99, 235, 0.12);\r\n          color: var(--color-deep-blue);\r\n        }\r\n        @media (max-width: 960px) {\r\n          .kb-actions {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n          }\r\n          .kb-result-actions {\r\n            flex-direction: column;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ArticleDialogProps {\r\n  article: KnowledgeBaseArticle;\r\n  onClose: () => void;\r\n  onCopySnippet: (snippet: KnowledgeBaseSnippet, article: KnowledgeBaseArticle) => void;\r\n  onMarkCompleted: () => void;\r\n  completed: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nfunction KnowledgeBaseArticleDialog({\r\n  article,\r\n  onClose,\r\n  onCopySnippet,\r\n  onMarkCompleted,\r\n  completed,\r\n  loading,\r\n  error\r\n}: ArticleDialogProps) {\r\n  useEffect(() => {\r\n    function onKeyDown(event: KeyboardEvent) {\r\n      if (event.key === 'Escape') {\r\n        event.preventDefault();\r\n        onClose();\r\n      }\r\n    }\r\n    window.addEventListener('keydown', onKeyDown);\r\n    return () => window.removeEventListener('keydown', onKeyDown);\r\n  }, [onClose]);\r\n\r\n  return (\r\n    <div className=\"kb-dialog\" role=\"dialog\" aria-modal=\"true\" data-tour=\"kb-article\">\r\n      <div className=\"kb-dialog-content\">\r\n        <header>\r\n          <h2>{article.title}</h2>\r\n          <p className=\"kb-dialog-meta\">\r\n            {article.categoryName} · {article.readingTimeMinutes} min\r\n          </p>\r\n        </header>\r\n        {loading && <p>A carregar artigo…</p>}\r\n        {error && <p role=\"alert\">{error}</p>}\r\n        {!loading && !error && (\r\n          <div className=\"kb-dialog-body\">\r\n            {article.content.split('\\n\\n').map((paragraph) => (\r\n              <p key={paragraph}>{paragraph}</p>\r\n            ))}\r\n            {article.actionSnippets.length > 0 && (\r\n              <section className=\"kb-dialog-snippets\">\r\n                <h3>Snippets recomendados</h3>\r\n                {article.actionSnippets.map((snippet) => (\r\n                  <article key={snippet.id} className=\"kb-dialog-snippet\">\r\n                    <header>\r\n                      <h4>{snippet.label}</h4>\r\n                      {snippet.recommendedPlaybook && (\r\n                        <span className=\"kb-dialog-pill\">{snippet.recommendedPlaybook}</span>\r\n                      )}\r\n                    </header>\r\n                    <pre>{snippet.content}</pre>\r\n                    <button type=\"button\" onClick={() => onCopySnippet(snippet, article)}>\r\n                      Copiar snippet\r\n                    </button>\r\n                  </article>\r\n                ))}\r\n              </section>\r\n            )}\r\n          </div>\r\n        )}\r\n        <footer className=\"kb-dialog-footer\">\r\n          <button type=\"button\" className=\"secondary\" onClick={onClose}>\r\n            Fechar\r\n          </button>\r\n          <button type=\"button\" onClick={onMarkCompleted} disabled={completed}>\r\n            {completed ? 'Leitura concluída' : 'Marcar como concluído'}\r\n          </button>\r\n        </footer>\r\n      </div>\r\n      <style jsx>{`\r\n        .kb-dialog {\r\n          position: fixed;\r\n          inset: 0;\r\n          background: rgba(37, 99, 235, 0.6);\r\n          display: grid;\r\n          place-items: center;\r\n          padding: var(--space-6);\r\n          z-index: 2100;\r\n        }\r\n        .kb-dialog-content {\r\n          background: #fff;\r\n          border-radius: var(--radius-md);\r\n          max-width: 720px;\r\n          width: 100%;\r\n          padding: var(--space-5);\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n        }\r\n        .kb-dialog-meta {\r\n          margin: 0;\r\n          font-size: 0.875rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .kb-dialog-body {\r\n          display: grid;\r\n          gap: var(--space-3);\r\n        }\r\n        .kb-dialog-snippets {\r\n          display: grid;\r\n          gap: var(--space-3);\r\n        }\r\n        .kb-dialog-snippet {\r\n          background: rgba(37, 99, 235, 0.04);\r\n          border-radius: var(--radius-sm);\r\n          padding: var(--space-3);\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        .kb-dialog-snippet pre {\r\n          margin: 0;\r\n          white-space: pre-wrap;\r\n        }\r\n        .kb-dialog-snippet button {\r\n          justify-self: start;\r\n          border-radius: var(--radius-sm);\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n          border: none;\r\n          padding: var(--space-1) var(--space-3);\r\n          cursor: pointer;\r\n        }\r\n        .kb-dialog-pill {\r\n          background: rgba(14, 165, 233, 0.2);\r\n          border-radius: var(--radius-pill);\r\n          padding: 0 var(--space-2);\r\n          font-size: 0.75rem;\r\n        }\r\n        .kb-dialog-footer {\r\n          display: flex;\r\n          justify-content: flex-end;\r\n          gap: var(--space-3);\r\n        }\r\n        .kb-dialog-footer button {\r\n          border-radius: var(--radius-sm);\r\n          border: none;\r\n          padding: var(--space-2) var(--space-4);\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n        }\r\n        .kb-dialog-footer .secondary {\r\n          background: rgba(37, 99, 235, 0.12);\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .kb-dialog-footer button:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n        }\r\n        @media (max-width: 768px) {\r\n          .kb-dialog {\r\n            padding: var(--space-4);\r\n          }\r\n          .kb-dialog-content {\r\n            padding: var(--space-4);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}