{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/src/theme/statusTokens.ts"],"sourcesContent":["export type StatusVariant = 'success' | 'warning' | 'critical' | 'info' | 'neutral';\r\n\r\nexport const STATUS_VARIANTS: readonly StatusVariant[] = [\r\n  'success',\r\n  'warning',\r\n  'critical',\r\n  'info',\r\n  'neutral'\r\n] as const;\r\n\r\nexport interface StatusToken {\r\n  surface: string;\r\n  border: string;\r\n  text: string;\r\n  icon: string;\r\n  label: string;\r\n}\r\n\r\nexport const statusTokens: Record<StatusVariant, StatusToken> = {\r\n  success: {\r\n    surface: 'var(--status-success-surface)',\r\n    border: 'var(--status-success-border)',\r\n    text: 'var(--status-success-text)',\r\n    icon: 'var(--status-success-icon)',\r\n    label: 'Estado: sucesso'\r\n  },\r\n  warning: {\r\n    surface: 'var(--status-warning-surface)',\r\n    border: 'var(--status-warning-border)',\r\n    text: 'var(--status-warning-text)',\r\n    icon: 'var(--status-warning-icon)',\r\n    label: 'Estado: alerta'\r\n  },\r\n  critical: {\r\n    surface: 'var(--status-critical-surface)',\r\n    border: 'var(--status-critical-border)',\r\n    text: 'var(--status-critical-text)',\r\n    icon: 'var(--status-critical-icon)',\r\n    label: 'Estado: crítico'\r\n  },\r\n  info: {\r\n    surface: 'var(--status-info-surface)',\r\n    border: 'var(--status-info-border)',\r\n    text: 'var(--status-info-text)',\r\n    icon: 'var(--status-info-icon)',\r\n    label: 'Estado: informativo'\r\n  },\r\n  neutral: {\r\n    surface: 'var(--status-neutral-surface)',\r\n    border: 'var(--status-neutral-border)',\r\n    text: 'var(--status-neutral-text)',\r\n    icon: 'var(--status-neutral-icon)',\r\n    label: 'Estado: neutro'\r\n  }\r\n};\r\n\r\nexport function getStatusToken(variant: StatusVariant): StatusToken {\r\n  return statusTokens[variant];\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,kBAA4C;IACvD;IACA;IACA;IACA;IACA;CACD;AAUM,MAAM,eAAmD;IAC9D,SAAS;QACP,SAAS;QACT,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;IACT;IACA,SAAS;QACP,SAAS;QACT,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;IACT;IACA,UAAU;QACR,SAAS;QACT,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;IACT;IACA,MAAM;QACJ,SAAS;QACT,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;IACT;IACA,SAAS;QACP,SAAS;QACT,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS,eAAe,OAAsB;IACnD,OAAO,YAAY,CAAC,QAAQ;AAC9B","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { type CSSProperties, PropsWithChildren } from 'react';\r\nimport { AlertTriangle, CheckCircle2, Info, OctagonAlert, type LucideIcon } from 'lucide-react';\r\n\r\nimport { getStatusToken, type StatusVariant } from '@/src/theme/statusTokens';\r\n\r\ntype CardAccent = Extract<StatusVariant, 'success' | 'warning' | 'critical' | 'info'>;\r\n\r\ntype CardProps = PropsWithChildren<{\r\n  title?: string;\r\n  description?: string;\r\n  accent?: CardAccent;\r\n  accentLabel?: string;\r\n  focusable?: boolean;\r\n}>;\r\n\r\nconst accentIcons: Record<CardAccent, LucideIcon> = {\r\n  success: CheckCircle2,\r\n  warning: AlertTriangle,\r\n  critical: OctagonAlert,\r\n  info: Info\r\n};\r\n\r\nexport function Card({\r\n  title,\r\n  description,\r\n  accent,\r\n  accentLabel,\r\n  focusable = false,\r\n  children\r\n}: CardProps) {\r\n  const accentToken = accent ? getStatusToken(accent) : undefined;\r\n  const AccentIcon = accent ? accentIcons[accent] : undefined;\r\n  const accentText = accent ? accentLabel ?? accentToken?.label ?? '' : undefined;\r\n  const customProperties = accent\r\n    ? ({\r\n        '--card-accent-border': accentToken?.border,\r\n        '--card-accent-text': accentToken?.text,\r\n        '--card-accent-icon': accentToken?.icon,\r\n        '--card-accent-surface': accentToken?.surface\r\n      } as CSSProperties)\r\n    : undefined;\r\n  const showHeader = Boolean(accent || title || description);\r\n\r\n  return (\r\n    <article\r\n      className=\"card\"\r\n      data-accent={accent ?? 'none'}\r\n      tabIndex={focusable ? 0 : undefined}\r\n      style={customProperties}\r\n    >\r\n      {showHeader && (\r\n        <header className=\"card__header\">\r\n          {accent && AccentIcon && (\r\n            <div className=\"card__accent\" data-variant={accent}>\r\n              <AccentIcon aria-hidden=\"true\" className=\"card__accent-icon\" size={16} strokeWidth={2} />\r\n              <span className=\"card__accent-label\">{accentText}</span>\r\n            </div>\r\n          )}\r\n          {title && <h3>{title}</h3>}\r\n          {description && <p className=\"card-description\">{description}</p>}\r\n        </header>\r\n      )}\r\n      <div>{children}</div>\r\n      <style jsx>{`\r\n        .card {\r\n          --card-accent-border: var(--color-soft-aqua);\r\n          --card-accent-text: var(--color-neutral-2);\r\n          --card-accent-icon: var(--color-neutral-2);\r\n          --card-accent-surface: transparent;\r\n          position: relative;\r\n          background: var(--color-neutral-0);\r\n          border-radius: var(--radius-md);\r\n          padding: var(--space-5);\r\n          box-shadow: var(--shadow-card);\r\n          border: 1px solid var(--app-border-subtle);\r\n          display: grid;\r\n          gap: var(--space-5);\r\n          transition: outline 0.2s ease;\r\n        }\r\n        .card:focus-visible {\r\n          outline: 2px solid var(--card-accent-border);\r\n          outline-offset: 4px;\r\n        }\r\n        .card::before {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 0;\r\n          border-radius: calc(var(--radius-md) - 1px);\r\n          border: 1px solid transparent;\r\n          pointer-events: none;\r\n        }\r\n        .card[data-accent='success']::before,\r\n        .card[data-accent='warning']::before,\r\n        .card[data-accent='critical']::before,\r\n        .card[data-accent='info']::before {\r\n          border-top-color: var(--card-accent-border);\r\n        }\r\n        .card__header {\r\n          display: grid;\r\n          gap: var(--space-2);\r\n        }\r\n        .card__accent {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-2);\r\n          align-self: flex-start;\r\n          background: var(--card-accent-surface);\r\n          color: var(--card-accent-text);\r\n          padding: 2px var(--space-2);\r\n          border-radius: var(--radius-xs);\r\n          font-size: 0.75rem;\r\n          font-weight: 600;\r\n        }\r\n        .card__accent-icon {\r\n          color: var(--card-accent-icon);\r\n        }\r\n        .card__accent-label {\r\n          line-height: 1.2;\r\n        }\r\n        header h3 {\r\n          margin: 0;\r\n          font-size: 1.125rem;\r\n          color: var(--color-neutral-3);\r\n          letter-spacing: -0.01em;\r\n        }\r\n        .card-description {\r\n          margin: 0;\r\n          color: var(--color-neutral-2);\r\n          line-height: 1.5;\r\n        }\r\n        @media (max-width: 768px) {\r\n          .card {\r\n            padding: var(--space-4);\r\n          }\r\n        }\r\n      `}</style>\r\n    </article>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAGA;AAAA;AAAA;AAAA;AAEA;AALA;;;;;AAiBA,MAAM,cAA8C;IAClD,SAAS,kQAAY;IACrB,SAAS,sQAAa;IACtB,UAAU,mQAAY;IACtB,MAAM,uOAAI;AACZ;AAEO,SAAS,KAAK,EACnB,KAAK,EACL,WAAW,EACX,MAAM,EACN,WAAW,EACX,YAAY,KAAK,EACjB,QAAQ,EACE;IACV,MAAM,cAAc,SAAS,IAAA,0LAAc,EAAC,UAAU;IACtD,MAAM,aAAa,SAAS,WAAW,CAAC,OAAO,GAAG;IAClD,MAAM,aAAa,SAAS,eAAe,aAAa,SAAS,KAAK;IACtE,MAAM,mBAAmB,SACpB;QACC,wBAAwB,aAAa;QACrC,sBAAsB,aAAa;QACnC,sBAAsB,aAAa;QACnC,yBAAyB,aAAa;IACxC,IACA;IACJ,MAAM,aAAa,QAAQ,UAAU,SAAS;IAE9C,qBACE,2QAAC;QAEC,eAAa,UAAU;QACvB,UAAU,YAAY,IAAI;QAC1B,OAAO;kDAHG;;YAKT,4BACC,2QAAC;0DAAiB;;oBACf,UAAU,4BACT,2QAAC;wBAA6B,gBAAc;kEAA7B;;0CACb,2QAAC;gCAAW,eAAY;gCAAqC,MAAM;gCAAI,aAAa;0EAA3C;;;;;;0CACzC,2QAAC;0EAAe;0CAAsB;;;;;;;;;;;;oBAGzC,uBAAS,2QAAC;;kCAAI;;;;;;oBACd,6BAAe,2QAAC;kEAAY;kCAAoB;;;;;;;;;;;;0BAGrD,2QAAC;;0BAAK;;;;;;;;;;;;;;;;AA4EZ","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/SectionHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface SectionHeaderProps extends PropsWithChildren {\r\n  subtitle?: string;\r\n  actions?: React.ReactNode;\r\n}\r\n\r\nexport function SectionHeader({ children, subtitle, actions }: SectionHeaderProps) {\r\n  return (\r\n    <header className=\"section-header\">\r\n      <div>\r\n        <h2>{children}</h2>\r\n        {subtitle && <p>{subtitle}</p>}\r\n      </div>\r\n      {actions && <div className=\"section-actions\">{actions}</div>}\r\n      <style jsx>{`\r\n        .section-header {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: var(--space-3);\r\n          align-items: flex-end;\r\n          justify-content: space-between;\r\n        }\r\n        h2 {\r\n          margin: 0;\r\n          color: var(--color-neutral-3);\r\n          font-size: 1.5rem;\r\n          letter-spacing: -0.01em;\r\n        }\r\n        p {\r\n          margin: var(--space-2) 0 0;\r\n          color: var(--color-neutral-2);\r\n          line-height: 1.5;\r\n        }\r\n      `}</style>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AASO,SAAS,cAAc,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAsB;IAC/E,qBACE,2QAAC;kDAAiB;;0BAChB,2QAAC;;;kCACC,2QAAC;;kCAAI;;;;;;oBACJ,0BAAY,2QAAC;;kCAAG;;;;;;;;;;;;YAElB,yBAAW,2QAAC;0DAAc;0BAAmB;;;;;;;;;;;;;;;;AAuBpD","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/ui/StatusBadge.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { type CSSProperties, PropsWithChildren } from 'react';\r\nimport {\r\n  AlertTriangle,\r\n  CheckCircle2,\r\n  Dot,\r\n  Info,\r\n  OctagonAlert,\r\n  type LucideIcon\r\n} from 'lucide-react';\r\n\r\nimport { getStatusToken, type StatusVariant } from '@/src/theme/statusTokens';\r\n\r\nconst variantIcons: Record<StatusVariant, LucideIcon> = {\r\n  success: CheckCircle2,\r\n  warning: AlertTriangle,\r\n  critical: OctagonAlert,\r\n  info: Info,\r\n  neutral: Dot\r\n};\r\n\r\ninterface StatusBadgeProps extends PropsWithChildren {\r\n  variant?: StatusVariant;\r\n  tooltip?: string;\r\n  icon?: LucideIcon;\r\n  ariaLabel?: string;\r\n  focusable?: boolean;\r\n}\r\n\r\nexport function StatusBadge({\r\n  children,\r\n  variant = 'neutral',\r\n  tooltip,\r\n  icon,\r\n  ariaLabel,\r\n  focusable = false\r\n}: StatusBadgeProps) {\r\n  const token = getStatusToken(variant);\r\n  const IconComponent = icon ?? variantIcons[variant];\r\n  const customProperties = {\r\n    '--status-badge-surface': token.surface,\r\n    '--status-badge-text': token.text,\r\n    '--status-badge-border': token.border,\r\n    '--status-badge-icon': token.icon\r\n  } as CSSProperties;\r\n\r\n  return (\r\n    <span\r\n      className=\"status-badge\"\r\n      data-variant={variant}\r\n      title={tooltip ?? undefined}\r\n      role=\"status\"\r\n      aria-label={ariaLabel ?? undefined}\r\n      tabIndex={focusable ? 0 : undefined}\r\n      style={customProperties}\r\n    >\r\n      <IconComponent aria-hidden=\"true\" className=\"status-badge__icon\" size={14} strokeWidth={2} />\r\n      <span className=\"status-badge__text\">{children ?? token.label}</span>\r\n      <style jsx>{`\r\n        .status-badge {\r\n          --status-badge-surface: var(--status-neutral-surface);\r\n          --status-badge-text: var(--status-neutral-text);\r\n          --status-badge-border: var(--status-neutral-border);\r\n          --status-badge-icon: var(--status-neutral-icon);\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: flex-start;\r\n          gap: var(--space-2);\r\n          padding: 0 var(--space-3);\r\n          min-height: 28px;\r\n          border-radius: var(--radius-xs);\r\n          font-size: 0.8125rem;\r\n          font-weight: 600;\r\n          background: var(--status-badge-surface);\r\n          color: var(--status-badge-text);\r\n          border: 1px solid var(--status-badge-border);\r\n          transition: outline 0.2s ease;\r\n        }\r\n        .status-badge:focus-visible {\r\n          outline: 2px solid var(--status-badge-border);\r\n          outline-offset: 2px;\r\n        }\r\n        .status-badge__icon {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: var(--status-badge-icon);\r\n        }\r\n        .status-badge__text {\r\n          line-height: 1.2;\r\n        }\r\n      `}</style>\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AASA;AAZA;;;;;AAcA,MAAM,eAAkD;IACtD,SAAS,kQAAY;IACrB,SAAS,sQAAa;IACtB,UAAU,mQAAY;IACtB,MAAM,uOAAI;IACV,SAAS,oOAAG;AACd;AAUO,SAAS,YAAY,EAC1B,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,EACP,IAAI,EACJ,SAAS,EACT,YAAY,KAAK,EACA;IACjB,MAAM,QAAQ,IAAA,0LAAc,EAAC;IAC7B,MAAM,gBAAgB,QAAQ,YAAY,CAAC,QAAQ;IACnD,MAAM,mBAAmB;QACvB,0BAA0B,MAAM,OAAO;QACvC,uBAAuB,MAAM,IAAI;QACjC,yBAAyB,MAAM,MAAM;QACrC,uBAAuB,MAAM,IAAI;IACnC;IAEA,qBACE,2QAAC;QAEC,gBAAc;QACd,OAAO,WAAW;QAClB,MAAK;QACL,cAAY,aAAa;QACzB,UAAU,YAAY,IAAI;QAC1B,OAAO;kDANG;;0BAQV,2QAAC;gBAAc,eAAY;gBAAsC,MAAM;gBAAI,aAAa;0DAA5C;;;;;;0BAC5C,2QAAC;0DAAe;0BAAsB,YAAY,MAAM,KAAK;;;;;;;;;;;;;;;;AAqCnE","debugId":null}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/layout/ResponsiveGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface ResponsiveGridProps extends PropsWithChildren {\r\n  columns?: number;\r\n}\r\n\r\nexport function ResponsiveGrid({ children, columns = 3 }: ResponsiveGridProps) {\r\n  return (\r\n    <div className=\"responsive-grid\">\r\n      {children}\r\n      <style jsx>{`\r\n        .responsive-grid {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          grid-template-columns: repeat(${columns}, minmax(0, 1fr));\r\n        }\r\n        @media (max-width: 1200px) {\r\n          .responsive-grid {\r\n            grid-template-columns: repeat(2, minmax(0, 1fr));\r\n          }\r\n        }\r\n        @media (max-width: 768px) {\r\n          .responsive-grid {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAQO,SAAS,eAAe,EAAE,QAAQ,EAAE,UAAU,CAAC,EAAuB;IAC3E,qBACE,2QAAC;;;;;oBAMqC;;;mBANvB;;YACZ;;;;oBAKmC;;2HAAA;;;;;;;;AAe1C","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/slas/SlaOverview.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useMemo, useRef } from 'react';\r\n\r\nimport { ResponsiveGrid } from '@/components/layout/ResponsiveGrid';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { StatusBadge } from '@/components/ui/StatusBadge';\r\nimport type { PartnerSla, PartnerSlaStatus } from '@/services/api/partners';\r\n\r\ninterface SlaOverviewProps {\r\n  slas: PartnerSla[];\r\n  context?: 'home' | 'housekeeping';\r\n}\r\n\r\nconst STATUS_VARIANT: Record<PartnerSlaStatus, 'success' | 'warning' | 'critical'> = {\r\n  on_track: 'success',\r\n  at_risk: 'warning',\r\n  breached: 'critical'\r\n};\r\n\r\nconst STATUS_LABEL: Record<PartnerSlaStatus, string> = {\r\n  on_track: 'No prazo',\r\n  at_risk: 'Em risco',\r\n  breached: 'Violado'\r\n};\r\n\r\nconst STATUS_MESSAGES: Record<PartnerSlaStatus, string> = {\r\n  on_track: 'Dentro dos parâmetros acordados.',\r\n  at_risk: 'Acima da meta. Monitorizar e alinhar com o parceiro.',\r\n  breached: 'Violação registada. Acionar plano de contingência.'\r\n};\r\n\r\nconst DATE_TIME_FORMATTER = new Intl.DateTimeFormat('pt-PT', {\r\n  dateStyle: 'short',\r\n  timeStyle: 'short'\r\n});\r\n\r\ntype MutableAudioContext = AudioContext;\r\n\r\nfunction resolveAudioContext(): typeof AudioContext | null {\r\n  if (typeof window === 'undefined') {\r\n    return null;\r\n  }\r\n\r\n  const typedWindow = window as typeof window & {\r\n    webkitAudioContext?: typeof AudioContext;\r\n  };\r\n\r\n  return typedWindow.AudioContext ?? typedWindow.webkitAudioContext ?? null;\r\n}\r\n\r\nexport function SlaOverview({ slas, context = 'home' }: SlaOverviewProps) {\r\n  const audioContextRef = useRef<MutableAudioContext | null>(null);\r\n  const breachedIdsRef = useRef<Set<number>>(new Set());\r\n\r\n  useEffect(() => {\r\n    const breachedIds = new Set(slas.filter((sla) => sla.status === 'breached').map((sla) => sla.id));\r\n\r\n    const hasNewBreach = [...breachedIds].some((id) => !breachedIdsRef.current.has(id));\r\n    breachedIdsRef.current = breachedIds;\r\n\r\n    if (!hasNewBreach || breachedIds.size === 0) {\r\n      return;\r\n    }\r\n\r\n    const AudioCtor = resolveAudioContext();\r\n    if (!AudioCtor) {\r\n      return;\r\n    }\r\n\r\n    if (!audioContextRef.current) {\r\n      try {\r\n        audioContextRef.current = new AudioCtor();\r\n      } catch (error) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const contextInstance = audioContextRef.current;\r\n    if (!contextInstance) {\r\n      return;\r\n    }\r\n\r\n    if (contextInstance.state === 'suspended') {\r\n      void contextInstance.resume().catch(() => undefined);\r\n    }\r\n\r\n    const oscillator = contextInstance.createOscillator();\r\n    const gain = contextInstance.createGain();\r\n    oscillator.type = 'triangle';\r\n    oscillator.frequency.value = 880;\r\n    gain.gain.value = 0.08;\r\n    oscillator.connect(gain);\r\n    gain.connect(contextInstance.destination);\r\n    oscillator.start();\r\n    oscillator.stop(contextInstance.currentTime + 0.35);\r\n  }, [slas]);\r\n\r\n  const alertMessage = useMemo(() => {\r\n    const breached = slas.filter((sla) => sla.status === 'breached');\r\n    if (!breached.length) {\r\n      return null;\r\n    }\r\n\r\n    const partners = breached.map((item) => item.partner.name).join(', ');\r\n    if (context === 'housekeeping') {\r\n      return `Atenção: ${partners} com violações de SLA a impactar housekeeping.`;\r\n    }\r\n    return `Alertas ativos para ${partners}.`; // default for home\r\n  }, [context, slas]);\r\n\r\n  if (slas.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const columns = Math.min(3, Math.max(1, slas.length));\r\n\r\n  return (\r\n    <div className=\"sla-overview\" aria-live=\"polite\">\r\n      {alertMessage && (\r\n        <div className=\"sla-overview__alert\" role=\"alert\">\r\n          <StatusBadge variant=\"critical\">Violação de SLA</StatusBadge>\r\n          <span>{alertMessage}</span>\r\n        </div>\r\n      )}\r\n      <ResponsiveGrid columns={columns}>\r\n        {slas.map((sla) => {\r\n          const lastViolation = sla.lastViolationAt\r\n            ? DATE_TIME_FORMATTER.format(new Date(sla.lastViolationAt))\r\n            : 'Sem registo';\r\n\r\n          return (\r\n            <Card\r\n              key={`${sla.partner.slug}-${sla.metric}`}\r\n              title={`${sla.partner.name} · ${sla.metricLabel}`}\r\n              description={`Meta ${sla.targetMinutes} min · Revisado ${DATE_TIME_FORMATTER.format(new Date(sla.updatedAt))}`}\r\n              accent={STATUS_VARIANT[sla.status]}\r\n            >\r\n              <div className=\"sla-overview__status\">\r\n                <StatusBadge variant={STATUS_VARIANT[sla.status]}>{STATUS_LABEL[sla.status]}</StatusBadge>\r\n                <span>{STATUS_MESSAGES[sla.status]}</span>\r\n              </div>\r\n              <dl className=\"sla-overview__metrics\">\r\n                <div>\r\n                  <dt>Atual</dt>\r\n                  <dd>{formatMinutes(sla.currentMinutes)}</dd>\r\n                </div>\r\n                <div>\r\n                  <dt>Limite alerta</dt>\r\n                  <dd>{formatMinutes(sla.warningMinutes)}</dd>\r\n                </div>\r\n                <div>\r\n                  <dt>Violação</dt>\r\n                  <dd>{formatMinutes(sla.breachMinutes)}</dd>\r\n                </div>\r\n                <div>\r\n                  <dt>Última violação</dt>\r\n                  <dd>{lastViolation}</dd>\r\n                </div>\r\n              </dl>\r\n            </Card>\r\n          );\r\n        })}\r\n      </ResponsiveGrid>\r\n      <style jsx>{`\r\n        .sla-overview {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n        }\r\n        .sla-overview__alert {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-3);\r\n          padding: var(--space-3) var(--space-4);\r\n          border-radius: var(--radius-sm);\r\n          background: rgba(239, 99, 81, 0.12);\r\n          color: var(--color-coral);\r\n          font-weight: 600;\r\n        }\r\n        .sla-overview__status {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: var(--space-2);\r\n          color: var(--color-neutral-2);\r\n          font-weight: 500;\r\n        }\r\n        .sla-overview__metrics {\r\n          margin: 0;\r\n          display: grid;\r\n          gap: var(--space-3);\r\n          grid-template-columns: repeat(2, minmax(0, 1fr));\r\n        }\r\n        .sla-overview__metrics div {\r\n          display: grid;\r\n          gap: var(--space-1);\r\n        }\r\n        .sla-overview__metrics dt {\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.05em;\r\n          color: var(--color-neutral-2);\r\n          margin: 0;\r\n        }\r\n        .sla-overview__metrics dd {\r\n          margin: 0;\r\n          font-size: 1rem;\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatMinutes(value: number | null | undefined): string {\r\n  if (value === null || value === undefined) {\r\n    return 'Sem dados';\r\n  }\r\n  return `${value} min`;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;;AAcA,MAAM,iBAA+E;IACnF,UAAU;IACV,SAAS;IACT,UAAU;AACZ;AAEA,MAAM,eAAiD;IACrD,UAAU;IACV,SAAS;IACT,UAAU;AACZ;AAEA,MAAM,kBAAoD;IACxD,UAAU;IACV,SAAS;IACT,UAAU;AACZ;AAEA,MAAM,sBAAsB,IAAI,KAAK,cAAc,CAAC,SAAS;IAC3D,WAAW;IACX,WAAW;AACb;AAIA,SAAS;IACP,wCAAmC;QACjC,OAAO;IACT;;;IAEA,MAAM;AAKR;AAEO,SAAS,YAAY,EAAE,IAAI,EAAE,UAAU,MAAM,EAAoB;IACtE,MAAM,kBAAkB,IAAA,4OAAM,EAA6B;IAC3D,MAAM,iBAAiB,IAAA,4OAAM,EAAc,IAAI;IAE/C,IAAA,+OAAS,EAAC;QACR,MAAM,cAAc,IAAI,IAAI,KAAK,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK,YAAY,GAAG,CAAC,CAAC,MAAQ,IAAI,EAAE;QAE/F,MAAM,eAAe;eAAI;SAAY,CAAC,IAAI,CAAC,CAAC,KAAO,CAAC,eAAe,OAAO,CAAC,GAAG,CAAC;QAC/E,eAAe,OAAO,GAAG;QAEzB,IAAI,CAAC,gBAAgB,YAAY,IAAI,KAAK,GAAG;YAC3C;QACF;QAEA,MAAM,YAAY;QAClB,IAAI,CAAC,WAAW;YACd;QACF;QAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;YAC5B,IAAI;gBACF,gBAAgB,OAAO,GAAG,IAAI;YAChC,EAAE,OAAO,OAAO;gBACd;YACF;QACF;QAEA,MAAM,kBAAkB,gBAAgB,OAAO;QAC/C,IAAI,CAAC,iBAAiB;YACpB;QACF;QAEA,IAAI,gBAAgB,KAAK,KAAK,aAAa;YACzC,KAAK,gBAAgB,MAAM,GAAG,KAAK,CAAC,IAAM;QAC5C;QAEA,MAAM,aAAa,gBAAgB,gBAAgB;QACnD,MAAM,OAAO,gBAAgB,UAAU;QACvC,WAAW,IAAI,GAAG;QAClB,WAAW,SAAS,CAAC,KAAK,GAAG;QAC7B,KAAK,IAAI,CAAC,KAAK,GAAG;QAClB,WAAW,OAAO,CAAC;QACnB,KAAK,OAAO,CAAC,gBAAgB,WAAW;QACxC,WAAW,KAAK;QAChB,WAAW,IAAI,CAAC,gBAAgB,WAAW,GAAG;IAChD,GAAG;QAAC;KAAK;IAET,MAAM,eAAe,IAAA,6OAAO,EAAC;QAC3B,MAAM,WAAW,KAAK,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK;QACrD,IAAI,CAAC,SAAS,MAAM,EAAE;YACpB,OAAO;QACT;QAEA,MAAM,WAAW,SAAS,GAAG,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;QAChE,IAAI,YAAY,gBAAgB;YAC9B,OAAO,CAAC,SAAS,EAAE,SAAS,8CAA8C,CAAC;QAC7E;QACA,OAAO,CAAC,oBAAoB,EAAE,SAAS,CAAC,CAAC,EAAE,mBAAmB;IAChE,GAAG;QAAC;QAAS;KAAK;IAElB,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,OAAO;IACT;IAEA,MAAM,UAAU,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,MAAM;IAEnD,qBACE,2QAAC;QAA6B,aAAU;kDAAzB;;YACZ,8BACC,2QAAC;gBAAoC,MAAK;0DAA3B;;kCACb,2QAAC,2LAAW;wBAAC,SAAQ;kCAAW;;;;;;kCAChC,2QAAC;;kCAAM;;;;;;;;;;;;0BAGX,2QAAC,qMAAc;gBAAC,SAAS;0BACtB,KAAK,GAAG,CAAC,CAAC;oBACT,MAAM,gBAAgB,IAAI,eAAe,GACrC,oBAAoB,MAAM,CAAC,IAAI,KAAK,IAAI,eAAe,KACvD;oBAEJ,qBACE,2QAAC,6KAAI;wBAEH,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,WAAW,EAAE;wBACjD,aAAa,CAAC,KAAK,EAAE,IAAI,aAAa,CAAC,gBAAgB,EAAE,oBAAoB,MAAM,CAAC,IAAI,KAAK,IAAI,SAAS,IAAI;wBAC9G,QAAQ,cAAc,CAAC,IAAI,MAAM,CAAC;;0CAElC,2QAAC;0EAAc;;kDACb,2QAAC,2LAAW;wCAAC,SAAS,cAAc,CAAC,IAAI,MAAM,CAAC;kDAAG,YAAY,CAAC,IAAI,MAAM,CAAC;;;;;;kDAC3E,2QAAC;;kDAAM,eAAe,CAAC,IAAI,MAAM,CAAC;;;;;;;;;;;;0CAEpC,2QAAC;0EAAa;;kDACZ,2QAAC;;;0DACC,2QAAC;;0DAAG;;;;;;0DACJ,2QAAC;;0DAAI,cAAc,IAAI,cAAc;;;;;;;;;;;;kDAEvC,2QAAC;;;0DACC,2QAAC;;0DAAG;;;;;;0DACJ,2QAAC;;0DAAI,cAAc,IAAI,cAAc;;;;;;;;;;;;kDAEvC,2QAAC;;;0DACC,2QAAC;;0DAAG;;;;;;0DACJ,2QAAC;;0DAAI,cAAc,IAAI,aAAa;;;;;;;;;;;;kDAEtC,2QAAC;;;0DACC,2QAAC;;0DAAG;;;;;;0DACJ,2QAAC;;0DAAI;;;;;;;;;;;;;;;;;;;uBAxBJ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,MAAM,EAAE;;;;;gBA6B9C;;;;;;;;;;;;;;;;AAkDR;AAEA,SAAS,cAAc,KAAgC;IACrD,IAAI,UAAU,QAAQ,UAAU,WAAW;QACzC,OAAO;IACT;IACA,OAAO,GAAG,MAAM,IAAI,CAAC;AACvB","debugId":null}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/components/tour/TourLauncher.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nimport { tourMatchesPath, useGuidedTour } from './TourContext';\r\n\r\nexport function TourLauncher() {\r\n  const { tours, startTour, hasCompleted } = useGuidedTour();\r\n  const pathname = usePathname() ?? '';\r\n  const [selectedTourId, setSelectedTourId] = useState<string>('');\r\n\r\n  const availableTours = useMemo(() => {\r\n    return tours.filter((tour) => tourMatchesPath(tour.route, pathname));\r\n  }, [pathname, tours]);\r\n\r\n  useEffect(() => {\r\n    if (availableTours.length === 0) {\r\n      setSelectedTourId('');\r\n      return;\r\n    }\r\n    if (!selectedTourId || !availableTours.some((tour) => tour.id === selectedTourId)) {\r\n      setSelectedTourId(availableTours[0]?.id ?? '');\r\n    }\r\n  }, [availableTours, selectedTourId]);\r\n\r\n  if (availableTours.length === 0 || !selectedTourId) {\r\n    return null;\r\n  }\r\n\r\n  const activeTour = availableTours.find((tour) => tour.id === selectedTourId) ?? availableTours[0];\r\n  const completed = hasCompleted(activeTour.id);\r\n  const statusMessage = completed ? 'Concluído — pode rever os passos principais' : 'Duração média ~3 minutos';\r\n\r\n  return (\r\n    <div className=\"tour-launcher\" data-completed={completed ? 'true' : 'false'}>\r\n      <div className=\"tour-launcher__body\">\r\n        <div>\r\n          <p className=\"tour-launcher__eyebrow\">Tour guiado</p>\r\n          <strong>{activeTour.title}</strong>\r\n          {activeTour.description && (\r\n            <span className=\"tour-launcher__description\">{activeTour.description}</span>\r\n          )}\r\n          <span className=\"tour-launcher__status\" data-completed={completed ? 'true' : 'false'}>\r\n            {statusMessage}\r\n          </span>\r\n        </div>\r\n        <div className=\"tour-launcher__actions\">\r\n          {availableTours.length > 1 && (\r\n            <label className=\"tour-launcher__select\">\r\n              <span className=\"sr-only\">Selecionar tour disponível</span>\r\n              <select\r\n                value={activeTour.id}\r\n                onChange={(event) => setSelectedTourId(event.target.value)}\r\n                aria-label=\"Selecionar tour da página\"\r\n              >\r\n                {availableTours.map((tour) => (\r\n                  <option key={tour.id} value={tour.id}>\r\n                    {tour.title}\r\n                    {hasCompleted(tour.id) ? ' · concluído' : ''}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n          )}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => startTour(activeTour.id)}\r\n            className=\"tour-launcher__cta\"\r\n            aria-label={completed ? 'Rever tour guiado da página' : 'Iniciar tour guiado da página'}\r\n          >\r\n            {completed ? 'Rever tour' : 'Iniciar tour'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <style jsx>{`\r\n        .tour-launcher {\r\n          position: relative;\r\n          display: grid;\r\n          padding: var(--space-4) var(--space-5);\r\n          border-radius: var(--radius-md);\r\n          background: var(--color-neutral-0);\r\n          border: 1px solid rgba(148, 163, 184, 0.28);\r\n          box-shadow: var(--shadow-card);\r\n          max-width: 420px;\r\n        }\r\n        .tour-launcher::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: var(--space-4);\r\n          bottom: var(--space-4);\r\n          left: 0;\r\n          width: 4px;\r\n          border-radius: var(--radius-xs);\r\n          background: var(--color-deep-blue);\r\n        }\r\n        .tour-launcher[data-completed='true']::before {\r\n          background: var(--color-soft-aqua);\r\n        }\r\n        .tour-launcher__body {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          gap: var(--space-4);\r\n          flex-wrap: wrap;\r\n        }\r\n        .tour-launcher__eyebrow {\r\n          margin: 0;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.08em;\r\n          font-size: 0.75rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        strong {\r\n          display: block;\r\n          font-size: 1.1rem;\r\n          color: var(--color-neutral-3);\r\n        }\r\n        .tour-launcher__description {\r\n          display: block;\r\n          font-size: 0.9rem;\r\n          color: var(--color-neutral-2);\r\n          margin-top: 0.35rem;\r\n        }\r\n        .tour-launcher__status {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-1);\r\n          margin-top: var(--space-2);\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.06em;\r\n          font-weight: 600;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .tour-launcher__status[data-completed='true'] {\r\n          color: var(--color-soft-aqua);\r\n        }\r\n        .tour-launcher__actions {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-3);\r\n        }\r\n        .tour-launcher__select {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          background: rgba(37, 99, 235, 0.1);\r\n          border-radius: var(--radius-sm);\r\n          padding: 0 var(--space-2);\r\n        }\r\n        .tour-launcher__select select {\r\n          border: none;\r\n          background: transparent;\r\n          color: var(--color-deep-blue);\r\n          font-weight: 600;\r\n          padding: var(--space-1) var(--space-2);\r\n          cursor: pointer;\r\n        }\r\n        .tour-launcher__select select:focus-visible {\r\n          outline: 2px solid var(--color-soft-aqua);\r\n          outline-offset: 2px;\r\n        }\r\n        .tour-launcher__cta {\r\n          border-radius: var(--radius-sm);\r\n          border: 1px solid transparent;\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n          padding: var(--space-2) var(--space-4);\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: background 0.2s ease, border 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;\r\n          box-shadow: 0 12px 25px rgba(37, 99, 235, 0.2);\r\n        }\r\n        .tour-launcher__cta:hover,\r\n        .tour-launcher__cta:focus-visible {\r\n          background: #1d4ed8;\r\n        }\r\n        .tour-launcher[data-completed='true'] .tour-launcher__cta {\r\n          background: rgba(14, 165, 233, 0.16);\r\n          color: var(--color-deep-blue);\r\n          border-color: rgba(14, 165, 233, 0.32);\r\n          box-shadow: none;\r\n        }\r\n        .tour-launcher[data-completed='true'] .tour-launcher__cta:hover,\r\n        .tour-launcher[data-completed='true'] .tour-launcher__cta:focus-visible {\r\n          background: rgba(14, 165, 233, 0.26);\r\n        }\r\n        @media (max-width: 768px) {\r\n          .tour-launcher {\r\n            max-width: 100%;\r\n          }\r\n          .tour-launcher__body {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n          }\r\n          .tour-launcher__actions {\r\n            justify-content: space-between;\r\n          }\r\n          .tour-launcher__cta {\r\n            width: 100%;\r\n            text-align: center;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,IAAA,+LAAa;IACxD,MAAM,WAAW,IAAA,8KAAW,OAAM;IAClC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,8OAAQ,EAAS;IAE7D,MAAM,iBAAiB,IAAA,6OAAO,EAAC;QAC7B,OAAO,MAAM,MAAM,CAAC,CAAC,OAAS,IAAA,iMAAe,EAAC,KAAK,KAAK,EAAE;IAC5D,GAAG;QAAC;QAAU;KAAM;IAEpB,IAAA,+OAAS,EAAC;QACR,IAAI,eAAe,MAAM,KAAK,GAAG;YAC/B,kBAAkB;YAClB;QACF;QACA,IAAI,CAAC,kBAAkB,CAAC,eAAe,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,iBAAiB;YACjF,kBAAkB,cAAc,CAAC,EAAE,EAAE,MAAM;QAC7C;IACF,GAAG;QAAC;QAAgB;KAAe;IAEnC,IAAI,eAAe,MAAM,KAAK,KAAK,CAAC,gBAAgB;QAClD,OAAO;IACT;IAEA,MAAM,aAAa,eAAe,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,mBAAmB,cAAc,CAAC,EAAE;IACjG,MAAM,YAAY,aAAa,WAAW,EAAE;IAC5C,MAAM,gBAAgB,YAAY,gDAAgD;IAElF,qBACE,2QAAC;QAA8B,kBAAgB,YAAY,SAAS;kDAArD;;0BACb,2QAAC;0DAAc;;kCACb,2QAAC;;;0CACC,2QAAC;0EAAY;0CAAyB;;;;;;0CACtC,2QAAC;;0CAAQ,WAAW,KAAK;;;;;;4BACxB,WAAW,WAAW,kBACrB,2QAAC;0EAAe;0CAA8B,WAAW,WAAW;;;;;;0CAEtE,2QAAC;gCAAuC,kBAAgB,YAAY,SAAS;0EAA7D;0CACb;;;;;;;;;;;;kCAGL,2QAAC;kEAAc;;4BACZ,eAAe,MAAM,GAAG,mBACvB,2QAAC;0EAAgB;;kDACf,2QAAC;kFAAe;kDAAU;;;;;;kDAC1B,2QAAC;wCACC,OAAO,WAAW,EAAE;wCACpB,UAAU,CAAC,QAAU,kBAAkB,MAAM,MAAM,CAAC,KAAK;wCACzD,cAAW;;kDAEV,eAAe,GAAG,CAAC,CAAC,qBACnB,2QAAC;gDAAqB,OAAO,KAAK,EAAE;;;oDACjC,KAAK,KAAK;oDACV,aAAa,KAAK,EAAE,IAAI,iBAAiB;;+CAF/B,KAAK,EAAE;;;;;;;;;;;;;;;;0CAQ5B,2QAAC;gCACC,MAAK;gCACL,SAAS,IAAM,UAAU,WAAW,EAAE;gCAEtC,cAAY,YAAY,gCAAgC;0EAD9C;0CAGT,YAAY,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIxC","debugId":null}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/__mocks__/partners.ts"],"sourcesContent":["import type { PartnerSla } from '../partners';\r\n\r\nexport const partnerSlasFixture: PartnerSla[] = [\r\n  {\r\n    id: 1,\r\n    metric: 'pickup_time',\r\n    metricLabel: 'Recolha de lavandaria',\r\n    targetMinutes: 120,\r\n    warningMinutes: 150,\r\n    breachMinutes: 180,\r\n    currentMinutes: 164,\r\n    status: 'at_risk',\r\n    lastViolationAt: new Date(Date.now() - 1000 * 60 * 240).toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n    partner: {\r\n      id: 31,\r\n      name: 'Lavandaria Atlântica',\r\n      slug: 'lavandaria-atlantica',\r\n      category: 'logistica'\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    metric: 'maintenance_response',\r\n    metricLabel: 'Resposta de manutenção',\r\n    targetMinutes: 90,\r\n    warningMinutes: 110,\r\n    breachMinutes: 140,\r\n    currentMinutes: 86,\r\n    status: 'on_track',\r\n    lastViolationAt: null,\r\n    updatedAt: new Date().toISOString(),\r\n    partner: {\r\n      id: 17,\r\n      name: 'Manutenção Express',\r\n      slug: 'manutencao-express',\r\n      category: 'servicos'\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    metric: 'inventory_restock',\r\n    metricLabel: 'Reposição de amenities',\r\n    targetMinutes: 60,\r\n    warningMinutes: 75,\r\n    breachMinutes: 90,\r\n    currentMinutes: 104,\r\n    status: 'breached',\r\n    lastViolationAt: new Date(Date.now() - 1000 * 60 * 35).toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n    partner: {\r\n      id: 48,\r\n      name: 'SupplyOne',\r\n      slug: 'supplyone',\r\n      category: 'fornecedor'\r\n    }\r\n  }\r\n];\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,qBAAmC;IAC9C;QACE,IAAI;QACJ,QAAQ;QACR,aAAa;QACb,eAAe;QACf,gBAAgB;QAChB,eAAe;QACf,gBAAgB;QAChB,QAAQ;QACR,iBAAiB,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,KAAK,WAAW;QACnE,WAAW,IAAI,OAAO,WAAW;QACjC,SAAS;YACP,IAAI;YACJ,MAAM;YACN,MAAM;YACN,UAAU;QACZ;IACF;IACA;QACE,IAAI;QACJ,QAAQ;QACR,aAAa;QACb,eAAe;QACf,gBAAgB;QAChB,eAAe;QACf,gBAAgB;QAChB,QAAQ;QACR,iBAAiB;QACjB,WAAW,IAAI,OAAO,WAAW;QACjC,SAAS;YACP,IAAI;YACJ,MAAM;YACN,MAAM;YACN,UAAU;QACZ;IACF;IACA;QACE,IAAI;QACJ,QAAQ;QACR,aAAa;QACb,eAAe;QACf,gBAAgB;QAChB,eAAe;QACf,gBAAgB;QAChB,QAAQ;QACR,iBAAiB,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,IAAI,WAAW;QAClE,WAAW,IAAI,OAAO,WAAW;QACjC,SAAS;YACP,IAAI;YACJ,MAAM;YACN,MAAM;YACN,UAAU;QACZ;IACF;CACD","debugId":null}},
    {"offset": {"line": 899, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/partners.ts"],"sourcesContent":["import { CoreApiError } from './housekeeping';\r\nimport { partnerSlasFixture } from './__mocks__/partners';\r\n\r\nconst CORE_API_BASE_URL_ENV = process.env.NEXT_PUBLIC_CORE_API_BASE_URL;\r\nconst CORE_API_CONFIGURED = Boolean(CORE_API_BASE_URL_ENV?.trim());\r\nconst CORE_API_BASE_URL =\r\n  CORE_API_BASE_URL_ENV && CORE_API_BASE_URL_ENV.trim().length > 0\r\n    ? CORE_API_BASE_URL_ENV\r\n    : 'http://localhost:8000';\r\n\r\nexport type PartnerSlaStatus = 'on_track' | 'at_risk' | 'breached';\r\n\r\nexport interface PartnerSummary {\r\n  id: number;\r\n  name: string;\r\n  slug: string;\r\n  category: string | null;\r\n}\r\n\r\nexport interface PartnerSla {\r\n  id: number;\r\n  metric: string;\r\n  metricLabel: string;\r\n  targetMinutes: number;\r\n  warningMinutes: number | null;\r\n  breachMinutes: number;\r\n  currentMinutes: number | null;\r\n  status: PartnerSlaStatus;\r\n  lastViolationAt: string | null;\r\n  updatedAt: string;\r\n  partner: PartnerSummary;\r\n}\r\n\r\ninterface PartnerSummaryDto {\r\n  id: number;\r\n  name: string;\r\n  slug: string;\r\n  category: string | null;\r\n}\r\n\r\ninterface PartnerSlaDto {\r\n  id: number;\r\n  metric: string;\r\n  metric_label: string;\r\n  target_minutes: number;\r\n  warning_minutes: number | null;\r\n  breach_minutes: number;\r\n  current_minutes: number | null;\r\n  status: PartnerSlaStatus;\r\n  last_violation_at: string | null;\r\n  updated_at: string;\r\n  partner: PartnerSummaryDto;\r\n}\r\n\r\ninterface GetPartnerSlasOptions {\r\n  signal?: AbortSignal;\r\n}\r\n\r\nexport type PartnerSlasResponse =\r\n  | { status: 'live'; data: PartnerSla[] }\r\n  | { status: 'degraded'; data: PartnerSla[]; message: string };\r\n\r\nfunction mapPartnerSummary(dto: PartnerSummaryDto): PartnerSummary {\r\n  return {\r\n    id: dto.id,\r\n    name: dto.name,\r\n    slug: dto.slug,\r\n    category: dto.category\r\n  };\r\n}\r\n\r\nfunction mapPartnerSla(dto: PartnerSlaDto): PartnerSla {\r\n  return {\r\n    id: dto.id,\r\n    metric: dto.metric,\r\n    metricLabel: dto.metric_label,\r\n    targetMinutes: dto.target_minutes,\r\n    warningMinutes: dto.warning_minutes,\r\n    breachMinutes: dto.breach_minutes,\r\n    currentMinutes: dto.current_minutes,\r\n    status: dto.status,\r\n    lastViolationAt: dto.last_violation_at,\r\n    updatedAt: dto.updated_at,\r\n    partner: mapPartnerSummary(dto.partner)\r\n  };\r\n}\r\n\r\nexport async function getPartnerSlas(\r\n  options: GetPartnerSlasOptions = {}\r\n): Promise<PartnerSlasResponse> {\r\n  if (!CORE_API_CONFIGURED) {\r\n    return {\r\n      status: 'degraded',\r\n      data: partnerSlasFixture,\r\n      message:\r\n        'Sem URL configurada para o Core API. A mostrar SLAs de referência até restabelecer a ligação.'\r\n    };\r\n  }\r\n\r\n  const url = new URL('/partners/slas', CORE_API_BASE_URL);\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json'\r\n      },\r\n      signal: options.signal,\r\n      cache: 'no-store'\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const body = await safeReadJson(response);\r\n      throw new CoreApiError('Failed to load partner SLAs', response.status, body);\r\n    }\r\n\r\n    const payload = (await response.json()) as PartnerSlaDto[];\r\n    return { status: 'live', data: payload.map(mapPartnerSla) };\r\n  } catch (error) {\r\n    if (error instanceof CoreApiError) {\r\n      throw error;\r\n    }\r\n\r\n    return {\r\n      status: 'degraded',\r\n      data: partnerSlasFixture,\r\n      message:\r\n        'Não foi possível contactar o Core API. A mostrar SLAs de exemplo até à reconexão.'\r\n    };\r\n  }\r\n}\r\n\r\nasync function safeReadJson(response: Response): Promise<unknown> {\r\n  try {\r\n    return await response.json();\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEA,MAAM;AACN,MAAM,sBAAsB,QAAQ,uBAAuB;AAC3D,MAAM,oBACJ,yBAAyB,sBAAsB,IAAI,GAAG,MAAM,GAAG,IAC3D,wBACA;AAsDN,SAAS,kBAAkB,GAAsB;IAC/C,OAAO;QACL,IAAI,IAAI,EAAE;QACV,MAAM,IAAI,IAAI;QACd,MAAM,IAAI,IAAI;QACd,UAAU,IAAI,QAAQ;IACxB;AACF;AAEA,SAAS,cAAc,GAAkB;IACvC,OAAO;QACL,IAAI,IAAI,EAAE;QACV,QAAQ,IAAI,MAAM;QAClB,aAAa,IAAI,YAAY;QAC7B,eAAe,IAAI,cAAc;QACjC,gBAAgB,IAAI,eAAe;QACnC,eAAe,IAAI,cAAc;QACjC,gBAAgB,IAAI,eAAe;QACnC,QAAQ,IAAI,MAAM;QAClB,iBAAiB,IAAI,iBAAiB;QACtC,WAAW,IAAI,UAAU;QACzB,SAAS,kBAAkB,IAAI,OAAO;IACxC;AACF;AAEO,eAAe,eACpB,UAAiC,CAAC,CAAC;IAEnC,IAAI,CAAC,qBAAqB;QACxB,OAAO;YACL,QAAQ;YACR,MAAM,8MAAkB;YACxB,SACE;QACJ;IACF;IAEA,MAAM,MAAM,IAAI,IAAI,kBAAkB;IACtC,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,QAAQ;YACR,SAAS;gBACP,QAAQ;YACV;YACA,QAAQ,QAAQ,MAAM;YACtB,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,OAAO,MAAM,aAAa;YAChC,MAAM,IAAI,sLAAY,CAAC,+BAA+B,SAAS,MAAM,EAAE;QACzE;QAEA,MAAM,UAAW,MAAM,SAAS,IAAI;QACpC,OAAO;YAAE,QAAQ;YAAQ,MAAM,QAAQ,GAAG,CAAC;QAAe;IAC5D,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,sLAAY,EAAE;YACjC,MAAM;QACR;QAEA,OAAO;YACL,QAAQ;YACR,MAAM,8MAAkB;YACxB,SACE;QACJ;IACF;AACF;AAEA,eAAe,aAAa,QAAkB;IAC5C,IAAI;QACF,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 983, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/__mocks__/dashboard.ts"],"sourcesContent":["import type { DashboardMetrics } from '../dashboard';\r\n\r\nexport const dashboardMetricsFixture: DashboardMetrics = {\r\n  occupancy: {\r\n    date: new Date().toISOString().slice(0, 10),\r\n    occupiedUnits: 128,\r\n    totalUnits: 160,\r\n    occupancyRate: 0.8\r\n  },\r\n  nps: {\r\n    score: 62,\r\n    totalResponses: 184,\r\n    trend7d: 4.2\r\n  },\r\n  sla: {\r\n    total: 48,\r\n    onTrack: 33,\r\n    atRisk: 9,\r\n    breached: 6,\r\n    worstOffenders: ['Lavandaria Atlântica', 'Manutenção Express']\r\n  },\r\n  operational: {\r\n    criticalAlerts: {\r\n      total: 7,\r\n      blocked: 2,\r\n      overdue: 3,\r\n      examples: [\r\n        {\r\n          taskId: 9034,\r\n          propertyId: 18,\r\n          status: 'blocked',\r\n          scheduledDate: new Date(Date.now() - 1000 * 60 * 45).toISOString()\r\n        },\r\n        {\r\n          taskId: 9012,\r\n          propertyId: 24,\r\n          status: 'pending',\r\n          scheduledDate: new Date(Date.now() - 1000 * 60 * 90).toISOString()\r\n        },\r\n        {\r\n          taskId: 8999,\r\n          propertyId: 7,\r\n          status: 'in_progress',\r\n          scheduledDate: new Date(Date.now() - 1000 * 60 * 120).toISOString()\r\n        }\r\n      ]\r\n    },\r\n    playbookAdoption: {\r\n      periodStart: new Date(Date.now() - 1000 * 60 * 60 * 24 * 6).toISOString(),\r\n      periodEnd: new Date().toISOString(),\r\n      totalExecutions: 92,\r\n      completed: 81,\r\n      adoptionRate: 0.64,\r\n      activeProperties: 28\r\n    },\r\n    housekeepingCompletionRate: {\r\n      name: 'Execução de Housekeeping',\r\n      value: 87,\r\n      unit: '%',\r\n      status: 'Última atualização sincronizada via rede móvel'\r\n    },\r\n    otaSyncBacklog: {\r\n      name: 'Pendências OTA',\r\n      value: 14,\r\n      unit: 'reservas',\r\n      status: 'Integração expediu lote às 06h32'\r\n    }\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,0BAA4C;IACvD,WAAW;QACT,MAAM,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG;QACxC,eAAe;QACf,YAAY;QACZ,eAAe;IACjB;IACA,KAAK;QACH,OAAO;QACP,gBAAgB;QAChB,SAAS;IACX;IACA,KAAK;QACH,OAAO;QACP,SAAS;QACT,QAAQ;QACR,UAAU;QACV,gBAAgB;YAAC;YAAwB;SAAqB;IAChE;IACA,aAAa;QACX,gBAAgB;YACd,OAAO;YACP,SAAS;YACT,SAAS;YACT,UAAU;gBACR;oBACE,QAAQ;oBACR,YAAY;oBACZ,QAAQ;oBACR,eAAe,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,IAAI,WAAW;gBAClE;gBACA;oBACE,QAAQ;oBACR,YAAY;oBACZ,QAAQ;oBACR,eAAe,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,IAAI,WAAW;gBAClE;gBACA;oBACE,QAAQ;oBACR,YAAY;oBACZ,QAAQ;oBACR,eAAe,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,KAAK,WAAW;gBACnE;aACD;QACH;QACA,kBAAkB;YAChB,aAAa,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,KAAK,KAAK,KAAK,GAAG,WAAW;YACvE,WAAW,IAAI,OAAO,WAAW;YACjC,iBAAiB;YACjB,WAAW;YACX,cAAc;YACd,kBAAkB;QACpB;QACA,4BAA4B;YAC1B,MAAM;YACN,OAAO;YACP,MAAM;YACN,QAAQ;QACV;QACA,gBAAgB;YACd,MAAM;YACN,OAAO;YACP,MAAM;YACN,QAAQ;QACV;IACF;AACF","debugId":null}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/services/api/dashboard.ts"],"sourcesContent":["import { CoreApiError, HousekeepingStatus } from './housekeeping';\r\nimport { dashboardMetricsFixture } from './__mocks__/dashboard';\r\n\r\nconst CORE_API_BASE_URL_ENV = process.env.NEXT_PUBLIC_CORE_API_BASE_URL;\r\nconst CORE_API_CONFIGURED = Boolean(CORE_API_BASE_URL_ENV?.trim());\r\nconst CORE_API_BASE_URL =\r\n  CORE_API_BASE_URL_ENV && CORE_API_BASE_URL_ENV.trim().length > 0\r\n    ? CORE_API_BASE_URL_ENV\r\n    : 'http://localhost:8000';\r\n\r\nexport interface OccupancyMetric {\r\n  date: string;\r\n  occupiedUnits: number;\r\n  totalUnits: number;\r\n  occupancyRate: number;\r\n}\r\n\r\nexport interface CriticalAlertSample {\r\n  taskId: number;\r\n  propertyId: number;\r\n  status: HousekeepingStatus;\r\n  scheduledDate: string;\r\n}\r\n\r\nexport interface CriticalAlertMetrics {\r\n  total: number;\r\n  blocked: number;\r\n  overdue: number;\r\n  examples: CriticalAlertSample[];\r\n}\r\n\r\nexport interface PlaybookAdoptionMetrics {\r\n  periodStart: string;\r\n  periodEnd: string;\r\n  totalExecutions: number;\r\n  completed: number;\r\n  adoptionRate: number;\r\n  activeProperties: number;\r\n}\r\n\r\nexport interface NpsMetric {\r\n  score: number;\r\n  totalResponses: number;\r\n  trend7d: number | null;\r\n}\r\n\r\nexport interface SlaMetric {\r\n  total: number;\r\n  onTrack: number;\r\n  atRisk: number;\r\n  breached: number;\r\n  worstOffenders: string[];\r\n}\r\n\r\nexport interface OperationalKpiMetric {\r\n  name: string;\r\n  value: number;\r\n  unit: string;\r\n  status: string | null;\r\n}\r\n\r\nexport interface OperationalMetrics {\r\n  criticalAlerts: CriticalAlertMetrics;\r\n  playbookAdoption: PlaybookAdoptionMetrics;\r\n  housekeepingCompletionRate: OperationalKpiMetric;\r\n  otaSyncBacklog: OperationalKpiMetric;\r\n}\r\n\r\nexport interface DashboardMetrics {\r\n  occupancy: OccupancyMetric;\r\n  nps: NpsMetric;\r\n  sla: SlaMetric;\r\n  operational: OperationalMetrics;\r\n}\r\n\r\ninterface OccupancyDto {\r\n  date: string;\r\n  occupied_units: number;\r\n  total_units: number;\r\n  occupancy_rate: number;\r\n}\r\n\r\ninterface CriticalAlertDto {\r\n  task_id: number;\r\n  property_id: number;\r\n  status: HousekeepingStatus;\r\n  scheduled_date: string;\r\n}\r\n\r\ninterface CriticalAlertSummaryDto {\r\n  total: number;\r\n  blocked: number;\r\n  overdue: number;\r\n  examples: CriticalAlertDto[];\r\n}\r\n\r\ninterface PlaybookAdoptionDto {\r\n  period_start: string;\r\n  period_end: string;\r\n  total_executions: number;\r\n  completed: number;\r\n  adoption_rate: number;\r\n  active_properties: number;\r\n}\r\n\r\ninterface NpsDto {\r\n  score: number;\r\n  total_responses: number;\r\n  trend_7d: number | null;\r\n}\r\n\r\ninterface SlaDto {\r\n  total: number;\r\n  on_track: number;\r\n  at_risk: number;\r\n  breached: number;\r\n  worst_offenders: string[];\r\n}\r\n\r\ninterface OperationalKpiDto {\r\n  name: string;\r\n  value: number;\r\n  unit: string;\r\n  status: string | null;\r\n}\r\n\r\ninterface OperationalDto {\r\n  critical_alerts: CriticalAlertSummaryDto;\r\n  playbook_adoption: PlaybookAdoptionDto;\r\n  housekeeping_completion_rate: OperationalKpiDto;\r\n  ota_sync_backlog: OperationalKpiDto;\r\n}\r\n\r\ninterface DashboardMetricsDto {\r\n  occupancy: OccupancyDto;\r\n  nps: NpsDto;\r\n  sla: SlaDto;\r\n  operational: OperationalDto;\r\n}\r\n\r\ninterface GetDashboardMetricsOptions {\r\n  signal?: AbortSignal;\r\n  targetDate?: string;\r\n}\r\n\r\nexport type DashboardMetricsResponse =\r\n  | { status: 'live'; data: DashboardMetrics }\r\n  | { status: 'degraded'; data: DashboardMetrics; message: string };\r\n\r\nfunction mapOccupancy(dto: OccupancyDto): OccupancyMetric {\r\n  return {\r\n    date: dto.date,\r\n    occupiedUnits: dto.occupied_units,\r\n    totalUnits: dto.total_units,\r\n    occupancyRate: dto.occupancy_rate\r\n  };\r\n}\r\n\r\nfunction mapCriticalAlerts(dto: CriticalAlertSummaryDto): CriticalAlertMetrics {\r\n  return {\r\n    total: dto.total,\r\n    blocked: dto.blocked,\r\n    overdue: dto.overdue,\r\n    examples: dto.examples.map((example) => ({\r\n      taskId: example.task_id,\r\n      propertyId: example.property_id,\r\n      status: example.status,\r\n      scheduledDate: example.scheduled_date\r\n    }))\r\n  };\r\n}\r\n\r\nfunction mapPlaybookAdoption(dto: PlaybookAdoptionDto): PlaybookAdoptionMetrics {\r\n  return {\r\n    periodStart: dto.period_start,\r\n    periodEnd: dto.period_end,\r\n    totalExecutions: dto.total_executions,\r\n    completed: dto.completed,\r\n    adoptionRate: dto.adoption_rate,\r\n    activeProperties: dto.active_properties\r\n  };\r\n}\r\n\r\nfunction mapNps(dto: NpsDto): NpsMetric {\r\n  return {\r\n    score: dto.score,\r\n    totalResponses: dto.total_responses,\r\n    trend7d: dto.trend_7d\r\n  };\r\n}\r\n\r\nfunction mapSla(dto: SlaDto): SlaMetric {\r\n  return {\r\n    total: dto.total,\r\n    onTrack: dto.on_track,\r\n    atRisk: dto.at_risk,\r\n    breached: dto.breached,\r\n    worstOffenders: dto.worst_offenders\r\n  };\r\n}\r\n\r\nfunction mapOperational(dto: OperationalDto): OperationalMetrics {\r\n  return {\r\n    criticalAlerts: mapCriticalAlerts(dto.critical_alerts),\r\n    playbookAdoption: mapPlaybookAdoption(dto.playbook_adoption),\r\n    housekeepingCompletionRate: {\r\n      name: dto.housekeeping_completion_rate.name,\r\n      value: dto.housekeeping_completion_rate.value,\r\n      unit: dto.housekeeping_completion_rate.unit,\r\n      status: dto.housekeeping_completion_rate.status\r\n    },\r\n    otaSyncBacklog: {\r\n      name: dto.ota_sync_backlog.name,\r\n      value: dto.ota_sync_backlog.value,\r\n      unit: dto.ota_sync_backlog.unit,\r\n      status: dto.ota_sync_backlog.status\r\n    }\r\n  };\r\n}\r\n\r\nexport async function getDashboardMetrics(\r\n  options: GetDashboardMetricsOptions = {}\r\n): Promise<DashboardMetricsResponse> {\r\n  if (!CORE_API_CONFIGURED) {\r\n    return {\r\n      status: 'degraded',\r\n      data: dashboardMetricsFixture,\r\n      message:\r\n        'Sem URL configurada para o Core API. A mostrar métricas de referência até que a ligação seja reativada.'\r\n    };\r\n  }\r\n\r\n  const url = new URL('/metrics/overview', CORE_API_BASE_URL);\r\n  if (options.targetDate) {\r\n    url.searchParams.set('target_date', options.targetDate);\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json'\r\n      },\r\n      signal: options.signal,\r\n      cache: 'no-store'\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const body = await safeReadJson(response);\r\n      throw new CoreApiError('Failed to load dashboard metrics', response.status, body);\r\n    }\r\n\r\n    const payload = (await response.json()) as DashboardMetricsDto;\r\n    return {\r\n      status: 'live',\r\n      data: {\r\n        occupancy: mapOccupancy(payload.occupancy),\r\n        nps: mapNps(payload.nps),\r\n        sla: mapSla(payload.sla),\r\n        operational: mapOperational(payload.operational)\r\n      }\r\n    };\r\n  } catch (error) {\r\n    if (error instanceof CoreApiError) {\r\n      throw error;\r\n    }\r\n\r\n    return {\r\n      status: 'degraded',\r\n      data: dashboardMetricsFixture,\r\n      message:\r\n        'Não foi possível contactar o Core API. A mostrar métricas de exemplo enquanto a ligação é restabelecida.'\r\n    };\r\n  }\r\n}\r\n\r\nasync function safeReadJson(response: Response): Promise<unknown> {\r\n  try {\r\n    return await response.json();\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jdc/Desktop/Bmad-Method/apps/web/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { metrics, trace } from '@opentelemetry/api';\r\n\r\nimport { Card } from '@/components/ui/Card';\r\nimport { SectionHeader } from '@/components/layout/SectionHeader';\r\nimport { StatusBadge } from '@/components/ui/StatusBadge';\r\nimport { SlaOverview } from '@/components/slas/SlaOverview';\r\nimport { TourLauncher } from '@/components/tour/TourLauncher';\r\nimport { CoreApiError, HousekeepingStatus } from '@/services/api/housekeeping';\r\nimport { getPartnerSlas, PartnerSla } from '@/services/api/partners';\r\nimport {\r\n  DashboardMetrics,\r\n  OperationalKpiMetric,\r\n  getDashboardMetrics\r\n} from '@/services/api/dashboard';\r\n\r\ntype LoadStatus = 'loading' | 'success' | 'empty' | 'error';\r\ntype ExperienceMode = 'initial' | 'live' | 'offline';\r\n\r\ntype DashboardMetricsState = {\r\n  status: LoadStatus;\r\n  data: DashboardMetrics | null;\r\n  error: string | null;\r\n  experience: ExperienceMode | null;\r\n  guidance: string | null;\r\n};\r\n\r\ntype PartnerSlaState = {\r\n  status: LoadStatus;\r\n  data: PartnerSla[];\r\n  message: string | null;\r\n  mode: ExperienceMode | null;\r\n};\r\n\r\ntype KpiCard = {\r\n  key: string;\r\n  label: string;\r\n  state: 'ready' | 'loading' | 'empty' | 'error';\r\n  value?: string;\r\n  message?: string;\r\n  description: string;\r\n  variant: 'success' | 'warning' | 'critical' | 'info';\r\n  testId: string;\r\n  tooltip?: string;\r\n  annotation?: string;\r\n  annotationVariant?: 'success' | 'warning' | 'critical' | 'info';\r\n  annotationTooltip?: string;\r\n};\r\n\r\nconst numberFormatter = new Intl.NumberFormat('pt-PT');\r\nconst percentFormatter = new Intl.NumberFormat('pt-PT', {\r\n  style: 'percent',\r\n  maximumFractionDigits: 0\r\n});\r\nconst trendFormatter = new Intl.NumberFormat('pt-PT', {\r\n  signDisplay: 'always',\r\n  maximumFractionDigits: 1\r\n});\r\nconst decimalFormatter = new Intl.NumberFormat('pt-PT', {\r\n  maximumFractionDigits: 1,\r\n  minimumFractionDigits: 0\r\n});\r\nconst ALERT_DATE_FORMATTER = new Intl.DateTimeFormat('pt-PT', {\r\n  day: '2-digit',\r\n  month: 'short',\r\n  hour: '2-digit',\r\n  minute: '2-digit'\r\n});\r\n\r\nconst meter = metrics.getMeter('bmad.web.dashboard');\r\nconst fetchCounter = meter.createCounter('bmad_web_dashboard_metrics_fetch_total', {\r\n  description: 'Total de atualizações dos cards principais do dashboard'\r\n});\r\nconst occupancyHistogram = meter.createHistogram('bmad_web_dashboard_occupancy_rate', {\r\n  description: 'Distribuição da taxa de ocupação exibida para os gestores'\r\n});\r\nconst alertsHistogram = meter.createHistogram('bmad_web_dashboard_alerts_total', {\r\n  description: 'Distribuição do número de alertas críticos apresentados'\r\n});\r\nconst adoptionHistogram = meter.createHistogram('bmad_web_dashboard_playbook_adoption_rate', {\r\n  description: 'Distribuição da taxa de adoção de playbooks no dashboard'\r\n});\r\nconst tracer = trace.getTracer('bmad.web.dashboard');\r\n\r\nconst priorities = [\r\n  {\r\n    title: 'Checklist Housekeeping Sprint 1',\r\n    description: 'Sincronizar revisão de quartos VIP e validar inventário de amenities.',\r\n    status: 'Em progresso',\r\n    statusVariant: 'warning' as const\r\n  },\r\n  {\r\n    title: 'Revisão SLAs de parceiros',\r\n    description: 'Confirmar janelas de recolha com lavanderia e manutenção preventiva.',\r\n    status: 'Atenção',\r\n    statusVariant: 'critical' as const\r\n  },\r\n  {\r\n    title: 'Formação tour guiado',\r\n    description: 'Realizar sessão com equipa de operações e recolher feedback do onboarding.',\r\n    status: 'Agendado',\r\n    statusVariant: 'info' as const\r\n  }\r\n];\r\n\r\nfunction getOccupancyVariant(rate: number): KpiCard['variant'] {\r\n  if (rate >= 0.8) {\r\n    return 'success';\r\n  }\r\n  if (rate <= 0.55) {\r\n    return 'critical';\r\n  }\r\n  return 'warning';\r\n}\r\n\r\nfunction getPlaybookVariant(rate: number): KpiCard['variant'] {\r\n  if (rate >= 0.6) {\r\n    return 'success';\r\n  }\r\n  if (rate <= 0.3) {\r\n    return 'critical';\r\n  }\r\n  return 'info';\r\n}\r\n\r\nfunction formatOperationalMetric(metric: OperationalKpiMetric): string {\r\n  const unit = metric.unit?.trim() ?? '';\r\n  if (!unit) {\r\n    return decimalFormatter.format(metric.value);\r\n  }\r\n  if (unit === '%') {\r\n    return `${decimalFormatter.format(metric.value)}%`;\r\n  }\r\n  return `${decimalFormatter.format(metric.value)} ${unit}`;\r\n}\r\n\r\nfunction formatHousekeepingStatus(status: HousekeepingStatus): string {\r\n  return status\r\n    .split('_')\r\n    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))\r\n    .join(' ');\r\n}\r\n\r\nfunction buildKpiCards(state: DashboardMetricsState): KpiCard[] {\r\n  if (state.status === 'loading') {\r\n    const message = 'Carregando métricas do core...';\r\n    const tooltip = 'A sincronizar dados com o Core API.';\r\n    return [\r\n      {\r\n        key: 'occupancy',\r\n        label: 'Taxa de ocupação',\r\n        state: 'loading',\r\n        description: 'Aguarde enquanto sincronizamos as reservas.',\r\n        variant: 'info',\r\n        message,\r\n        tooltip,\r\n        testId: 'kpi-occupancy'\r\n      },\r\n      {\r\n        key: 'alerts',\r\n        label: 'Alertas críticos',\r\n        state: 'loading',\r\n        description: 'Monitorizando tarefas de housekeeping e SLAs.',\r\n        variant: 'info',\r\n        message,\r\n        tooltip,\r\n        testId: 'kpi-alerts'\r\n      },\r\n      {\r\n        key: 'playbooks',\r\n        label: 'Playbooks ativos',\r\n        state: 'loading',\r\n        description: 'Atualizando sinalizações de execução.',\r\n        variant: 'info',\r\n        message,\r\n        tooltip,\r\n        testId: 'kpi-playbooks'\r\n      }\r\n    ];\r\n  }\r\n\r\n  if (state.status === 'error') {\r\n    const message = state.error ?? 'Não foi possível carregar as métricas do dashboard.';\r\n    const tooltip = 'Erro temporário ao contactar o Core API. Tente novamente ou verifique as integrações.';\r\n    return [\r\n      {\r\n        key: 'occupancy',\r\n        label: 'Taxa de ocupação',\r\n        state: 'error',\r\n        description: 'Contacte o time de plataforma caso o erro persista.',\r\n        variant: 'critical',\r\n        message,\r\n        tooltip,\r\n        annotation: 'Erro temporário',\r\n        annotationVariant: 'critical',\r\n        annotationTooltip: tooltip,\r\n        testId: 'kpi-occupancy'\r\n      },\r\n      {\r\n        key: 'alerts',\r\n        label: 'Alertas críticos',\r\n        state: 'error',\r\n        description: 'Contacte o time de plataforma caso o erro persista.',\r\n        variant: 'critical',\r\n        message,\r\n        tooltip,\r\n        annotation: 'Erro temporário',\r\n        annotationVariant: 'critical',\r\n        annotationTooltip: tooltip,\r\n        testId: 'kpi-alerts'\r\n      },\r\n      {\r\n        key: 'playbooks',\r\n        label: 'Playbooks ativos',\r\n        state: 'error',\r\n        description: 'Contacte o time de plataforma caso o erro persista.',\r\n        variant: 'critical',\r\n        message,\r\n        tooltip,\r\n        annotation: 'Erro temporário',\r\n        annotationVariant: 'critical',\r\n        annotationTooltip: tooltip,\r\n        testId: 'kpi-playbooks'\r\n      }\r\n    ];\r\n  }\r\n\r\n  if (state.status === 'empty' || !state.data) {\r\n    const tooltip =\r\n      state.guidance ??\r\n      'Configuração inicial: cadastre propriedades e conecte integrações para desbloquear insights.';\r\n    return [\r\n      {\r\n        key: 'occupancy',\r\n        label: 'Taxa de ocupação',\r\n        state: 'empty',\r\n        description: 'Cadastre propriedades e reservas para acompanhar a taxa.',\r\n        variant: 'warning',\r\n        message: 'Sem inventário cadastrado.',\r\n        tooltip,\r\n        annotation: 'Configuração inicial',\r\n        annotationVariant: 'info',\r\n        annotationTooltip: tooltip,\r\n        testId: 'kpi-occupancy'\r\n      },\r\n      {\r\n        key: 'alerts',\r\n        label: 'Alertas críticos',\r\n        state: 'empty',\r\n        description: 'Processos operacionais dentro dos parâmetros definidos.',\r\n        variant: 'success',\r\n        message: 'Sem alertas críticos no período.',\r\n        tooltip,\r\n        annotation: 'Configuração inicial',\r\n        annotationVariant: 'info',\r\n        annotationTooltip: tooltip,\r\n        testId: 'kpi-alerts'\r\n      },\r\n      {\r\n        key: 'playbooks',\r\n        label: 'Playbooks ativos',\r\n        state: 'empty',\r\n        description: 'Execute um playbook para medir a adoção da equipa.',\r\n        variant: 'info',\r\n        message: 'Nenhuma execução registrada nos últimos 7 dias.',\r\n        tooltip,\r\n        annotation: 'Configuração inicial',\r\n        annotationVariant: 'info',\r\n        annotationTooltip: tooltip,\r\n        testId: 'kpi-playbooks'\r\n      }\r\n    ];\r\n  }\r\n\r\n  const data = state.data;\r\n  const occupancyVariant = getOccupancyVariant(data.occupancy.occupancyRate);\r\n  const alertsVariant = data.operational.criticalAlerts.total > 0 ? 'critical' : 'success';\r\n  const playbooksVariant = getPlaybookVariant(data.operational.playbookAdoption.adoptionRate);\r\n\r\n  const readyCards: KpiCard[] = [\r\n    {\r\n      key: 'occupancy',\r\n      label: 'Taxa de ocupação',\r\n      state: 'ready',\r\n      value: percentFormatter.format(data.occupancy.occupancyRate),\r\n      description: `${data.occupancy.occupiedUnits} de ${data.occupancy.totalUnits} unidades ocupadas`,\r\n      variant: occupancyVariant,\r\n      testId: 'kpi-occupancy'\r\n    },\r\n    {\r\n      key: 'alerts',\r\n      label: 'Alertas críticos',\r\n      state: 'ready',\r\n      value: numberFormatter.format(data.operational.criticalAlerts.total),\r\n      description: `${data.operational.criticalAlerts.blocked} bloqueios · ${data.operational.criticalAlerts.overdue} atrasos`,\r\n      variant: alertsVariant,\r\n      testId: 'kpi-alerts'\r\n    },\r\n    {\r\n      key: 'playbooks',\r\n      label: 'Playbooks ativos',\r\n      state: 'ready',\r\n      value: percentFormatter.format(data.operational.playbookAdoption.adoptionRate),\r\n      description: `${data.operational.playbookAdoption.totalExecutions} execuções registradas nos últimos 7 dias`,\r\n      variant: playbooksVariant,\r\n      testId: 'kpi-playbooks'\r\n    }\r\n  ];\r\n\r\n  if (state.experience === 'offline') {\r\n    const annotationTooltip =\r\n      state.guidance ??\r\n      'Sem ligação com o Core API. Dados de referência exibidos até a reconexão.';\r\n    return readyCards.map((card) => ({\r\n      ...card,\r\n      annotation: 'Modo offline',\r\n      annotationVariant: 'warning',\r\n      annotationTooltip\r\n    }));\r\n  }\r\n\r\n  return readyCards;\r\n}\r\n\r\nfunction useDashboardMetrics(): DashboardMetricsState {\r\n  const [state, setState] = useState<DashboardMetricsState>({\r\n    status: 'loading',\r\n    data: null,\r\n    error: null,\r\n    experience: null,\r\n    guidance: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    const controller = new AbortController();\r\n    const span = tracer.startSpan('dashboard.metrics.fetch', {\r\n      attributes: { endpoint: '/metrics/overview' }\r\n    });\r\n    let spanEnded = false;\r\n\r\n    const endSpan = (status: 'success' | 'error' | 'aborted' | 'degraded') => {\r\n      if (spanEnded) {\r\n        return;\r\n      }\r\n      span.setAttribute('dashboard.metrics.status', status);\r\n      spanEnded = true;\r\n      span.end();\r\n    };\r\n\r\n    getDashboardMetrics({ signal: controller.signal })\r\n      .then((result) => {\r\n        if (!active) {\r\n          return;\r\n        }\r\n\r\n        const data = result.data;\r\n        const isEmpty =\r\n          data.occupancy.totalUnits === 0 &&\r\n          data.operational.criticalAlerts.total === 0 &&\r\n          data.operational.playbookAdoption.totalExecutions === 0;\r\n\r\n        const experience: ExperienceMode =\r\n          result.status === 'degraded' ? 'offline' : isEmpty ? 'initial' : 'live';\r\n        const status: LoadStatus = isEmpty ? 'empty' : 'success';\r\n        const guidance =\r\n          result.status === 'degraded'\r\n            ? result.message\r\n            : isEmpty\r\n              ? 'Conclua a configuração inicial para começar a acompanhar as métricas.'\r\n              : null;\r\n\r\n        setState({\r\n          status,\r\n          data,\r\n          error: null,\r\n          experience,\r\n          guidance\r\n        });\r\n\r\n        fetchCounter.add(1, {\r\n          endpoint: '/metrics/overview',\r\n          status: result.status === 'degraded' ? 'degraded' : 'success'\r\n        });\r\n        occupancyHistogram.record(data.occupancy.occupancyRate * 100, {\r\n          window: 'daily'\r\n        });\r\n        alertsHistogram.record(data.operational.criticalAlerts.total, {\r\n          window: 'rolling'\r\n        });\r\n        adoptionHistogram.record(data.operational.playbookAdoption.adoptionRate * 100, {\r\n          window: '7d'\r\n        });\r\n        endSpan(result.status === 'degraded' ? 'degraded' : 'success');\r\n      })\r\n      .catch((error: unknown) => {\r\n        if (!active) {\r\n          return;\r\n        }\r\n\r\n        if (error instanceof Error && error.name === 'AbortError') {\r\n          endSpan('aborted');\r\n          return;\r\n        }\r\n\r\n        const message =\r\n          error instanceof CoreApiError\r\n            ? error.status >= 500\r\n              ? 'Serviço de métricas indisponível. Tente novamente em instantes.'\r\n              : 'Não foi possível carregar as métricas do dashboard.'\r\n            : 'Ocorreu um erro inesperado ao carregar as métricas do dashboard.';\r\n\r\n        if (error instanceof Error) {\r\n          span.recordException(error);\r\n        }\r\n\r\n        fetchCounter.add(1, { endpoint: '/metrics/overview', status: 'error' });\r\n        setState({\r\n          status: 'error',\r\n          data: null,\r\n          error: message,\r\n          experience: null,\r\n          guidance: 'Verifique as credenciais do Core API nas configurações e tente novamente.'\r\n        });\r\n        endSpan('error');\r\n      });\r\n\r\n    return () => {\r\n      active = false;\r\n      controller.abort();\r\n      endSpan('aborted');\r\n    };\r\n  }, []);\r\n\r\n  return state;\r\n}\r\n\r\nfunction usePartnerSlas(): PartnerSlaState {\r\n  const [state, setState] = useState<PartnerSlaState>({\r\n    status: 'loading',\r\n    data: [],\r\n    message: null,\r\n    mode: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    const controller = new AbortController();\r\n\r\n    getPartnerSlas({ signal: controller.signal })\r\n      .then((result) => {\r\n        if (!active) {\r\n          return;\r\n        }\r\n        const items = result.data;\r\n        const hasData = items.length > 0;\r\n        if (!hasData) {\r\n          setState({\r\n            status: 'empty',\r\n            data: [],\r\n            message:\r\n              result.status === 'degraded'\r\n                ? result.message\r\n                : 'Sem dados de SLA disponíveis.',\r\n            mode: 'initial'\r\n          });\r\n          return;\r\n        }\r\n        setState({\r\n          status: 'success',\r\n          data: items,\r\n          message: result.status === 'degraded' ? result.message : null,\r\n          mode: result.status === 'degraded' ? 'offline' : 'live'\r\n        });\r\n      })\r\n      .catch((error: unknown) => {\r\n        if (!active) {\r\n          return;\r\n        }\r\n        if (error instanceof Error && error.name === 'AbortError') {\r\n          return;\r\n        }\r\n\r\n        if (error instanceof CoreApiError) {\r\n          const message =\r\n            error.status >= 500\r\n              ? 'Serviço de SLAs indisponível. Tente novamente em instantes.'\r\n              : 'Não foi possível carregar os SLAs dos parceiros.';\r\n          setState({ status: 'error', data: [], message, mode: null });\r\n          return;\r\n        }\r\n\r\n        setState({\r\n          status: 'error',\r\n          data: [],\r\n          message: 'Ocorreu um erro inesperado ao carregar os SLAs.',\r\n          mode: null\r\n        });\r\n      });\r\n\r\n    return () => {\r\n      active = false;\r\n      controller.abort();\r\n    };\r\n  }, []);\r\n\r\n  return state;\r\n}\r\n\r\nfunction DashboardHero({\r\n  metricsState,\r\n  kpis\r\n}: {\r\n  metricsState: DashboardMetricsState;\r\n  kpis: KpiCard[];\r\n}) {\r\n  const data = metricsState.data;\r\n  const stats = data\r\n    ? [\r\n        {\r\n          label: 'Unidades ativas',\r\n          value: numberFormatter.format(data.occupancy.totalUnits),\r\n          hint: `${numberFormatter.format(data.occupancy.occupiedUnits)} ocupadas hoje`\r\n        },\r\n        {\r\n          label: 'Propriedades com playbooks',\r\n          value: numberFormatter.format(data.operational.playbookAdoption.activeProperties),\r\n          hint: `${numberFormatter.format(data.operational.playbookAdoption.totalExecutions)} execuções nos últimos 7 dias`\r\n        },\r\n        {\r\n          label: 'Pontuação NPS',\r\n          value: numberFormatter.format(data.nps.score),\r\n          hint:\r\n            data.nps.trend7d === null\r\n              ? `${numberFormatter.format(data.nps.totalResponses)} respostas · tendência estável`\r\n              : `${numberFormatter.format(data.nps.totalResponses)} respostas · ${trendFormatter.format(\r\n                  data.nps.trend7d\r\n                )} pts vs 7 dias`\r\n        }\r\n      ]\r\n    : [\r\n        {\r\n          label: 'Estado da operação',\r\n          value:\r\n            metricsState.status === 'loading'\r\n              ? 'A sincronizar…'\r\n              : metricsState.status === 'error'\r\n                ? 'Erro temporário'\r\n                : metricsState.experience === 'offline'\r\n                  ? 'Modo offline'\r\n                  : '—',\r\n          hint:\r\n            metricsState.guidance ??\r\n            (metricsState.status === 'error'\r\n              ? metricsState.error ?? 'Não foi possível carregar os dados.'\r\n              : 'Cadastre propriedades e execuções para desbloquear insights.')\r\n        }\r\n      ];\r\n\r\n  const renderKpiContent = (kpi: KpiCard) => {\r\n    let body: JSX.Element;\r\n    if (kpi.state === 'ready') {\r\n      body = (\r\n        <strong className=\"dashboard-hero__kpi-value\" data-testid={`${kpi.testId}-value`}>\r\n          {kpi.value}\r\n        </strong>\r\n      );\r\n    } else {\r\n      const suffix = kpi.state === 'loading' ? 'loading' : kpi.state === 'empty' ? 'empty' : 'error';\r\n      body = (\r\n        <span\r\n          className=\"dashboard-hero__kpi-message\"\r\n          data-testid={`${kpi.testId}-${suffix}`}\r\n          title={kpi.tooltip ?? undefined}\r\n        >\r\n          {kpi.message}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"dashboard-hero__kpi-inner\">\r\n        {body}\r\n        {kpi.annotation ? (\r\n          <span\r\n            className={`dashboard-hero__kpi-annotation dashboard-hero__kpi-annotation--${kpi.annotationVariant ?? 'info'}`}\r\n            data-testid={`${kpi.testId}-annotation`}\r\n            title={kpi.annotationTooltip ?? kpi.tooltip ?? undefined}\r\n          >\r\n            {kpi.annotation}\r\n          </span>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const showStatusBanner =\r\n    metricsState.status === 'loading' ||\r\n    metricsState.status === 'error' ||\r\n    metricsState.experience === 'offline' ||\r\n    (metricsState.experience === 'initial' && metricsState.status === 'empty');\r\n\r\n  const shouldShowRecoveryCta =\r\n    metricsState.status === 'error' || metricsState.experience === 'offline';\r\n\r\n  return (\r\n    <section className=\"dashboard-hero\">\r\n      <div className=\"dashboard-hero__content\">\r\n        {showStatusBanner && (\r\n          <div className=\"dashboard-hero__status-banner\" data-testid=\"dashboard-status-banner\">\r\n            {metricsState.status === 'loading' && (\r\n              <StatusBadge variant=\"info\" tooltip=\"A sincronizar dados em tempo real.\">\r\n                A sincronizar…\r\n              </StatusBadge>\r\n            )}\r\n            {metricsState.status === 'error' && (\r\n              <StatusBadge\r\n                variant=\"critical\"\r\n                tooltip={\r\n                  metricsState.error ?? 'Erro temporário ao contactar o Core API. Tente novamente em instantes.'\r\n                }\r\n              >\r\n                Erro temporário\r\n              </StatusBadge>\r\n            )}\r\n            {metricsState.experience === 'offline' && (\r\n              <StatusBadge\r\n                variant=\"warning\"\r\n                tooltip={\r\n                  metricsState.guidance ?? 'Sem ligação com o Core API. A mostrar dados de referência.'\r\n                }\r\n              >\r\n                Modo offline\r\n              </StatusBadge>\r\n            )}\r\n            {metricsState.experience === 'initial' && metricsState.status === 'empty' && (\r\n              <StatusBadge\r\n                variant=\"info\"\r\n                tooltip={\r\n                  metricsState.guidance ?? 'Finalize a configuração inicial para desbloquear métricas.'\r\n                }\r\n              >\r\n                Configuração inicial\r\n              </StatusBadge>\r\n            )}\r\n          </div>\r\n        )}\r\n        <span className=\"dashboard-hero__tag\">Alojamentos locais · Porto</span>\r\n        <h1>Coordene operações e hóspedes num único painel</h1>\r\n        <p>\r\n          Priorize equipas de campo, sincronize reservas e mantenha proprietários atualizados com insights em tempo real.\r\n        </p>\r\n        <div className=\"dashboard-hero__actions\">\r\n          <button type=\"button\" className=\"dashboard-hero__action dashboard-hero__action--primary\">\r\n            Criar reserva\r\n          </button>\r\n          <button type=\"button\" className=\"dashboard-hero__action dashboard-hero__action--secondary\">\r\n            Abrir calendário\r\n          </button>\r\n        </div>\r\n        <dl className=\"dashboard-hero__stats\">\r\n          {stats.map((stat) => (\r\n            <div key={stat.label} className=\"dashboard-hero__stat\">\r\n              <dt>{stat.label}</dt>\r\n              <dd>{stat.value}</dd>\r\n              <span>{stat.hint}</span>\r\n            </div>\r\n          ))}\r\n        </dl>\r\n        {shouldShowRecoveryCta && (\r\n          <div className=\"dashboard-hero__recovery\" data-testid=\"dashboard-recovery-cta\">\r\n            <strong>Reconectar ao Core</strong>\r\n            <p>{metricsState.guidance ?? 'Siga os passos abaixo para restabelecer a sincronização com o Core API.'}</p>\r\n            <ol>\r\n              <li>\r\n                Aceda a <a href=\"/settings/integrations\">Configurações &gt; Integrações</a>.\r\n              </li>\r\n              <li>Valide as credenciais e tokens do Core API.</li>\r\n              <li>Guarde as alterações e atualize este painel.</li>\r\n            </ol>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"dashboard-hero__panel\">\r\n        <div className=\"dashboard-hero__kpis\">\r\n          {kpis.map((kpi) => (\r\n            <div\r\n              key={kpi.key}\r\n              className=\"dashboard-hero__kpi\"\r\n              data-variant={kpi.variant}\r\n              data-state={kpi.state}\r\n            >\r\n              <span className=\"dashboard-hero__kpi-label\">{kpi.label}</span>\r\n              {renderKpiContent(kpi)}\r\n              <p>{kpi.description}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <TourLauncher />\r\n      </div>\r\n      <style jsx>{`\r\n        .dashboard-hero {\r\n          display: grid;\r\n          gap: var(--space-6);\r\n          grid-template-columns: minmax(0, 1.15fr) minmax(0, 1fr);\r\n          padding: var(--space-6);\r\n          border-radius: var(--radius-md);\r\n          background: linear-gradient(135deg, rgba(248, 250, 252, 0.94), rgba(37, 99, 235, 0.12));\r\n          border: 1px solid rgba(148, 163, 184, 0.24);\r\n          box-shadow: var(--shadow-card);\r\n        }\r\n        .dashboard-hero__content {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n        }\r\n        .dashboard-hero__status-banner {\r\n          display: inline-flex;\r\n          flex-wrap: wrap;\r\n          align-items: center;\r\n          gap: var(--space-3);\r\n        }\r\n        .dashboard-hero__tag {\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.12em;\r\n          font-size: 0.75rem;\r\n          color: var(--color-neutral-2);\r\n          font-weight: 600;\r\n        }\r\n        h1 {\r\n          margin: 0;\r\n          font-size: 2rem;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        p {\r\n          margin: 0;\r\n          color: var(--color-neutral-2);\r\n          max-width: 40ch;\r\n        }\r\n        .dashboard-hero__actions {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: var(--space-3);\r\n        }\r\n        .dashboard-hero__action {\r\n          font-weight: 600;\r\n          border-radius: var(--radius-sm);\r\n          padding: var(--space-2) var(--space-4);\r\n          border: 1px solid transparent;\r\n          cursor: pointer;\r\n          transition: background 0.2s ease, color 0.2s ease, border 0.2s ease;\r\n        }\r\n        .dashboard-hero__action--primary {\r\n          background: var(--color-deep-blue);\r\n          color: #fff;\r\n        }\r\n        .dashboard-hero__action--primary:hover,\r\n        .dashboard-hero__action--primary:focus-visible {\r\n          background: #1d4ed8;\r\n        }\r\n        .dashboard-hero__action--secondary {\r\n          background: rgba(14, 165, 233, 0.14);\r\n          color: var(--color-deep-blue);\r\n          border-color: rgba(14, 165, 233, 0.32);\r\n        }\r\n        .dashboard-hero__action--secondary:hover,\r\n        .dashboard-hero__action--secondary:focus-visible {\r\n          background: rgba(14, 165, 233, 0.22);\r\n        }\r\n        .dashboard-hero__stats {\r\n          margin: 0;\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\r\n        }\r\n        .dashboard-hero__stat {\r\n          display: grid;\r\n          gap: var(--space-1);\r\n        }\r\n        .dashboard-hero__stat dt {\r\n          font-size: 0.75rem;\r\n          letter-spacing: 0.08em;\r\n          text-transform: uppercase;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .dashboard-hero__stat dd {\r\n          margin: 0;\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .dashboard-hero__stat span {\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.85rem;\r\n        }\r\n        .dashboard-hero__recovery {\r\n          margin-top: var(--space-5);\r\n          padding: var(--space-4);\r\n          border-radius: var(--radius-sm);\r\n          border: 1px dashed var(--tint-primary-strong);\r\n          background: var(--app-surface-overlay);\r\n          display: grid;\r\n          gap: var(--space-3);\r\n        }\r\n        .dashboard-hero__recovery strong {\r\n          font-size: 1rem;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .dashboard-hero__recovery p {\r\n          margin: 0;\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.95rem;\r\n        }\r\n        .dashboard-hero__recovery ol {\r\n          margin: 0;\r\n          padding-left: var(--space-5);\r\n          display: grid;\r\n          gap: var(--space-2);\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .dashboard-hero__recovery a {\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n          text-decoration: underline;\r\n        }\r\n        .dashboard-hero__panel {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          align-content: start;\r\n        }\r\n        .dashboard-hero__kpis {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n        }\r\n        .dashboard-hero__kpi {\r\n          display: grid;\r\n          gap: var(--space-2);\r\n          padding: var(--space-4);\r\n          border-radius: var(--radius-md);\r\n          background: var(--color-neutral-0);\r\n          box-shadow: var(--shadow-card);\r\n          border-top: 4px solid var(--color-deep-blue);\r\n        }\r\n        .dashboard-hero__kpi[data-variant='success'] {\r\n          border-top-color: var(--color-soft-aqua);\r\n        }\r\n        .dashboard-hero__kpi[data-variant='warning'] {\r\n          border-top-color: var(--color-calm-gold);\r\n        }\r\n        .dashboard-hero__kpi[data-variant='critical'] {\r\n          border-top-color: var(--color-coral);\r\n        }\r\n        .dashboard-hero__kpi-label {\r\n          font-weight: 600;\r\n          color: var(--color-neutral-2);\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.06em;\r\n          font-size: 0.75rem;\r\n        }\r\n        .dashboard-hero__kpi-inner {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: var(--space-2);\r\n        }\r\n        .dashboard-hero__kpi-value {\r\n          font-size: 2rem;\r\n          color: var(--color-deep-blue);\r\n          font-weight: 700;\r\n        }\r\n        .dashboard-hero__kpi-message {\r\n          font-size: 0.95rem;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .dashboard-hero__kpi-annotation {\r\n          font-size: 0.7rem;\r\n          font-weight: 700;\r\n          letter-spacing: 0.08em;\r\n          text-transform: uppercase;\r\n        }\r\n        .dashboard-hero__kpi-annotation--info {\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .dashboard-hero__kpi-annotation--warning {\r\n          color: var(--color-amber-600, #b45309);\r\n        }\r\n        .dashboard-hero__kpi-annotation--critical {\r\n          color: var(--color-coral);\r\n        }\r\n        .dashboard-hero__kpi-annotation--success {\r\n          color: var(--color-emerald-600, #047857);\r\n        }\r\n        .dashboard-hero__kpi p {\r\n          margin: 0;\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.9rem;\r\n        }\r\n        @media (max-width: 1200px) {\r\n          .dashboard-hero {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n        @media (max-width: 768px) {\r\n          .dashboard-hero {\r\n            padding: var(--space-5);\r\n          }\r\n          h1 {\r\n            font-size: 1.75rem;\r\n          }\r\n          .dashboard-hero__actions {\r\n            flex-direction: column;\r\n          }\r\n          .dashboard-hero__action {\r\n            width: 100%;\r\n            text-align: center;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction OperationalHighlightsCard({ metricsState }: { metricsState: DashboardMetricsState }) {\r\n  if (metricsState.status === 'loading') {\r\n    return (\r\n      <Card\r\n        title=\"Pulso operacional\"\r\n        description=\"A sincronizar métricas em tempo real.\"\r\n        accent=\"info\"\r\n      >\r\n        <p>Carregando indicadores de satisfação e produtividade...</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (metricsState.status === 'error') {\r\n    return (\r\n      <Card\r\n        title=\"Pulso operacional\"\r\n        description=\"Resumo das métricas-chave de hóspedes e equipas.\"\r\n        accent=\"critical\"\r\n      >\r\n        <p>{metricsState.error}</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const data = metricsState.data;\r\n  if (!data) {\r\n    return (\r\n      <Card\r\n        title=\"Pulso operacional\"\r\n        description=\"Resumo das métricas-chave de hóspedes e equipas.\"\r\n        accent=\"warning\"\r\n      >\r\n        <p>Cadastre propriedades e execuções de playbooks para popular estes indicadores.</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const trend =\r\n    data.nps.trend7d === null\r\n      ? 'Tendência estável na última semana'\r\n      : `${trendFormatter.format(data.nps.trend7d)} pts versus 7 dias`;\r\n\r\n  const items = [\r\n    {\r\n      label: 'Pontuação NPS',\r\n      value: numberFormatter.format(data.nps.score),\r\n      helper: `${numberFormatter.format(data.nps.totalResponses)} respostas · ${trend}`\r\n    },\r\n    {\r\n      label: data.operational.housekeepingCompletionRate.name,\r\n      value: formatOperationalMetric(data.operational.housekeepingCompletionRate),\r\n      helper:\r\n        data.operational.housekeepingCompletionRate.status ?? 'Execução dentro dos SLAs definidos'\r\n    },\r\n    {\r\n      label: data.operational.otaSyncBacklog.name,\r\n      value: formatOperationalMetric(data.operational.otaSyncBacklog),\r\n      helper:\r\n        data.operational.otaSyncBacklog.status ?? 'Sincronização com OTAs monitorizada'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Card\r\n      title=\"Pulso operacional\"\r\n      description=\"Combine insights de hóspedes e produtividade da equipa para priorizar ações.\"\r\n      accent=\"info\"\r\n    >\r\n      <dl className=\"operational-highlights__grid\">\r\n        {items.map((item) => (\r\n          <div key={item.label}>\r\n            <dt>{item.label}</dt>\r\n            <dd>{item.value}</dd>\r\n            <span>{item.helper}</span>\r\n          </div>\r\n        ))}\r\n      </dl>\r\n      <style jsx>{`\r\n        .operational-highlights__grid {\r\n          margin: 0;\r\n          display: grid;\r\n          gap: var(--space-4);\r\n          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\r\n        }\r\n        .operational-highlights__grid div {\r\n          display: grid;\r\n          gap: var(--space-1);\r\n        }\r\n        dt {\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.06em;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        dd {\r\n          margin: 0;\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        span {\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.85rem;\r\n        }\r\n      `}</style>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction CriticalAlertsCard({ metricsState }: { metricsState: DashboardMetricsState }) {\r\n  if (metricsState.status === 'loading') {\r\n    return (\r\n      <Card\r\n        title=\"Alertas críticos\"\r\n        description=\"Casos prioritários para desbloquear hoje.\"\r\n        accent=\"info\"\r\n      >\r\n        <p>A carregar amostras de alertas críticos...</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (metricsState.status === 'error') {\r\n    return (\r\n      <Card\r\n        title=\"Alertas críticos\"\r\n        description=\"Casos prioritários para desbloquear hoje.\"\r\n        accent=\"critical\"\r\n      >\r\n        <p>{metricsState.error}</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const data = metricsState.data;\r\n  if (!data || data.operational.criticalAlerts.total === 0) {\r\n    return (\r\n      <Card\r\n        title=\"Alertas críticos\"\r\n        description=\"Casos prioritários para desbloquear hoje.\"\r\n        accent=\"success\"\r\n      >\r\n        <p>Sem alertas críticos registados neste período.</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const examples = data.operational.criticalAlerts.examples.slice(0, 3);\r\n\r\n  return (\r\n    <Card\r\n      title={`Alertas críticos (${numberFormatter.format(data.operational.criticalAlerts.total)})`}\r\n      description=\"Casos prioritários para desbloquear hoje.\"\r\n      accent=\"critical\"\r\n    >\r\n      <ul className=\"critical-alerts__list\">\r\n        {examples.map((example) => (\r\n          <li key={example.taskId}>\r\n            <div className=\"critical-alerts__header\">\r\n              <span className=\"critical-alerts__status\">{formatHousekeepingStatus(example.status)}</span>\r\n              <time dateTime={example.scheduledDate} className=\"critical-alerts__time\">\r\n                {ALERT_DATE_FORMATTER.format(new Date(example.scheduledDate))}\r\n              </time>\r\n            </div>\r\n            <p>Unidade #{example.propertyId} · Tarefa {example.taskId}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <p className=\"critical-alerts__footer\">\r\n        {data.operational.criticalAlerts.blocked} bloqueios · {data.operational.criticalAlerts.overdue} atrasos em acompanhamento\r\n      </p>\r\n      <style jsx>{`\r\n        .critical-alerts__list {\r\n          margin: 0;\r\n          padding: 0;\r\n          list-style: none;\r\n          display: grid;\r\n          gap: var(--space-3);\r\n        }\r\n        .critical-alerts__list li {\r\n          display: grid;\r\n          gap: var(--space-2);\r\n          padding: var(--space-3);\r\n          border-radius: var(--radius-sm);\r\n          background: rgba(239, 99, 81, 0.08);\r\n        }\r\n        .critical-alerts__header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: baseline;\r\n          gap: var(--space-3);\r\n        }\r\n        .critical-alerts__status {\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.08em;\r\n          font-size: 0.75rem;\r\n          font-weight: 600;\r\n          color: var(--color-coral);\r\n        }\r\n        .critical-alerts__time {\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.8rem;\r\n        }\r\n        .critical-alerts__list p {\r\n          margin: 0;\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .critical-alerts__footer {\r\n          margin: 0;\r\n          margin-top: var(--space-3);\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.85rem;\r\n        }\r\n      `}</style>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default function DashboardPage() {\r\n  const metricsState = useDashboardMetrics();\r\n  const slaState = usePartnerSlas();\r\n  const kpis = useMemo(() => buildKpiCards(metricsState), [metricsState]);\r\n\r\n  const showSlaOverview = slaState.status === 'success' && slaState.data.length > 0;\r\n  const showSlaOfflineBanner = slaState.mode === 'offline';\r\n  const slaOfflineTooltip =\r\n    slaState.message ?? 'Sem ligação com o Core API. A mostrar SLAs de referência.';\r\n  const fallbackSlaMessage =\r\n    slaState.message ??\r\n    (slaState.status === 'loading'\r\n      ? 'Carregando SLAs dos parceiros...'\r\n      : 'Sem dados de SLA disponíveis.');\r\n  const fallbackSlaAccent =\r\n    slaState.status === 'error'\r\n      ? 'critical'\r\n      : slaState.status === 'loading'\r\n        ? 'info'\r\n        : slaState.mode === 'offline'\r\n          ? 'warning'\r\n          : 'warning';\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <DashboardHero metricsState={metricsState} kpis={kpis} />\r\n      <div className=\"dashboard__layout\">\r\n        <section className=\"dashboard__main\">\r\n          <SectionHeader subtitle=\"Priorize ações que protegem receita e experiência.\">\r\n            Prioridades estratégicas da semana\r\n          </SectionHeader>\r\n          <Card\r\n            title=\"Backlog crítico\"\r\n            description=\"Itens alinhados ao roadmap BL-HK para ação imediata.\"\r\n            accent=\"warning\"\r\n          >\r\n            <ul className=\"dashboard__priority-list\">\r\n              {priorities.map((item) => (\r\n                <li key={item.title}>\r\n                  <div>\r\n                    <span className=\"dashboard__priority-title\">{item.title}</span>\r\n                    <p>{item.description}</p>\r\n                  </div>\r\n                  <StatusBadge variant={item.statusVariant}>{item.status}</StatusBadge>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Card>\r\n          <OperationalHighlightsCard metricsState={metricsState} />\r\n          <CriticalAlertsCard metricsState={metricsState} />\r\n        </section>\r\n        <aside className=\"dashboard__aside\">\r\n          <SectionHeader subtitle=\"Monitorização contínua dos compromissos com parceiros\">\r\n            SLAs críticos dos parceiros\r\n          </SectionHeader>\r\n          {showSlaOfflineBanner && (\r\n            <div className=\"dashboard__offline-banner\" data-testid=\"sla-offline-banner\">\r\n              <StatusBadge variant=\"warning\" tooltip={slaOfflineTooltip}>\r\n                Modo offline\r\n              </StatusBadge>\r\n              <span>{slaState.message ?? 'A mostrar SLAs de referência até restabelecer a ligação.'}</span>\r\n            </div>\r\n          )}\r\n          {showSlaOverview ? (\r\n            <SlaOverview slas={slaState.data} context=\"home\" />\r\n          ) : (\r\n            <Card\r\n              title=\"Monitorização de SLAs\"\r\n              description=\"Acompanhe indicadores de resposta e resolução em tempo real.\"\r\n              accent={fallbackSlaAccent}\r\n            >\r\n              <p>{fallbackSlaMessage}</p>\r\n            </Card>\r\n          )}\r\n          <SectionHeader subtitle=\"Fluxos acompanhados com métricas de adoção e satisfação\">\r\n            Destaques rápidos\r\n          </SectionHeader>\r\n          <div className=\"dashboard__aside-grid\">\r\n            <Card\r\n              title=\"Onboarding acelerado\"\r\n              description=\"80% das equipas concluíram o tour guiado em menos de 5 minutos.\"\r\n              accent=\"info\"\r\n            >\r\n              <ul className=\"dashboard__bullet-list\">\r\n                <li>Checklist de acessibilidade validado na Iteração 2.</li>\r\n                  <li>Artigos &ldquo;Primeiros Passos&rdquo; incluídos no tour contextual.</li>\r\n              </ul>\r\n            </Card>\r\n            <Card\r\n              title=\"Housekeeping conectado\"\r\n              description=\"Sincronização offline validada para 36 quartos na última ronda.\"\r\n              accent=\"success\"\r\n            >\r\n              <ul className=\"dashboard__bullet-list\">\r\n                <li>Alertas críticos resolvidos em média 12 minutos.</li>\r\n                <li>Inventário atualizado automaticamente após reconexão.</li>\r\n              </ul>\r\n            </Card>\r\n          </div>\r\n        </aside>\r\n      </div>\r\n      <style jsx>{`\r\n        .dashboard {\r\n          display: grid;\r\n          gap: var(--space-6);\r\n        }\r\n        .dashboard__layout {\r\n          display: grid;\r\n          grid-template-columns: minmax(0, 2fr) minmax(280px, 1fr);\r\n          gap: var(--space-5);\r\n        }\r\n        .dashboard__main,\r\n        .dashboard__aside {\r\n          display: grid;\r\n          gap: var(--space-5);\r\n        }\r\n        .dashboard__aside-grid {\r\n          display: grid;\r\n          gap: var(--space-4);\r\n        }\r\n        .dashboard__offline-banner {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: var(--space-3);\r\n          padding: var(--space-3) var(--space-4);\r\n          border-radius: var(--radius-sm);\r\n          background: rgba(180, 83, 9, 0.12);\r\n          color: var(--color-calm-gold);\r\n          font-weight: 600;\r\n        }\r\n        .dashboard__offline-banner span {\r\n          color: var(--color-neutral-2);\r\n          font-size: 0.9rem;\r\n        }\r\n        .dashboard__priority-list {\r\n          list-style: none;\r\n          margin: 0;\r\n          padding: 0;\r\n          display: grid;\r\n          gap: var(--space-4);\r\n        }\r\n        .dashboard__priority-list li {\r\n          display: grid;\r\n          grid-template-columns: minmax(0, 1fr) auto;\r\n          align-items: start;\r\n          gap: var(--space-3);\r\n          position: relative;\r\n          padding-left: var(--space-5);\r\n        }\r\n        .dashboard__priority-list li::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: var(--space-2);\r\n          top: var(--space-1);\r\n          bottom: var(--space-1);\r\n          width: 2px;\r\n          background: rgba(37, 99, 235, 0.16);\r\n        }\r\n        .dashboard__priority-list li::after {\r\n          content: '';\r\n          position: absolute;\r\n          left: var(--space-2);\r\n          top: 0.35rem;\r\n          width: 10px;\r\n          height: 10px;\r\n          border-radius: 999px;\r\n          background: var(--color-deep-blue);\r\n          box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.18);\r\n        }\r\n        .dashboard__priority-title {\r\n          font-weight: 600;\r\n          color: var(--color-deep-blue);\r\n        }\r\n        .dashboard__priority-list p {\r\n          margin: 0.35rem 0 0;\r\n          color: var(--color-neutral-2);\r\n        }\r\n        .dashboard__bullet-list {\r\n          margin: 0;\r\n          padding-left: var(--space-5);\r\n          display: grid;\r\n          gap: var(--space-2);\r\n          color: var(--color-neutral-2);\r\n        }\r\n        @media (max-width: 1200px) {\r\n          .dashboard__layout {\r\n            grid-template-columns: minmax(0, 1fr);\r\n          }\r\n        }\r\n        @media (max-width: 768px) {\r\n          .dashboard {\r\n            gap: var(--space-5);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAZA;;;;;;;;;;;;;AAmDA,MAAM,kBAAkB,IAAI,KAAK,YAAY,CAAC;AAC9C,MAAM,mBAAmB,IAAI,KAAK,YAAY,CAAC,SAAS;IACtD,OAAO;IACP,uBAAuB;AACzB;AACA,MAAM,iBAAiB,IAAI,KAAK,YAAY,CAAC,SAAS;IACpD,aAAa;IACb,uBAAuB;AACzB;AACA,MAAM,mBAAmB,IAAI,KAAK,YAAY,CAAC,SAAS;IACtD,uBAAuB;IACvB,uBAAuB;AACzB;AACA,MAAM,uBAAuB,IAAI,KAAK,cAAc,CAAC,SAAS;IAC5D,KAAK;IACL,OAAO;IACP,MAAM;IACN,QAAQ;AACV;AAEA,MAAM,QAAQ,gNAAO,CAAC,QAAQ,CAAC;AAC/B,MAAM,eAAe,MAAM,aAAa,CAAC,0CAA0C;IACjF,aAAa;AACf;AACA,MAAM,qBAAqB,MAAM,eAAe,CAAC,qCAAqC;IACpF,aAAa;AACf;AACA,MAAM,kBAAkB,MAAM,eAAe,CAAC,mCAAmC;IAC/E,aAAa;AACf;AACA,MAAM,oBAAoB,MAAM,eAAe,CAAC,6CAA6C;IAC3F,aAAa;AACf;AACA,MAAM,SAAS,4MAAK,CAAC,SAAS,CAAC;AAE/B,MAAM,aAAa;IACjB;QACE,OAAO;QACP,aAAa;QACb,QAAQ;QACR,eAAe;IACjB;IACA;QACE,OAAO;QACP,aAAa;QACb,QAAQ;QACR,eAAe;IACjB;IACA;QACE,OAAO;QACP,aAAa;QACb,QAAQ;QACR,eAAe;IACjB;CACD;AAED,SAAS,oBAAoB,IAAY;IACvC,IAAI,QAAQ,KAAK;QACf,OAAO;IACT;IACA,IAAI,QAAQ,MAAM;QAChB,OAAO;IACT;IACA,OAAO;AACT;AAEA,SAAS,mBAAmB,IAAY;IACtC,IAAI,QAAQ,KAAK;QACf,OAAO;IACT;IACA,IAAI,QAAQ,KAAK;QACf,OAAO;IACT;IACA,OAAO;AACT;AAEA,SAAS,wBAAwB,MAA4B;IAC3D,MAAM,OAAO,OAAO,IAAI,EAAE,UAAU;IACpC,IAAI,CAAC,MAAM;QACT,OAAO,iBAAiB,MAAM,CAAC,OAAO,KAAK;IAC7C;IACA,IAAI,SAAS,KAAK;QAChB,OAAO,GAAG,iBAAiB,MAAM,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC;IACpD;IACA,OAAO,GAAG,iBAAiB,MAAM,CAAC,OAAO,KAAK,EAAE,CAAC,EAAE,MAAM;AAC3D;AAEA,SAAS,yBAAyB,MAA0B;IAC1D,OAAO,OACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,UAAY,QAAQ,MAAM,CAAC,GAAG,WAAW,KAAK,QAAQ,KAAK,CAAC,IACjE,IAAI,CAAC;AACV;AAEA,SAAS,cAAc,KAA4B;IACjD,IAAI,MAAM,MAAM,KAAK,WAAW;QAC9B,MAAM,UAAU;QAChB,MAAM,UAAU;QAChB,OAAO;YACL;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT;gBACA;gBACA,QAAQ;YACV;YACA;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT;gBACA;gBACA,QAAQ;YACV;YACA;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT;gBACA;gBACA,QAAQ;YACV;SACD;IACH;IAEA,IAAI,MAAM,MAAM,KAAK,SAAS;QAC5B,MAAM,UAAU,MAAM,KAAK,IAAI;QAC/B,MAAM,UAAU;QAChB,OAAO;YACL;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT;gBACA;gBACA,YAAY;gBACZ,mBAAmB;gBACnB,mBAAmB;gBACnB,QAAQ;YACV;YACA;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT;gBACA;gBACA,YAAY;gBACZ,mBAAmB;gBACnB,mBAAmB;gBACnB,QAAQ;YACV;YACA;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT;gBACA;gBACA,YAAY;gBACZ,mBAAmB;gBACnB,mBAAmB;gBACnB,QAAQ;YACV;SACD;IACH;IAEA,IAAI,MAAM,MAAM,KAAK,WAAW,CAAC,MAAM,IAAI,EAAE;QAC3C,MAAM,UACJ,MAAM,QAAQ,IACd;QACF,OAAO;YACL;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT,SAAS;gBACT;gBACA,YAAY;gBACZ,mBAAmB;gBACnB,mBAAmB;gBACnB,QAAQ;YACV;YACA;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT,SAAS;gBACT;gBACA,YAAY;gBACZ,mBAAmB;gBACnB,mBAAmB;gBACnB,QAAQ;YACV;YACA;gBACE,KAAK;gBACL,OAAO;gBACP,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT,SAAS;gBACT;gBACA,YAAY;gBACZ,mBAAmB;gBACnB,mBAAmB;gBACnB,QAAQ;YACV;SACD;IACH;IAEA,MAAM,OAAO,MAAM,IAAI;IACvB,MAAM,mBAAmB,oBAAoB,KAAK,SAAS,CAAC,aAAa;IACzE,MAAM,gBAAgB,KAAK,WAAW,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,aAAa;IAC/E,MAAM,mBAAmB,mBAAmB,KAAK,WAAW,CAAC,gBAAgB,CAAC,YAAY;IAE1F,MAAM,aAAwB;QAC5B;YACE,KAAK;YACL,OAAO;YACP,OAAO;YACP,OAAO,iBAAiB,MAAM,CAAC,KAAK,SAAS,CAAC,aAAa;YAC3D,aAAa,GAAG,KAAK,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC;YAChG,SAAS;YACT,QAAQ;QACV;QACA;YACE,KAAK;YACL,OAAO;YACP,OAAO;YACP,OAAO,gBAAgB,MAAM,CAAC,KAAK,WAAW,CAAC,cAAc,CAAC,KAAK;YACnE,aAAa,GAAG,KAAK,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,EAAE,KAAK,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC;YACxH,SAAS;YACT,QAAQ;QACV;QACA;YACE,KAAK;YACL,OAAO;YACP,OAAO;YACP,OAAO,iBAAiB,MAAM,CAAC,KAAK,WAAW,CAAC,gBAAgB,CAAC,YAAY;YAC7E,aAAa,GAAG,KAAK,WAAW,CAAC,gBAAgB,CAAC,eAAe,CAAC,yCAAyC,CAAC;YAC5G,SAAS;YACT,QAAQ;QACV;KACD;IAED,IAAI,MAAM,UAAU,KAAK,WAAW;QAClC,MAAM,oBACJ,MAAM,QAAQ,IACd;QACF,OAAO,WAAW,GAAG,CAAC,CAAC,OAAS,CAAC;gBAC/B,GAAG,IAAI;gBACP,YAAY;gBACZ,mBAAmB;gBACnB;YACF,CAAC;IACH;IAEA,OAAO;AACT;AAEA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8OAAQ,EAAwB;QACxD,QAAQ;QACR,MAAM;QACN,OAAO;QACP,YAAY;QACZ,UAAU;IACZ;IAEA,IAAA,+OAAS,EAAC;QACR,IAAI,SAAS;QACb,MAAM,aAAa,IAAI;QACvB,MAAM,OAAO,OAAO,SAAS,CAAC,2BAA2B;YACvD,YAAY;gBAAE,UAAU;YAAoB;QAC9C;QACA,IAAI,YAAY;QAEhB,MAAM,UAAU,CAAC;YACf,IAAI,WAAW;gBACb;YACF;YACA,KAAK,YAAY,CAAC,4BAA4B;YAC9C,YAAY;YACZ,KAAK,GAAG;QACV;QAEA,IAAA,+LAAmB,EAAC;YAAE,QAAQ,WAAW,MAAM;QAAC,GAC7C,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,QAAQ;gBACX;YACF;YAEA,MAAM,OAAO,OAAO,IAAI;YACxB,MAAM,UACJ,KAAK,SAAS,CAAC,UAAU,KAAK,KAC9B,KAAK,WAAW,CAAC,cAAc,CAAC,KAAK,KAAK,KAC1C,KAAK,WAAW,CAAC,gBAAgB,CAAC,eAAe,KAAK;YAExD,MAAM,aACJ,OAAO,MAAM,KAAK,aAAa,YAAY,UAAU,YAAY;YACnE,MAAM,SAAqB,UAAU,UAAU;YAC/C,MAAM,WACJ,OAAO,MAAM,KAAK,aACd,OAAO,OAAO,GACd,UACE,0EACA;YAER,SAAS;gBACP;gBACA;gBACA,OAAO;gBACP;gBACA;YACF;YAEA,aAAa,GAAG,CAAC,GAAG;gBAClB,UAAU;gBACV,QAAQ,OAAO,MAAM,KAAK,aAAa,aAAa;YACtD;YACA,mBAAmB,MAAM,CAAC,KAAK,SAAS,CAAC,aAAa,GAAG,KAAK;gBAC5D,QAAQ;YACV;YACA,gBAAgB,MAAM,CAAC,KAAK,WAAW,CAAC,cAAc,CAAC,KAAK,EAAE;gBAC5D,QAAQ;YACV;YACA,kBAAkB,MAAM,CAAC,KAAK,WAAW,CAAC,gBAAgB,CAAC,YAAY,GAAG,KAAK;gBAC7E,QAAQ;YACV;YACA,QAAQ,OAAO,MAAM,KAAK,aAAa,aAAa;QACtD,GACC,KAAK,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ;gBACX;YACF;YAEA,IAAI,iBAAiB,SAAS,MAAM,IAAI,KAAK,cAAc;gBACzD,QAAQ;gBACR;YACF;YAEA,MAAM,UACJ,iBAAiB,sLAAY,GACzB,MAAM,MAAM,IAAI,MACd,oEACA,wDACF;YAEN,IAAI,iBAAiB,OAAO;gBAC1B,KAAK,eAAe,CAAC;YACvB;YAEA,aAAa,GAAG,CAAC,GAAG;gBAAE,UAAU;gBAAqB,QAAQ;YAAQ;YACrE,SAAS;gBACP,QAAQ;gBACR,MAAM;gBACN,OAAO;gBACP,YAAY;gBACZ,UAAU;YACZ;YACA,QAAQ;QACV;QAEF,OAAO;YACL,SAAS;YACT,WAAW,KAAK;YAChB,QAAQ;QACV;IACF,GAAG,EAAE;IAEL,OAAO;AACT;AAEA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8OAAQ,EAAkB;QAClD,QAAQ;QACR,MAAM,EAAE;QACR,SAAS;QACT,MAAM;IACR;IAEA,IAAA,+OAAS,EAAC;QACR,IAAI,SAAS;QACb,MAAM,aAAa,IAAI;QAEvB,IAAA,yLAAc,EAAC;YAAE,QAAQ,WAAW,MAAM;QAAC,GACxC,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,QAAQ;gBACX;YACF;YACA,MAAM,QAAQ,OAAO,IAAI;YACzB,MAAM,UAAU,MAAM,MAAM,GAAG;YAC/B,IAAI,CAAC,SAAS;gBACZ,SAAS;oBACP,QAAQ;oBACR,MAAM,EAAE;oBACR,SACE,OAAO,MAAM,KAAK,aACd,OAAO,OAAO,GACd;oBACN,MAAM;gBACR;gBACA;YACF;YACA,SAAS;gBACP,QAAQ;gBACR,MAAM;gBACN,SAAS,OAAO,MAAM,KAAK,aAAa,OAAO,OAAO,GAAG;gBACzD,MAAM,OAAO,MAAM,KAAK,aAAa,YAAY;YACnD;QACF,GACC,KAAK,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ;gBACX;YACF;YACA,IAAI,iBAAiB,SAAS,MAAM,IAAI,KAAK,cAAc;gBACzD;YACF;YAEA,IAAI,iBAAiB,sLAAY,EAAE;gBACjC,MAAM,UACJ,MAAM,MAAM,IAAI,MACZ,gEACA;gBACN,SAAS;oBAAE,QAAQ;oBAAS,MAAM,EAAE;oBAAE;oBAAS,MAAM;gBAAK;gBAC1D;YACF;YAEA,SAAS;gBACP,QAAQ;gBACR,MAAM,EAAE;gBACR,SAAS;gBACT,MAAM;YACR;QACF;QAEF,OAAO;YACL,SAAS;YACT,WAAW,KAAK;QAClB;IACF,GAAG,EAAE;IAEL,OAAO;AACT;AAEA,SAAS,cAAc,EACrB,YAAY,EACZ,IAAI,EAIL;IACC,MAAM,OAAO,aAAa,IAAI;IAC9B,MAAM,QAAQ,OACV;QACE;YACE,OAAO;YACP,OAAO,gBAAgB,MAAM,CAAC,KAAK,SAAS,CAAC,UAAU;YACvD,MAAM,GAAG,gBAAgB,MAAM,CAAC,KAAK,SAAS,CAAC,aAAa,EAAE,cAAc,CAAC;QAC/E;QACA;YACE,OAAO;YACP,OAAO,gBAAgB,MAAM,CAAC,KAAK,WAAW,CAAC,gBAAgB,CAAC,gBAAgB;YAChF,MAAM,GAAG,gBAAgB,MAAM,CAAC,KAAK,WAAW,CAAC,gBAAgB,CAAC,eAAe,EAAE,6BAA6B,CAAC;QACnH;QACA;YACE,OAAO;YACP,OAAO,gBAAgB,MAAM,CAAC,KAAK,GAAG,CAAC,KAAK;YAC5C,MACE,KAAK,GAAG,CAAC,OAAO,KAAK,OACjB,GAAG,gBAAgB,MAAM,CAAC,KAAK,GAAG,CAAC,cAAc,EAAE,8BAA8B,CAAC,GAClF,GAAG,gBAAgB,MAAM,CAAC,KAAK,GAAG,CAAC,cAAc,EAAE,aAAa,EAAE,eAAe,MAAM,CACrF,KAAK,GAAG,CAAC,OAAO,EAChB,cAAc,CAAC;QACzB;KACD,GACD;QACE;YACE,OAAO;YACP,OACE,aAAa,MAAM,KAAK,YACpB,mBACA,aAAa,MAAM,KAAK,UACtB,oBACA,aAAa,UAAU,KAAK,YAC1B,iBACA;YACV,MACE,aAAa,QAAQ,IACrB,CAAC,aAAa,MAAM,KAAK,UACrB,aAAa,KAAK,IAAI,wCACtB,8DAA8D;QACtE;KACD;IAEL,MAAM,mBAAmB,CAAC;QACxB,IAAI;QACJ,IAAI,IAAI,KAAK,KAAK,SAAS;YACzB,qBACE,2QAAC;gBAAO,WAAU;gBAA4B,eAAa,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC;0BAC7E,IAAI,KAAK;;;;;;QAGhB,OAAO;YACL,MAAM,SAAS,IAAI,KAAK,KAAK,YAAY,YAAY,IAAI,KAAK,KAAK,UAAU,UAAU;YACvF,qBACE,2QAAC;gBACC,WAAU;gBACV,eAAa,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,QAAQ;gBACtC,OAAO,IAAI,OAAO,IAAI;0BAErB,IAAI,OAAO;;;;;;QAGlB;QAEA,qBACE,2QAAC;YAAI,WAAU;;gBACZ;gBACA,IAAI,UAAU,iBACb,2QAAC;oBACC,WAAW,CAAC,+DAA+D,EAAE,IAAI,iBAAiB,IAAI,QAAQ;oBAC9G,eAAa,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC;oBACvC,OAAO,IAAI,iBAAiB,IAAI,IAAI,OAAO,IAAI;8BAE9C,IAAI,UAAU;;;;;2BAEf;;;;;;;IAGV;IAEA,MAAM,mBACJ,aAAa,MAAM,KAAK,aACxB,aAAa,MAAM,KAAK,WACxB,aAAa,UAAU,KAAK,aAC3B,aAAa,UAAU,KAAK,aAAa,aAAa,MAAM,KAAK;IAEpE,MAAM,wBACJ,aAAa,MAAM,KAAK,WAAW,aAAa,UAAU,KAAK;IAEjE,qBACE,2QAAC;kDAAkB;;0BACjB,2QAAC;0DAAc;;oBACZ,kCACC,2QAAC;wBAA8C,eAAY;kEAA5C;;4BACZ,aAAa,MAAM,KAAK,2BACvB,2QAAC,2LAAW;gCAAC,SAAQ;gCAAO,SAAQ;0CAAqC;;;;;;4BAI1E,aAAa,MAAM,KAAK,yBACvB,2QAAC,2LAAW;gCACV,SAAQ;gCACR,SACE,aAAa,KAAK,IAAI;0CAEzB;;;;;;4BAIF,aAAa,UAAU,KAAK,2BAC3B,2QAAC,2LAAW;gCACV,SAAQ;gCACR,SACE,aAAa,QAAQ,IAAI;0CAE5B;;;;;;4BAIF,aAAa,UAAU,KAAK,aAAa,aAAa,MAAM,KAAK,yBAChE,2QAAC,2LAAW;gCACV,SAAQ;gCACR,SACE,aAAa,QAAQ,IAAI;0CAE5B;;;;;;;;;;;;kCAMP,2QAAC;kEAAe;kCAAsB;;;;;;kCACtC,2QAAC;;kCAAG;;;;;;kCACJ,2QAAC;;kCAAE;;;;;;kCAGH,2QAAC;kEAAc;;0CACb,2QAAC;gCAAO,MAAK;0EAAmB;0CAAyD;;;;;;0CAGzF,2QAAC;gCAAO,MAAK;0EAAmB;0CAA2D;;;;;;;;;;;;kCAI7F,2QAAC;kEAAa;kCACX,MAAM,GAAG,CAAC,CAAC,qBACV,2QAAC;0EAA+B;;kDAC9B,2QAAC;;kDAAI,KAAK,KAAK;;;;;;kDACf,2QAAC;;kDAAI,KAAK,KAAK;;;;;;kDACf,2QAAC;;kDAAM,KAAK,IAAI;;;;;;;+BAHR,KAAK,KAAK;;;;;;;;;;oBAOvB,uCACC,2QAAC;wBAAyC,eAAY;kEAAvC;;0CACb,2QAAC;;0CAAO;;;;;;0CACR,2QAAC;;0CAAG,aAAa,QAAQ,IAAI;;;;;;0CAC7B,2QAAC;;;kDACC,2QAAC;;;4CAAG;0DACM,2QAAC;gDAAE,MAAK;;0DAAyB;;;;;;4CAAkC;;;;;;;kDAE7E,2QAAC;;kDAAG;;;;;;kDACJ,2QAAC;;kDAAG;;;;;;;;;;;;;;;;;;;;;;;;0BAKZ,2QAAC;0DAAc;;kCACb,2QAAC;kEAAc;kCACZ,KAAK,GAAG,CAAC,CAAC,oBACT,2QAAC;gCAGC,gBAAc,IAAI,OAAO;gCACzB,cAAY,IAAI,KAAK;0EAFX;;kDAIV,2QAAC;kFAAe;kDAA6B,IAAI,KAAK;;;;;;oCACrD,iBAAiB;kDAClB,2QAAC;;kDAAG,IAAI,WAAW;;;;;;;+BAPd,IAAI,GAAG;;;;;;;;;;kCAWlB,2QAAC,+LAAY;;;;;;;;;;;;;;;;;;;;;AA4NrB;AAEA,SAAS,0BAA0B,EAAE,YAAY,EAA2C;IAC1F,IAAI,aAAa,MAAM,KAAK,WAAW;QACrC,qBACE,2QAAC,6KAAI;YACH,OAAM;YACN,aAAY;YACZ,QAAO;sBAEP,cAAA,2QAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,IAAI,aAAa,MAAM,KAAK,SAAS;QACnC,qBACE,2QAAC,6KAAI;YACH,OAAM;YACN,aAAY;YACZ,QAAO;sBAEP,cAAA,2QAAC;0BAAG,aAAa,KAAK;;;;;;;;;;;IAG5B;IAEA,MAAM,OAAO,aAAa,IAAI;IAC9B,IAAI,CAAC,MAAM;QACT,qBACE,2QAAC,6KAAI;YACH,OAAM;YACN,aAAY;YACZ,QAAO;sBAEP,cAAA,2QAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,MAAM,QACJ,KAAK,GAAG,CAAC,OAAO,KAAK,OACjB,uCACA,GAAG,eAAe,MAAM,CAAC,KAAK,GAAG,CAAC,OAAO,EAAE,kBAAkB,CAAC;IAEpE,MAAM,QAAQ;QACZ;YACE,OAAO;YACP,OAAO,gBAAgB,MAAM,CAAC,KAAK,GAAG,CAAC,KAAK;YAC5C,QAAQ,GAAG,gBAAgB,MAAM,CAAC,KAAK,GAAG,CAAC,cAAc,EAAE,aAAa,EAAE,OAAO;QACnF;QACA;YACE,OAAO,KAAK,WAAW,CAAC,0BAA0B,CAAC,IAAI;YACvD,OAAO,wBAAwB,KAAK,WAAW,CAAC,0BAA0B;YAC1E,QACE,KAAK,WAAW,CAAC,0BAA0B,CAAC,MAAM,IAAI;QAC1D;QACA;YACE,OAAO,KAAK,WAAW,CAAC,cAAc,CAAC,IAAI;YAC3C,OAAO,wBAAwB,KAAK,WAAW,CAAC,cAAc;YAC9D,QACE,KAAK,WAAW,CAAC,cAAc,CAAC,MAAM,IAAI;QAC9C;KACD;IAED,qBACE,2QAAC,6KAAI;QACH,OAAM;QACN,aAAY;QACZ,QAAO;;0BAEP,2QAAC;0DAAa;0BACX,MAAM,GAAG,CAAC,CAAC,qBACV,2QAAC;;;0CACC,2QAAC;;0CAAI,KAAK,KAAK;;;;;;0CACf,2QAAC;;0CAAI,KAAK,KAAK;;;;;;0CACf,2QAAC;;0CAAM,KAAK,MAAM;;;;;;;uBAHV,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;AAqC9B;AAEA,SAAS,mBAAmB,EAAE,YAAY,EAA2C;IACnF,IAAI,aAAa,MAAM,KAAK,WAAW;QACrC,qBACE,2QAAC,6KAAI;YACH,OAAM;YACN,aAAY;YACZ,QAAO;sBAEP,cAAA,2QAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,IAAI,aAAa,MAAM,KAAK,SAAS;QACnC,qBACE,2QAAC,6KAAI;YACH,OAAM;YACN,aAAY;YACZ,QAAO;sBAEP,cAAA,2QAAC;0BAAG,aAAa,KAAK;;;;;;;;;;;IAG5B;IAEA,MAAM,OAAO,aAAa,IAAI;IAC9B,IAAI,CAAC,QAAQ,KAAK,WAAW,CAAC,cAAc,CAAC,KAAK,KAAK,GAAG;QACxD,qBACE,2QAAC,6KAAI;YACH,OAAM;YACN,aAAY;YACZ,QAAO;sBAEP,cAAA,2QAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,MAAM,WAAW,KAAK,WAAW,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG;IAEnE,qBACE,2QAAC,6KAAI;QACH,OAAO,CAAC,kBAAkB,EAAE,gBAAgB,MAAM,CAAC,KAAK,WAAW,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC;QAC5F,aAAY;QACZ,QAAO;;0BAEP,2QAAC;0DAAa;0BACX,SAAS,GAAG,CAAC,CAAC,wBACb,2QAAC;;;0CACC,2QAAC;0EAAc;;kDACb,2QAAC;kFAAe;kDAA2B,yBAAyB,QAAQ,MAAM;;;;;;kDAClF,2QAAC;wCAAK,UAAU,QAAQ,aAAa;kFAAY;kDAC9C,qBAAqB,MAAM,CAAC,IAAI,KAAK,QAAQ,aAAa;;;;;;;;;;;;0CAG/D,2QAAC;;;oCAAE;oCAAU,QAAQ,UAAU;oCAAC;oCAAW,QAAQ,MAAM;;;;;;;;uBAPlD,QAAQ,MAAM;;;;;;;;;;0BAW3B,2QAAC;0DAAY;;oBACV,KAAK,WAAW,CAAC,cAAc,CAAC,OAAO;oBAAC;oBAAc,KAAK,WAAW,CAAC,cAAc,CAAC,OAAO;oBAAC;;;;;;;;;;;;;;;;;AAgDvG;AAEe,SAAS;IACtB,MAAM,eAAe;IACrB,MAAM,WAAW;IACjB,MAAM,OAAO,IAAA,6OAAO,EAAC,IAAM,cAAc,eAAe;QAAC;KAAa;IAEtE,MAAM,kBAAkB,SAAS,MAAM,KAAK,aAAa,SAAS,IAAI,CAAC,MAAM,GAAG;IAChF,MAAM,uBAAuB,SAAS,IAAI,KAAK;IAC/C,MAAM,oBACJ,SAAS,OAAO,IAAI;IACtB,MAAM,qBACJ,SAAS,OAAO,IAChB,CAAC,SAAS,MAAM,KAAK,YACjB,qCACA,+BAA+B;IACrC,MAAM,oBACJ,SAAS,MAAM,KAAK,UAChB,aACA,SAAS,MAAM,KAAK,YAClB,SACA,SAAS,IAAI,KAAK,YAChB,YACA;IAEV,qBACE,2QAAC;kDAAc;;0BACb,2QAAC;gBAAc,cAAc;gBAAc,MAAM;;;;;;0BACjD,2QAAC;0DAAc;;kCACb,2QAAC;kEAAkB;;0CACjB,2QAAC,mMAAa;gCAAC,UAAS;0CAAqD;;;;;;0CAG7E,2QAAC,6KAAI;gCACH,OAAM;gCACN,aAAY;gCACZ,QAAO;0CAEP,cAAA,2QAAC;8EAAa;8CACX,WAAW,GAAG,CAAC,CAAC,qBACf,2QAAC;;;8DACC,2QAAC;;;sEACC,2QAAC;sGAAe;sEAA6B,KAAK,KAAK;;;;;;sEACvD,2QAAC;;sEAAG,KAAK,WAAW;;;;;;;;;;;;8DAEtB,2QAAC,2LAAW;oDAAC,SAAS,KAAK,aAAa;8DAAG,KAAK,MAAM;;;;;;;2CAL/C,KAAK,KAAK;;;;;;;;;;;;;;;0CAUzB,2QAAC;gCAA0B,cAAc;;;;;;0CACzC,2QAAC;gCAAmB,cAAc;;;;;;;;;;;;kCAEpC,2QAAC;kEAAgB;;0CACf,2QAAC,mMAAa;gCAAC,UAAS;0CAAwD;;;;;;4BAG/E,sCACC,2QAAC;gCAA0C,eAAY;0EAAxC;;kDACb,2QAAC,2LAAW;wCAAC,SAAQ;wCAAU,SAAS;kDAAmB;;;;;;kDAG3D,2QAAC;;kDAAM,SAAS,OAAO,IAAI;;;;;;;;;;;;4BAG9B,gCACC,2QAAC,6LAAW;gCAAC,MAAM,SAAS,IAAI;gCAAE,SAAQ;;;;;qDAE1C,2QAAC,6KAAI;gCACH,OAAM;gCACN,aAAY;gCACZ,QAAQ;0CAER,cAAA,2QAAC;;8CAAG;;;;;;;;;;;0CAGR,2QAAC,mMAAa;gCAAC,UAAS;0CAA0D;;;;;;0CAGlF,2QAAC;0EAAc;;kDACb,2QAAC,6KAAI;wCACH,OAAM;wCACN,aAAY;wCACZ,QAAO;kDAEP,cAAA,2QAAC;sFAAa;;8DACZ,2QAAC;;8DAAG;;;;;;8DACF,2QAAC;;8DAAG;;;;;;;;;;;;;;;;;kDAGV,2QAAC,6KAAI;wCACH,OAAM;wCACN,aAAY;wCACZ,QAAO;kDAEP,cAAA,2QAAC;sFAAa;;8DACZ,2QAAC;;8DAAG;;;;;;8DACJ,2QAAC;;8DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGpB","debugId":null}}]
}