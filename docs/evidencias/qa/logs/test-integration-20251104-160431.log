[test-integration] Iniciando suíte de testes de integração
[test-integration] Executando pytest -m integration
===================================================== test session starts ======================================================
platform linux -- Python 3.12.10, pytest-8.4.2, pluggy-1.6.0
rootdir: /workspace/Bmad-Method-v3
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.11.0, pactman-2.31.0, cov-7.0.0
collected 114 items / 99 deselected / 15 selected

tests/integration/test_authentication.py ...                                                                             [ 20%]
tests/integration/test_bundle_usage_api.py .                                                                             [ 26%]
tests/integration/test_core_api.py ...                                                                                   [ 46%]
tests/integration/test_governance_api.py ..                                                                              [ 60%]
tests/integration/test_observability_smoke.py .                                                                          [ 66%]
tests/integration/test_payments_gateway.py .                                                                             [ 73%]
tests/integration/test_privacy_controls.py ...                                                                           [ 93%]
tests/integration/test_reservations_reconciliation.py .                                                                  [100%]

--------------------- generated xml file: /workspace/Bmad-Method-v3/artifacts/junit/integration-tests.xml ----------------------
======================================================== tests coverage ========================================================
_______________________________________ coverage: platform linux, python 3.12.10-final-0 _______________________________________

Name                                            Stmts   Miss  Cover
-------------------------------------------------------------------
quality/privacy.py                                 71     13    82%
services/core/__init__.py                           0      0   100%
services/core/aiops/__init__.py                     5      0   100%
services/core/aiops/detector.py                    99     70    29%
services/core/aiops/monitoring.py                  55     33    40%
services/core/aiops/repository.py                  53     29    45%
services/core/aiops/training.py                    46     30    35%
services/core/analytics/__init__.py                 4      0   100%
services/core/analytics/ingestion/__init__.py       4      0   100%
services/core/analytics/ingestion/delta.py         44     23    48%
services/core/analytics/ingestion/kafka.py         64      4    94%
services/core/analytics/ingestion/pipeline.py      29     13    55%
services/core/analytics/pipelines.py               69     33    52%
services/core/analytics/query.py                  150    118    21%
services/core/analytics/reports.py                135     76    44%
services/core/api/__init__.py                       0      0   100%
services/core/api/graphql.py                      145     31    79%
services/core/api/partners.py                      78     28    64%
services/core/api/rest.py                         680    258    62%
services/core/api/webhooks.py                      99     86    13%
services/core/automation.py                       120     54    55%
services/core/communications/__init__.py          159     88    45%
services/core/config.py                           123     45    63%
services/core/database.py                          35      1    97%
services/core/domain/__init__.py                    0      0   100%
services/core/domain/agents.py                     96     36    62%
services/core/domain/models.py                    521     19    96%
services/core/domain/playbooks.py                  44     14    68%
services/core/domain/schemas.py                   754      0   100%
services/core/events/__init__.py                  161     60    63%
services/core/extensions/__init__.py                5      5     0%
services/core/extensions/manifest.py               67     67     0%
services/core/extensions/permissions.py            23     23     0%
services/core/extensions/runtime.py                66     66     0%
services/core/extensions/sandbox.py                36     36     0%
services/core/feedback.py                          42     21    50%
services/core/inventory/__init__.py                74     37    50%
services/core/knowledge_base/__init__.py            9      0   100%
services/core/knowledge_base/data.py                5      0   100%
services/core/knowledge_base/models.py             38      5    87%
services/core/knowledge_base/repository.py         50     21    58%
services/core/localization.py                      75     41    45%
services/core/main.py                              28      1    96%
services/core/marketplace/__init__.py               5      0   100%
services/core/marketplace/contracts.py             66      6    91%
services/core/marketplace/sandbox.py               26     12    54%
services/core/marketplace/service.py               58     37    36%
services/core/marketplace/throttling.py            33     16    52%
services/core/metrics.py                          233    103    56%
services/core/notifications.py                     92     48    48%
services/core/observability.py                    221     17    92%
services/core/ota_sync/__init__.py                149    105    30%
services/core/owners/__init__.py                  135     54    60%
services/core/payments/__init__.py                220    147    33%
services/core/payments/partners.py                 55     18    67%
services/core/pricing/__init__.py                 141    106    25%
services/core/recommendations/__init__.py           2      0   100%
services/core/recommendations/engine.py           154    103    33%
services/core/security/__init__.py                246     74    70%
services/core/security/auth.py                    238     25    89%
services/core/services/__init__.py                560    344    39%
services/core/services/automation.py               24     12    50%
services/core/services/bundles.py                 143     23    84%
services/core/services/knowledge_base.py           64     47    27%
services/core/services/partners.py                 76      8    89%
services/core/storage.py                           49     22    55%
services/core/tenancy/__init__.py                   3      0   100%
services/core/tenancy/bootstrap.py                 12      0   100%
services/core/tenancy/manager.py                  145     34    77%
services/core/tenancy/migrations.py                24      3    88%
services/identity/__init__.py                       2      0   100%
services/identity/api.py                          120     65    46%
services/identity/main.py                          18      0   100%
services/identity/models.py                        16      0   100%
services/identity/repositories.py                  87     53    39%
services/identity/schemas.py                       30      0   100%
services/identity/service.py                       20      9    55%
-------------------------------------------------------------------
TOTAL                                            7828   2976    62%
Coverage XML written to file /workspace/Bmad-Method-v3/artifacts/coverage/integration-coverage.xml
============================================== 15 passed, 99 deselected in 31.55s ==============================================
